/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function l(a,b){function c(){}c.prototype=a;var f=new c,d;for(d in b)f[d]=b[d];b.toString!==Object.prototype.toString&&(f.toString=b.toString);return f}function Sg(a){return a instanceof Array?function(){return A.iter(a)}:"function"==typeof a.iterator?e(a,a.iterator):a.iterator}function e(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Wg++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var g={},p=function(){return ia.__string_rec(this,"")},tb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};g.EReg=tb;tb.__name__=["EReg"];tb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:tb};var A=function(){};g.HxOverrides=A;A.__name__=["HxOverrides"];A.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),f=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>f?"0"+f:""+f)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};A.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};A.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};A.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};A.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;
a.splice(c,1);return!0};A.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var vc=function(){};g.Lambda=vc;vc.__name__=["Lambda"];vc.array=function(a){for(var b=[],a=Sg(a)();a.hasNext();){var c=a.next();b.push(c)}return b};vc.count=function(a,b){var c=0;if(null==b)for(var f=Sg(a)();f.hasNext();)f.next(),c++;else for(f=Sg(a)();f.hasNext();){var d=f.next();b(d)&&c++}return c};var bc=function(){this.length=0};g.List=
bc;bc.__name__=["List"];bc.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},pop:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];null==this.h&&(this.q=null);this.length--;return a},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:bc};var Zf=function(){};g.IMap=Zf;Zf.__name__=["IMap"];Math.__name__=["Math"];var $=
function(){};g.Reflect=$;$.__name__=["Reflect"];$.field=function(a,b){try{return a[b]}catch(c){return null}};$.setField=function(a,b,c){a[b]=c};$.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,f;for(f in a)"__id__"!=f&&"hx__closures__"!=f&&c.call(a,f)&&b.push(f)}return b};$.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};$.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__||"function"==
b&&null!=(a.__name__||a.__ename__)};$.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var C=function(){};g.Std=C;C.__name__=["Std"];C.is=function(a,b){return ia.__instanceof(a,b)};C.instance=function(a,b){return a instanceof b?a:null};C.string=function(a){return ia.__string_rec(a,"")};C["int"]=function(a){return a|0};C.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==A.cca(a,1)||88==A.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};C.parseFloat=
function(a){return parseFloat(a)};var Pb=function(){this.b=""};g.StringBuf=Pb;Pb.__name__=["StringBuf"];Pb.prototype={add:function(a){this.b+=C.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+A.substr(a,b,null):this.b+A.substr(a,b,c)},__class__:Pb};var X=function(){};g.StringTools=X;X.__name__=["StringTools"];X.startsWith=function(a,b){return a.length>=b.length&&A.substr(a,0,b.length)==b};X.isSpace=function(a,b){var c=A.cca(a,b);return 8<c&&14>c||32==c};X.ltrim=function(a){for(var b=a.length,
c=0;c<b&&X.isSpace(a,c);)c++;return 0<c?A.substr(a,c,b-c):a};X.rtrim=function(a){for(var b=a.length,c=0;c<b&&X.isSpace(a,b-c-1);)c++;return 0<c?A.substr(a,0,b-c):a};X.trim=function(a){return X.ltrim(X.rtrim(a))};X.fastCodeAt=function(a,b){return a.charCodeAt(b)};var D=g.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};D.TNull=["TNull",0];D.TNull.toString=p;D.TNull.__enum__=D;D.TInt=["TInt",1];D.TInt.toString=p;D.TInt.__enum__=
D;D.TFloat=["TFloat",2];D.TFloat.toString=p;D.TFloat.__enum__=D;D.TBool=["TBool",3];D.TBool.toString=p;D.TBool.__enum__=D;D.TObject=["TObject",4];D.TObject.toString=p;D.TObject.__enum__=D;D.TFunction=["TFunction",5];D.TFunction.toString=p;D.TFunction.__enum__=D;D.TClass=function(a){a=["TClass",6,a];a.__enum__=D;a.toString=p;return a};D.TEnum=function(a){a=["TEnum",7,a];a.__enum__=D;a.toString=p;return a};D.TUnknown=["TUnknown",8];D.TUnknown.toString=p;D.TUnknown.__enum__=D;var aa=function(){};g.Type=
aa;aa.__name__=["Type"];aa.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?Array:a.__class__};aa.getClassName=function(a){return a.__name__.join(".")};aa.getEnumName=function(a){return a.__ename__.join(".")};aa.resolveClass=function(a){a=g[a];return null==a||!a.__name__?null:a};aa.resolveEnum=function(a){a=g[a];return null==a||!a.__ename__?null:a};aa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);
case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};aa.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};aa.createEnum=function(a,b,c){var f=$.field(a,b);if(null==f)throw"No such constructor "+
b;if($.isFunction(f)){if(null==c)throw"Constructor "+b+" need parameters";return f.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return f};aa.getEnumConstructs=function(a){return a.__constructs__.slice()};aa["typeof"]=function(a){switch(typeof a){case "boolean":return D.TBool;case "string":return D.TClass(String);case "number":return Math.ceil(a)==a%2147483648?D.TInt:D.TFloat;case "object":if(null==a)return D.TNull;var b=a.__enum__;if(null!=b)return D.TEnum(b);
a=a instanceof Array&&null==a.__enum__?Array:a.__class__;return null!=a?D.TClass(a):D.TObject;case "function":return a.__name__||a.__ename__?D.TObject:D.TFunction;case "undefined":return D.TNull;default:return D.TUnknown}};g.XmlType={__ename__:["XmlType"],__constructs__:[]};var w=function(){};g.Xml=w;w.__name__=["Xml"];w.parse=function(a){return Ab.parse(a)};w.createElement=function(a){var b=new w;b.nodeType=w.Element;b._children=[];b._attributes=new S;b.set_nodeName(a);return b};w.createPCData=function(a){var b=
new w;b.nodeType=w.PCData;b.set_nodeValue(a);return b};w.createCData=function(a){var b=new w;b.nodeType=w.CData;b.set_nodeValue(a);return b};w.createComment=function(a){var b=new w;b.nodeType=w.Comment;b.set_nodeValue(a);return b};w.createDocType=function(a){var b=new w;b.nodeType=w.DocType;b.set_nodeValue(a);return b};w.createProcessingInstruction=function(a){var b=new w;b.nodeType=w.ProcessingInstruction;b.set_nodeValue(a);return b};w.createDocument=function(){var a=new w;a.nodeType=w.Document;
a._children=[];return a};w.prototype={get_nodeName:function(){if(this.nodeType!=w.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=w.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==w.Element||this.nodeType==w.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==w.Element||this.nodeType==w.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=
w.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,b){if(this.nodeType!=w.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=w.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";
return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var f=this.x[b];if(f.nodeType==w.Element&&f._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var f=this.x[b];b++;if(f.nodeType==w.Element&&f._nodeName==a)return this.cur=b,f}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==w.Element)return c;
a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&A.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:w};var ob=function(){};g["flambe.util.Disposable"]=ob;ob.__name__=["flambe","util","Disposable"];ob.prototype={__class__:ob};var h=function(){this._flags=0;this.owner=this.next=null};g["flambe.Component"]=h;h.__name__=["flambe","Component"];h.__interfaces__=[ob];h.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},
onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:h};var R=function(){h.call(this);this._disposables=[]};g["flambe.Disposer"]=R;R.__name__=["flambe","Disposer"];R.__super__=h;R.prototype=l(h.prototype,{get_name:function(){return"Disposer_49"},add:function(a){this._disposables.push(a);return this},connect0:function(a,b){this.add(a.connect(b));return this},connect1:function(a,b){this.add(a.connect(b));return this},
connect2:function(a,b){this.add(a.connect(b));return this},onRemoved:function(){this.freeDisposables()},dispose:function(){h.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:R});var k=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};g["flambe.Entity"]=k;k.__name__=["flambe","Entity"];k.__interfaces__=[ob];k.prototype=
{add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var f=c.next;if(c==a)return null==b?this.firstComponent=f:(b.owner=this,b.next=f),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),
c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=f}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,f=this.firstChild;null!=f;)c=f,f=f.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var f=c.next;if(c==a){null==b?this.firstChild=f:b.next=f;c.parent=null;c.next=null;break}b=c;c=f}},disposeChildren:function(){for(;null!=
this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},_internal_getFromParents:function(a,b){var c=this;do{var f=c._compMap[a];null!=b&&!(f instanceof b)&&(f=null);if(null!=f)return f;c=c.parent}while(null!=c);return null},_internal_getFromChildren:function(a,b){var c=this._compMap[a];null!=b&&!(c instanceof b)&&(c=null);if(null!=c)return c;for(c=this.firstChild;null!=
c;){var f=c._internal_getFromChildren(a,b);if(null!=f)return f;c=c.next}return null},__class__:k};var Kg=function(){};g["flambe.util.PackageLog"]=Kg;Kg.__name__=["flambe","util","PackageLog"];var $f=function(){};g["flambe.platform.Platform"]=$f;$f.__name__=["flambe","platform","Platform"];$f.prototype={__class__:$f};var Bb=function(){};g["flambe.platform.html.HtmlPlatform"]=Bb;Bb.__name__=["flambe","platform","html","HtmlPlatform"];Bb.__interfaces__=[$f];Bb.prototype={init:function(){var a=this;I.fixAndroidMath();
var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new Wc(b);this._pointer=new za;this._mouse=new Xc(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new cc;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction=
"none";var f=0,d=function(c){if(!(1E3>c.timeStamp-f)){var d=b.getBoundingClientRect(),e=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(e,d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,d);break;case "mouseup":a._mouse.submitUp(e,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",
d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||d){var g=new Yc(this._pointer,e?4:window.navigator.msMaxTouchPoints);this._touch=g;d=function(b){var c;c=e?b.changedTouches:[b];var d=b.target.getBoundingClientRect();
f=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();I.SHOULD_HIDE_MOBILE_BROWSER&&I.hideMobileBrowser();for(b=0;b<c.length;){var Za=c[b];++b;var i=a.getX(Za,d),h=a.getY(Za,d);g.submitDown((e?Za.identifier:Za.pointerId)|0,i,h)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)Za=c[b],++b,i=a.getX(Za,d),h=a.getY(Za,d),g.submitMove((e?Za.identifier:Za.pointerId)|0,i,h);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=
0;b<c.length;)Za=c[b],++b,i=a.getX(Za,d),h=a.getY(Za,d),g.submitUp((e?Za.identifier:Za.pointerId)|0,i,h)}};e?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new Zc;var i=window.onerror;window.onerror=function(a,b,c){t.uncaughtError.emit(a);return null!=i?i(a,
b,c):!1};var h=I.loadExtension("hidden",window.document);null!=h.value?(d=function(){t.hidden.set__($.field(window.document,h.field))},d(null),window.document.addEventListener(h.prefix+"visibilitychange",d,!1)):(d=function(a){t.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1));t.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var j=I.loadExtension("requestAnimationFrame").value;
if(null!=j){var k=window.performance,l=null!=k&&I.polyfill("now",k);l?this._lastUpdate=k.now():null;var m=null,m=function(c){a.update(l?k.now():c);j(m,b)};j(m,b)}else window.setInterval(function(){a.update(Date.now())},16);wc.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new P(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=Lg.getLocalStorage();this._storage=null!=a?new $c(a):
new ad}return this._storage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;t.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new ib;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};
this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getExternal:function(){null==this._external&&(this._external=new bd);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){try{var b=Mg.getContextWebGL(a,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});
if(null!=b)if(I.detectSlowDriver(b))null;else return new cd(this._stage,b)}catch(c){}return new dc(a)},__class__:Bb};var Aa=function(a,b){this._value=a;this._changed=null!=b?new ub(b):null};g["flambe.util.Value"]=Aa;Aa.__name__=["flambe","util","Value"];Aa.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},
get_changed:function(){null==this._changed&&(this._changed=new ub);return this._changed},__class__:Aa};var ec=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};g["flambe.util.SignalConnection"]=ec;ec.__name__=["flambe","util","SignalConnection"];ec.__interfaces__=[ob];ec.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:ec};var ra=function(a){this._head=null!=
a?new ec(this,a):null;this._deferredTasks=null};g["flambe.util.SignalBase"]=ra;ra.__name__=["flambe","util","SignalBase"];ra.prototype={connectImpl:function(a,b){var c=this,f=new ec(this,a);this._head==ra.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(f,b)}):this.listAdd(f,b);return f},disconnect:function(a){var b=this;this._head==ra.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=
new ag(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=ra.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,f=this._head;null!=f;)c=f,f=f._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;
break}b=c;c=c._next}},__class__:ra};var ub=function(a){ra.call(this,a)};g["flambe.util.Signal2"]=ub;ub.__name__=["flambe","util","Signal2"];ub.__super__=ra;ub.prototype=l(ra.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==ra.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),f=c;null!=f;)f._listener(a,b),f.stayInList||f.dispose(),f=f._next;this.didEmit(c)},
__class__:ub});var E=function(a){ra.call(this,a)};g["flambe.util.Signal1"]=E;E.__name__=["flambe","util","Signal1"];E.__super__=ra;E.prototype=l(ra.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==ra.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:E});var ca=function(a,
b){this._behavior=null;Aa.call(this,a,b)};g["flambe.animation.AnimatedFloat"]=ca;ca.__name__=["flambe","animation","AnimatedFloat"];ca.__super__=Aa;ca.prototype=l(Aa.prototype,{set__:function(a){this._behavior=null;return Aa.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(Aa.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(a,b,c){this.set_behavior(new jb(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new jb(this._value,
this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:ca});var t=function(){};g["flambe.System"]=t;t.__name__=["flambe","System"];t.init=function(){t._calledInit||(t._platform.init(),t._calledInit=!0)};t.loadAssetPack=function(a){return t._platform.loadAssetPack(a)};var wc=function(){};g["flambe.Log"]=wc;wc.__name__=["flambe","Log"];wc.info=function(){null};wc.__super__=Kg;wc.prototype=l(Kg.prototype,{__class__:wc});var Qb=function(a){null==a&&(a=1);this._realDt=
0;h.call(this);this.scale=new ca(a)};g["flambe.SpeedAdjuster"]=Qb;Qb.__name__=["flambe","SpeedAdjuster"];Qb.__super__=h;Qb.prototype=l(h.prototype,{get_name:function(){return"SpeedAdjuster_31"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:Qb});var bg=function(){};g["flambe.animation.Behavior"]=bg;bg.__name__=["flambe","animation","Behavior"];bg.prototype={__class__:bg};var T=function(){};g["flambe.animation.Ease"]=T;T.__name__=["flambe","animation",
"Ease"];T.linear=function(a){return a};T.quadInOut=function(a){return 0.5>=a?2*a*a:1-2*--a*a};T.quintOut=function(a){return(a-=1)*a*a*a*a+1};T.bounceOut=function(a){return 0.36363636363636365>a?7.5625*a*a:0.7272727272727273>a?7.5625*(a-0.5454545454545454)*(a-0.5454545454545454)+0.75:0.9090909090909091>a?7.5625*(a-0.8181818181818182)*(a-0.8181818181818182)+0.9375:7.5625*(a-0.9545454545454546)*(a-0.9545454545454546)+0.984375};T.expoOut=function(a){return-Math.pow(2,-10*a)+1};T.backOut=function(a){return 1-
--a*a*(-2.70158*a-1.70158)};var jb=function(a,b,c,f){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=f?f:T.linear};g["flambe.animation.Tween"]=jb;jb.__name__=["flambe","animation","Tween"];jb.__interfaces__=[bg];jb.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:jb};var Rb=function(){};
g["flambe.asset.Asset"]=Rb;Rb.__name__=["flambe","asset","Asset"];Rb.__interfaces__=[ob];Rb.prototype={__class__:Rb};var u=g["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};u.WEBP=["WEBP",0];u.WEBP.toString=p;u.WEBP.__enum__=u;u.JXR=["JXR",1];u.JXR.toString=p;u.JXR.__enum__=u;u.PNG=["PNG",2];u.PNG.toString=p;u.PNG.__enum__=u;u.JPG=["JPG",3];u.JPG.toString=p;u.JPG.__enum__=u;u.GIF=["GIF",
4];u.GIF.toString=p;u.GIF.__enum__=u;u.DDS=["DDS",5];u.DDS.toString=p;u.DDS.__enum__=u;u.PVR=["PVR",6];u.PVR.toString=p;u.PVR.__enum__=u;u.PKM=["PKM",7];u.PKM.toString=p;u.PKM.__enum__=u;u.MP3=["MP3",8];u.MP3.toString=p;u.MP3.__enum__=u;u.M4A=["M4A",9];u.M4A.toString=p;u.M4A.__enum__=u;u.OPUS=["OPUS",10];u.OPUS.toString=p;u.OPUS.__enum__=u;u.OGG=["OGG",11];u.OGG.toString=p;u.OGG.__enum__=u;u.WAV=["WAV",12];u.WAV.toString=p;u.WAV.__enum__=u;u.Data=["Data",13];u.Data.toString=p;u.Data.__enum__=u;var cg=
function(a,b,c,f){this.name=a;this.url=b;this.format=c;this.bytes=f};g["flambe.asset.AssetEntry"]=cg;cg.__name__=["flambe","asset","AssetEntry"];cg.prototype={__class__:cg};var dd=function(){};g["flambe.asset.AssetPack"]=dd;dd.__name__=["flambe","asset","AssetPack"];dd.__interfaces__=[ob];dd.prototype={__class__:dd};var ed=function(){};g["flambe.asset.File"]=ed;ed.__name__=["flambe","asset","File"];ed.__interfaces__=[Rb];ed.prototype={__class__:ed};var $a=function(){this._localBase=this._remoteBase=
null;this._entries=[]};g["flambe.asset.Manifest"]=$a;$a.__name__=["flambe","asset","Manifest"];$a.fromAssets=function(a,b){null==b&&(b=!0);var c=$.field(Ng.getType($a).assets[0],a);if(null==c){if(b)throw sa.withFields("Missing asset pack",["name",a]);return null}var f=new $a;f.set_localBase("assets");for(var d=0;d<c.length;){var e=c[d];++d;var g=e.name,i=a+"/"+g+"?v="+C.string(e.md5),h=$a.inferFormat(g);h!=u.Data&&(g=sa.removeFileExtension(g));f.add(g,i,e.bytes,h)}return f};$a.inferFormat=function(a){a=
sa.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return u.GIF;case "jpg":case "jpeg":return u.JPG;case "jxr":case "wdp":return u.JXR;case "png":return u.PNG;case "webp":return u.WEBP;case "dds":return u.DDS;case "pvr":return u.PVR;case "pkm":return u.PKM;case "m4a":return u.M4A;case "mp3":return u.MP3;case "ogg":return u.OGG;case "opus":return u.OPUS;case "wav":return u.WAV}else null;return u.Data};$a.prototype={add:function(a,b,c,f){null==c&&(c=0);null==f&&(f=$a.inferFormat(b));
a=new cg(a,b,f,c);this._entries.push(a);return a},iterator:function(){return A.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&$a._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?sa.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&dg.that(!X.startsWith(a,"http://")&&!X.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=
a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&dg.that(X.startsWith(a,"http://")||X.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=a},__class__:$a};var da=g["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};da.Normal=["Normal",0];da.Normal.toString=p;da.Normal.__enum__=da;da.Add=["Add",1];da.Add.toString=
p;da.Add.__enum__=da;da.Multiply=["Multiply",2];da.Multiply.toString=p;da.Multiply.__enum__=da;da.Screen=["Screen",3];da.Screen.toString=p;da.Screen.__enum__=da;da.Mask=["Mask",4];da.Mask.toString=p;da.Mask.__enum__=da;da.Copy=["Copy",5];da.Copy.toString=p;da.Copy.__enum__=da;var Cb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};g["flambe.math.Point"]=Cb;Cb.__name__=["flambe","math","Point"];Cb.prototype={set:function(a,b){this.x=a;this.y=b},normalize:function(){var a=this.magnitude();
this.x/=a;this.y/=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},distanceTo:function(a,b){return Math.sqrt(this.distanceToSquared(a,b))},distanceToSquared:function(a,b){var c=this.x-a,f=this.y-b;return c*c+f*f},__class__:Cb};var q=function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=0;this.blendMode=this.scissor=this._viewMatrix=null;var a=this;h.call(this);this._flags|=54;this._localMatrix=new ab;var b=function(){a._flags|=24};this.x=new ca(0,b);this.y=
new ca(0,b);this.rotation=new ca(0,b);this.scaleX=new ca(1,b);this.scaleY=new ca(1,b);this.anchorX=new ca(0,b);this.anchorY=new ca(0,b);this.alpha=new ca(1)};g["flambe.display.Sprite"]=q;q.__name__=["flambe","display","Sprite"];q.hitTest=function(a,b,c){var f=a._compMap.Sprite_1;if(null!=f){if(6!=(f._flags&6))return null;f.getLocalMatrix().inverseTransform(b,c,q._scratchPoint)&&(b=q._scratchPoint.x,c=q._scratchPoint.y);var d=f.scissor;if(null!=d&&!d.contains(b,c))return null}a=q.hitTestBackwards(a.firstChild,
b,c);return null!=a?a:null!=f&&f.containsLocal(b,c)?f:null};q.getBounds=function(a,b){null==b&&(b=new bb);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);q.getBoundsImpl(a,null,b);b.width-=b.x;b.height-=b.y;return b};q.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var f=c.alpha._value;if(0==(c._flags&2)||0>=f)return;b.save();1>f&&b.multiplyAlpha(f);null!=c.blendMode&&b.setBlendMode(c.blendMode);var f=c.getLocalMatrix(),d=f.m02,e=f.m12;0!=(c._flags&
32)&&(d=Math.round(d),e=Math.round(e));b.transform(f.m00,f.m10,f.m01,f.m11,d,e);f=c.scissor;null!=f&&b.applyScissor(f.x,f.y,f.width,f.height);c.draw(b)}f=a._compMap.Director_51;if(null!=f){f=f.occludedScenes;for(d=0;d<f.length;)e=f[d],++d,q.render(e,b)}for(f=a.firstChild;null!=f;)d=f.next,q.render(f,b),f=d;null!=c&&b.restore()};q.hitTestBackwards=function(a,b,c){if(null!=a){var f=q.hitTestBackwards(a.next,b,c);return null!=f?f:q.hitTest(a,b,c)}return null};q.getBoundsImpl=function(a,b,c){var f=a._compMap.Sprite_1;
if(null!=f){var b=null!=b?ab.multiply(b,f.getLocalMatrix()):f.getLocalMatrix(),d=f.getNaturalWidth(),f=f.getNaturalHeight();0<d&&0<f&&(q.extendRect(b,0,0,c),q.extendRect(b,d,0,c),q.extendRect(b,d,f,c),q.extendRect(b,0,f,c))}d=a._compMap.Director_51;if(null!=d)for(var d=d.occludedScenes,f=0,e=d.length;f<e;)q.getBoundsImpl(d[f],b,c),++f;for(a=a.firstChild;null!=a;)d=a.next,q.getBoundsImpl(a,b,c),a=d};q.extendRect=function(a,b,c,f){a=a.transform(b,c,q._scratchPoint);b=a.x;c=a.y;b<f.x&&(f.x=b);c<f.y&&
(f.y=c);b>f.width&&(f.width=b);c>f.height&&(f.height=c)};q.__super__=h;q.prototype=l(h.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/
180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?ab.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);this._flags&=-17;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},setAnchor:function(a,b){this.anchorX.set__(a);
this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},disablePointer:function(){this.set_pointerEnabled(!1);
return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},isViewMatrixDirty:function(){if(0!=(this._flags&16))return!0;var a=this.getParentSprite();return null==a?!1:
this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new E);return this._pointerDown},get_pointerUp:function(){null==this._pointerUp&&(this._pointerUp=new E);return this._pointerUp},get_pointerOut:function(){null==this._pointerOut&&
(this._pointerOut=new E);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=t._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=fd.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=fd.set(this._flags,
4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=
-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:q});var kb=function(a,b,c){q.call(this);this.color=a;this.width=new ca(b);this.height=new ca(c)};g["flambe.display.FillSprite"]=kb;kb.__name__=["flambe","display","FillSprite"];kb.__super__=q;kb.prototype=l(q.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},
getNaturalHeight:function(){return this.height._value},onUpdate:function(a){q.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:kb});var gd=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};g["flambe.display.Glyph"]=gd;gd.__name__=["flambe","display","Glyph"];gd.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,
this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?C["int"](this._kernings.get(a)):0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new Qa);this._kernings.set(a,b)},__class__:gd};var Sb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};g["flambe.display.Font"]=Sb;Sb.__name__=["flambe","display","Font"];Sb.prototype={layoutText:function(a,b,c,f,d){null==d&&(d=0);null==f&&(f=0);null==c&&(c=0);null==b&&(b=ja.Left);return new Tb(this,
a,b,c,f,d)},reload:function(){this._glyphs=new Qa;this._glyphs.set(Sb.NEWLINE.charCode,Sb.NEWLINE);for(var a=new fc(this._file.toString()),b=new Qa,c=this.name.lastIndexOf("/"),c=0<=c?A.substr(this.name,0,c+1):"",f=a.keywords();f.hasNext();)switch(f.next()){case "info":for(var d=a.pairs();d.hasNext();){var e=d.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(e=d.next(),e.key){case "lineHeight":this.lineHeight=e.getInt()}break;case "page":for(var d=
0,e=null,g=a.pairs();g.hasNext();){var i=g.next();switch(i.key){case "id":d=i.getInt();break;case "file":e=i.getString()}}e=this._pack.getTexture(c+sa.removeFileExtension(e));b.set(d,e);break;case "char":d=null;for(e=a.pairs();e.hasNext();)switch(g=e.next(),g.key){case "id":d=new gd(g.getInt());break;case "x":d.x=g.getInt();break;case "y":d.y=g.getInt();break;case "width":d.width=g.getInt();break;case "height":d.height=g.getInt();break;case "page":g=g.getInt();d.page=b.get(g);break;case "xoffset":d.xOffset=
g.getInt();break;case "yoffset":d.yOffset=g.getInt();break;case "xadvance":d.xAdvance=g.getInt()}this._glyphs.set(d.charCode,d);break;case "kerning":d=null;g=e=0;for(i=a.pairs();i.hasNext();){var h=i.next();switch(h.key){case "first":d=this._glyphs.get(h.getInt());break;case "second":e=h.getInt();break;case "amount":g=h.getInt()}}null!=d&&0!=g&&d.setKerning(e,g)}},__class__:Sb};var ja=g["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};
ja.Left=["Left",0];ja.Left.toString=p;ja.Left.__enum__=ja;ja.Center=["Center",1];ja.Center.toString=p;ja.Center.__enum__=ja;ja.Right=["Right",2];ja.Right.toString=p;ja.Right.__enum__=ja;var Tb=function(a,b,c,f,d,e){this.lines=0;var g=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+e);this.bounds=new bb;for(var i=[],e=b.length,h=0;h<e;){var j=h++,j=b.charCodeAt(j),j=a._glyphs.get(j);null!=j?this._glyphs.push(j):null}for(var b=-1,k=0,l=0,a=a._glyphs.get(10),
e=function(){g.bounds.width=ta.max(g.bounds.width,k);g.bounds.height+=l;i[g.lines]=k;l=k=0;++g.lines},h=0;h<this._glyphs.length;){j=this._glyphs[h];this._offsets[h]=Math.round(k);var m=0<f&&k+j.width>f;m||j==a?(m&&(0<=b?(this._glyphs[b]=a,k=this._offsets[b],h=b):this._glyphs.splice(h,0,a)),b=-1,l=this._lineOffset,e()):(32==j.charCode&&(b=h),k+=j.xAdvance+d,l=ta.max(l,j.height+j.yOffset),h+1<this._glyphs.length&&(k+=j.getKerning(this._glyphs[h+1].charCode)));++h}e();d=0;a=Tb.getAlignOffset(c,i[0],
f);b=1.79769313486231E308;e=-1.79769313486231E308;j=h=0;for(m=this._glyphs.length;j<m;){var n=this._glyphs[j];10==n.charCode&&(d+=this._lineOffset,++h,a=Tb.getAlignOffset(c,i[h],f));this._offsets[j]+=a;var o=d+n.yOffset;b<o||(b=o);e=ta.max(e,o+n.height);++j}this.bounds.x=Tb.getAlignOffset(c,this.bounds.width,f);this.bounds.y=b;this.bounds.height=e-b};g["flambe.display.TextLayout"]=Tb;Tb.__name__=["flambe","display","TextLayout"];Tb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-
b;case 1:return Math.round((c-b)/2)}};Tb.prototype={draw:function(a){for(var b=0,c=0,f=this._glyphs.length;c<f;){var d=this._glyphs[c];10==d.charCode?b+=this._lineOffset:d.draw(a,this._offsets[c],b);++c}},__class__:Tb};var fc=function(a){this._configText=a;this._keywordPattern=new tb("([A-Za-z]+)(.*)","");this._pairPattern=new tb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};g["flambe.display._Font.ConfigParser"]=fc;fc.__name__=["flambe","display","_Font","ConfigParser"];fc.advance=function(a,b){var c=b.matchedPos();
return A.substr(a,c.pos+c.len,a.length)};fc.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=fc.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=fc.advance(b,a._pairPattern);return new eg(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},
__class__:fc};var eg=function(a,b){this.key=a;this._value=b};g["flambe.display._Font.ConfigPair"]=eg;eg.__name__=["flambe","display","_Font","ConfigPair"];eg.prototype={getInt:function(){return C.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:A.substr(this._value,1,this._value.length-2)},__class__:eg};var fg=function(){};g["flambe.display.Graphics"]=fg;fg.__name__=["flambe","display","Graphics"];fg.prototype={__class__:fg};var F=function(a){q.call(this);this.texture=
a};g["flambe.display.ImageSprite"]=F;F.__name__=["flambe","display","ImageSprite"];F.__super__=q;F.prototype=l(q.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:F});var vb=g["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};vb.Portrait=
["Portrait",0];vb.Portrait.toString=p;vb.Portrait.__enum__=vb;vb.Landscape=["Landscape",1];vb.Landscape.toString=p;vb.Landscape.__enum__=vb;var hd=function(){};g["flambe.display.Texture"]=hd;hd.__name__=["flambe","display","Texture"];hd.__interfaces__=[Rb];hd.prototype={__class__:hd};var Og=function(){};g["flambe.display.SubTexture"]=Og;Og.__name__=["flambe","display","SubTexture"];Og.__interfaces__=[hd];var la=function(a,b){null==b&&(b="");this._layout=null;var c=this;q.call(this);this._font=a;this._text=
b;this._align=ja.Left;this._flags|=128;var f=function(){c._flags|=128};this.wrapWidth=new ca(0,f);this.letterSpacing=new ca(0,f);this.lineSpacing=new ca(0,f)};g["flambe.display.TextSprite"]=la;la.__name__=["flambe","display","TextSprite"];la.__super__=q;la.prototype=l(q.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();
var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=
(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){q.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:la});var d=g["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
d.A=["A",0];d.A.toString=p;d.A.__enum__=d;d.B=["B",1];d.B.toString=p;d.B.__enum__=d;d.C=["C",2];d.C.toString=p;d.C.__enum__=d;d.D=["D",3];d.D.toString=p;d.D.__enum__=d;d.E=["E",4];d.E.toString=p;d.E.__enum__=d;d.F=["F",5];d.F.toString=p;d.F.__enum__=d;d.G=["G",6];d.G.toString=p;d.G.__enum__=d;d.H=["H",7];d.H.toString=p;d.H.__enum__=d;d.I=["I",8];d.I.toString=p;d.I.__enum__=d;d.J=["J",9];d.J.toString=p;d.J.__enum__=d;d.K=["K",10];d.K.toString=p;d.K.__enum__=d;d.L=["L",11];d.L.toString=p;d.L.__enum__=
d;d.M=["M",12];d.M.toString=p;d.M.__enum__=d;d.N=["N",13];d.N.toString=p;d.N.__enum__=d;d.O=["O",14];d.O.toString=p;d.O.__enum__=d;d.P=["P",15];d.P.toString=p;d.P.__enum__=d;d.Q=["Q",16];d.Q.toString=p;d.Q.__enum__=d;d.R=["R",17];d.R.toString=p;d.R.__enum__=d;d.S=["S",18];d.S.toString=p;d.S.__enum__=d;d.T=["T",19];d.T.toString=p;d.T.__enum__=d;d.U=["U",20];d.U.toString=p;d.U.__enum__=d;d.V=["V",21];d.V.toString=p;d.V.__enum__=d;d.W=["W",22];d.W.toString=p;d.W.__enum__=d;d.X=["X",23];d.X.toString=
p;d.X.__enum__=d;d.Y=["Y",24];d.Y.toString=p;d.Y.__enum__=d;d.Z=["Z",25];d.Z.toString=p;d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.toString=p;d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.toString=p;d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.toString=p;d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.toString=p;d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.toString=p;d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.toString=p;d.Number5.__enum__=
d;d.Number6=["Number6",32];d.Number6.toString=p;d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.toString=p;d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.toString=p;d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.toString=p;d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.toString=p;d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.toString=p;d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.toString=p;d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.toString=
p;d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.toString=p;d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.toString=p;d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.toString=p;d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.toString=p;d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.toString=p;d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.toString=p;d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.toString=p;d.NumpadAdd.__enum__=d;d.NumpadDecimal=
["NumpadDecimal",47];d.NumpadDecimal.toString=p;d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.toString=p;d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.toString=p;d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.toString=p;d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.toString=p;d.NumpadSubtract.__enum__=d;d.F1=["F1",52];d.F1.toString=p;d.F1.__enum__=d;d.F2=["F2",53];d.F2.toString=
p;d.F2.__enum__=d;d.F3=["F3",54];d.F3.toString=p;d.F3.__enum__=d;d.F4=["F4",55];d.F4.toString=p;d.F4.__enum__=d;d.F5=["F5",56];d.F5.toString=p;d.F5.__enum__=d;d.F6=["F6",57];d.F6.toString=p;d.F6.__enum__=d;d.F7=["F7",58];d.F7.toString=p;d.F7.__enum__=d;d.F8=["F8",59];d.F8.toString=p;d.F8.__enum__=d;d.F9=["F9",60];d.F9.toString=p;d.F9.__enum__=d;d.F10=["F10",61];d.F10.toString=p;d.F10.__enum__=d;d.F11=["F11",62];d.F11.toString=p;d.F11.__enum__=d;d.F12=["F12",63];d.F12.toString=p;d.F12.__enum__=d;d.F13=
["F13",64];d.F13.toString=p;d.F13.__enum__=d;d.F14=["F14",65];d.F14.toString=p;d.F14.__enum__=d;d.F15=["F15",66];d.F15.toString=p;d.F15.__enum__=d;d.Left=["Left",67];d.Left.toString=p;d.Left.__enum__=d;d.Up=["Up",68];d.Up.toString=p;d.Up.__enum__=d;d.Right=["Right",69];d.Right.toString=p;d.Right.__enum__=d;d.Down=["Down",70];d.Down.toString=p;d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.toString=p;d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.toString=p;d.Backquote.__enum__=d;d.Backslash=
["Backslash",73];d.Backslash.toString=p;d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.toString=p;d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.toString=p;d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.toString=p;d.Comma.__enum__=d;d.Command=["Command",77];d.Command.toString=p;d.Command.__enum__=d;d.Control=["Control",78];d.Control.toString=p;d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.toString=p;d.Delete.__enum__=d;d.End=["End",80];d.End.toString=p;d.End.__enum__=
d;d.Enter=["Enter",81];d.Enter.toString=p;d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.toString=p;d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.toString=p;d.Escape.__enum__=d;d.Home=["Home",84];d.Home.toString=p;d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.toString=p;d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.toString=p;d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.toString=p;d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.toString=p;d.PageDown.__enum__=
d;d.PageUp=["PageUp",89];d.PageUp.toString=p;d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.toString=p;d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.toString=p;d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.toString=p;d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.toString=p;d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.toString=p;d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.toString=p;d.Slash.__enum__=d;d.Space=["Space",96];d.Space.toString=
p;d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.toString=p;d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.toString=p;d.Menu.__enum__=d;d.Search=["Search",99];d.Search.toString=p;d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;a.toString=p;return a};var gg=function(){this.init(0,null)};g["flambe.input.KeyboardEvent"]=gg;gg.__name__=["flambe","input","KeyboardEvent"];gg.prototype={init:function(a,b){this.id=a;this.key=b},__class__:gg};var Ba=g["flambe.input.MouseButton"]={__ename__:["flambe",
"input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};Ba.Left=["Left",0];Ba.Left.toString=p;Ba.Left.__enum__=Ba;Ba.Middle=["Middle",1];Ba.Middle.toString=p;Ba.Middle.__enum__=Ba;Ba.Right=["Right",2];Ba.Right.toString=p;Ba.Right.__enum__=Ba;Ba.Unknown=function(a){a=["Unknown",3,a];a.__enum__=Ba;a.toString=p;return a};var lb=g["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};lb.Default=["Default",0];lb.Default.toString=
p;lb.Default.__enum__=lb;lb.Button=["Button",1];lb.Button.toString=p;lb.Button.__enum__=lb;lb.None=["None",2];lb.None.toString=p;lb.None.__enum__=lb;var hg=function(){this.init(0,0,0,null)};g["flambe.input.MouseEvent"]=hg;hg.__name__=["flambe","input","MouseEvent"];hg.prototype={init:function(a,b,c,f){this.id=a;this.viewX=b;this.viewY=c;this.button=f},__class__:hg};var id=g["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};id.Mouse=function(a){a=
["Mouse",0,a];a.__enum__=id;a.toString=p;return a};id.Touch=function(a){a=["Touch",1,a];a.__enum__=id;a.toString=p;return a};var ig=function(){this.init(0,0,0,null,null)};g["flambe.input.PointerEvent"]=ig;ig.__name__=["flambe","input","PointerEvent"];ig.prototype={init:function(a,b,c,f,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=f;this.source=d;this._stopped=!1},__class__:ig};var jg=function(a){this.id=a;this._source=id.Touch(this)};g["flambe.input.TouchPoint"]=jg;jg.__name__=["flambe","input",
"TouchPoint"];jg.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:jg};var ta=function(){};g["flambe.math.FMath"]=ta;ta.__name__=["flambe","math","FMath"];ta.max=function(a,b){return a>b?a:b};ta.min=function(a,b){return a<b?a:b};ta.clamp=function(a,b,c){return a<b?b:a>c?c:a};var ab=function(){this.identity()};g["flambe.math.Matrix"]=ab;ab.__name__=["flambe","math","Matrix"];ab.multiply=function(a,b,c){null==c&&(c=new ab);var f=a.m00*b.m00+a.m01*b.m10,d=a.m00*b.m01+a.m01*b.m11,e=a.m00*
b.m02+a.m01*b.m12+a.m02;c.m00=f;c.m01=d;c.m02=e;f=a.m10*b.m00+a.m11*b.m10;d=a.m10*b.m01+a.m11*b.m11;e=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=f;c.m11=d;c.m12=e;return c};ab.prototype={set:function(a,b,c,f,d,e){this.m00=a;this.m01=c;this.m02=d;this.m10=b;this.m11=f;this.m12=e},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,f,d){var e=Math.sin(d),d=Math.cos(d);this.set(d*c,e*c,-e*f,d*f,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=
this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new Cb);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var f=0;f<b;){var d=a[f],e=a[f+1];c[f++]=d*this.m00+e*this.m01+this.m02;c[f++]=d*this.m10+e*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-
this.m01*this.m10},inverseTransform:function(a,b,c){var f=this.determinant();if(0==f)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/f;c.y=(b*this.m00-a*this.m10)/f;return!0},clone:function(a){null==a&&(a=new ab);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:ab};var bb=function(a,b,c,f){null==f&&(f=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,f)};g["flambe.math.Rectangle"]=bb;bb.__name__=["flambe","math","Rectangle"];bb.prototype={set:function(a,
b,c,f){this.x=a;this.y=b;this.width=c;this.height=f},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},intersects:function(a,b){var c=ta.max(this.x,a.x),f=ta.min(this.get_right(),a.get_right());if(c>f)return!1;var d=ta.max(this.y,a.y),e=ta.min(this.get_bottom(),a.get_bottom());if(d>e)return!1;null!=b&&b.set(c,d,f-c,e-d);return!0},
clone:function(a){null==a&&(a=new bb);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},get_right:function(){return this.x+this.width},get_bottom:function(){return this.y+this.height},__class__:bb};var ua=function(){this._disposed=!1};g["flambe.platform.BasicAsset"]=ua;ua.__name__=["flambe","platform","BasicAsset"];ua.__interfaces__=[Rb];ua.prototype={dispose:function(){this._disposed||(this._disposed=
!0,this.onDisposed())},onDisposed:function(){null},__class__:ua};var Ub=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new jd;this._bytesLoaded=new S;this._pack=new kd(b,this);var f=vc.array(b);if(0==f.length)this.handleSuccess();else{for(var d=new S,e=0;e<f.length;){var g=f[e];++e;var i=d.get(g.name);null==i&&(i=[],d.set(g.name,i));i.push(g)}this._assetsRemaining=vc.count(d);for(f=d.iterator();f.hasNext();)d=[f.next()],this.pickBestEntry(d[0],function(a){return function(f){if(null!=
f){var d=b.getFullURL(f);try{c.loadEntry(d,f)}catch(e){c.handleError(f,"Unexpected error: "+C.string(e))}d=c.promise;d.set_total(d._total+f.bytes)}else f=a[0][0],Ub.isAudio(f.format)?c.handleLoad(f,cb.getInstance()):c.handleError(f,"Could not find a supported format to load")}}(d))}};g["flambe.platform.BasicAssetPackLoader"]=Ub;Ub.__name__=["flambe","platform","BasicAssetPackLoader"];Ub.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Ub.prototype=
{onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var f=0;f<c.length;){var d=c[f];++f;for(var e=0;e<a.length;){var g=a[e];++e;if(g.format==d){b(g);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;
break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,f=this._bytesLoaded.iterator();f.hasNext();)var d=f.next(),c=c+d;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(sa.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},
__class__:Ub};var kd=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new S;this.sounds=new S;this.files=new S};g["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=kd;kd.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];kd.__interfaces__=[dd];kd.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw sa.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);
if(null==c&&b)throw sa.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw sa.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},
__class__:kd};var xc=function(a){this._disposed=!1;this._content=a};g["flambe.platform.BasicFile"]=xc;xc.__name__=["flambe","platform","BasicFile"];xc.__interfaces__=[ed];xc.__super__=ua;xc.prototype=l(ua.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:xc});var kg=function(){};g["flambe.subsystem.KeyboardSystem"]=kg;kg.__name__=["flambe","subsystem","KeyboardSystem"];kg.prototype={__class__:kg};var ib=function(){this.down=new E;this.up=new E;
this.backButton=new K;this._keyStates=new Qa};g["flambe.platform.BasicKeyboard"]=ib;ib.__name__=["flambe","platform","BasicKeyboard"];ib.__interfaces__=[kg];ib.prototype={get_supported:function(){return!0},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),ib._sharedEvent.init(ib._sharedEvent.id+1,lg.toKey(a)),this.down.emit(ib._sharedEvent));return!0},submitUp:function(a){this._keyStates.exists(a)&&
(this._keyStates.remove(a),ib._sharedEvent.init(ib._sharedEvent.id+1,lg.toKey(a)),this.up.emit(ib._sharedEvent))},__class__:ib};var Tg=function(){};g["flambe.subsystem.MouseSystem"]=Tg;Tg.__name__=["flambe","subsystem","MouseSystem"];var Ra=function(a){this._pointer=a;this._source=id.Mouse(Ra._sharedEvent);this.down=new E;this.move=new E;this.up=new E;this.scroll=new E;this._y=this._x=0;this._cursor=lb.Default;this._buttonStates=new Qa};g["flambe.platform.BasicMouse"]=Ra;Ra.__name__=["flambe","platform",
"BasicMouse"];Ra.__interfaces__=[Tg];Ra.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,mg.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(Ra._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(Ra._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,mg.toButton(c)),this._pointer.submitUp(a,
b,this._source),this.up.emit(Ra._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;Ra._sharedEvent.init(Ra._sharedEvent.id+1,a,b,c)},__class__:Ra};var ng=function(){};g["flambe.subsystem.PointerSystem"]=ng;ng.__name__=["flambe","subsystem","PointerSystem"];ng.prototype={__class__:ng};var za=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new E;this.move=
new E;this.up=new E;this._x=a;this._y=b;this._isDown=c};g["flambe.platform.BasicPointer"]=za;za.__name__=["flambe","platform","BasicPointer"];za.__interfaces__=[ng];za.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var f=[],d=q.hitTest(t.root,a,b);if(null!=d){var e=d.owner;do{var g=e._compMap.Sprite_1;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerDown(za._sharedEvent),za._sharedEvent._stopped)return;
this.down.emit(za._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var f=[],d=q.hitTest(t.root,a,b);if(null!=d){var e=d.owner;do{var g=e._compMap.Sprite_1;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerMove(za._sharedEvent),za._sharedEvent._stopped)return;this.move.emit(za._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var f=[],d=q.hitTest(t.root,a,b);if(null!=
d){var e=d.owner;do{var g=e._compMap.Sprite_1;null!=g&&f.push(g);e=e.parent}while(null!=e)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerUp(za._sharedEvent),za._sharedEvent._stopped)return;this.up.emit(za._sharedEvent)}},prepare:function(a,b,c,f){this._x=a;this._y=b;za._sharedEvent.init(za._sharedEvent.id+1,a,b,c,f)},__class__:za};var pb=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};g["flambe.platform.BasicTexture"]=
pb;pb.__name__=["flambe","platform","BasicTexture"];pb.__interfaces__=[Og];pb.__super__=ua;pb.prototype=l(ua.prototype,{subTexture:function(a,b,c,f){c=this.root.createTexture(c,f);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:pb});var ld=function(){};g["flambe.subsystem.TouchSystem"]=
ld;ld.__name__=["flambe","subsystem","TouchSystem"];ld.prototype={__class__:ld};var Yc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new Qa;this._points=[];this.down=new E;this.move=new E;this.up=new E};g["flambe.platform.BasicTouch"]=Yc;Yc.__name__=["flambe","platform","BasicTouch"];Yc.__interfaces__=[ld];Yc.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var f=new jg(a);f.init(b,c);this._pointMap.set(a,f);this._points.push(f);
null==this._pointerTouch&&(this._pointerTouch=f,this._pointer.submitDown(b,c,f._source));this.down.emit(f)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var f=this._pointMap.get(a);null!=f&&(f.init(b,c),this._pointMap.remove(a),A.remove(this._points,f),this._pointerTouch==f&&(this._pointerTouch=null,this._pointer.submitUp(b,c,f._source)),this.up.emit(f))},__class__:Yc};
var gc=function(){};g["flambe.sound.Sound"]=gc;gc.__name__=["flambe","sound","Sound"];gc.__interfaces__=[Rb];gc.prototype={__class__:gc};var cb=function(){this._disposed=!1;this._playback=new md(this)};g["flambe.platform.DummySound"]=cb;cb.__name__=["flambe","platform","DummySound"];cb.__interfaces__=[gc];cb.getInstance=function(){null==cb._instance&&(cb._instance=new cb);return cb._instance};cb.__super__=ua;cb.prototype=l(ua.prototype,{play:function(){return this._playback},loop:function(){return this._playback},
onDisposed:function(){},__class__:cb});var hc=function(){};g["flambe.sound.Playback"]=hc;hc.__name__=["flambe","sound","Playback"];hc.__interfaces__=[ob];hc.prototype={__class__:hc};var md=function(a){this._sound=a;this.volume=new ca(0);this._complete=new Aa(!0)};g["flambe.platform.DummyPlayback"]=md;md.__name__=["flambe","platform","DummyPlayback"];md.__interfaces__=[hc];md.prototype={get_sound:function(){return this._sound},set_paused:function(){return!0},get_complete:function(){return this._complete},
dispose:function(){},__class__:md};var nd=function(){};g["flambe.subsystem.StorageSystem"]=nd;nd.__name__=["flambe","subsystem","StorageSystem"];nd.prototype={__class__:nd};var ad=function(){this.clear()};g["flambe.platform.DummyStorage"]=ad;ad.__name__=["flambe","platform","DummyStorage"];ad.__interfaces__=[nd];ad.prototype={set:function(a,b){this._hash.set(a,b);return!0},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},clear:function(){this._hash=new S},__class__:ad};var Zc=function(){this.down=
new E;this.move=new E;this.up=new E};g["flambe.platform.DummyTouch"]=Zc;Zc.__name__=["flambe","platform","DummyTouch"];Zc.__interfaces__=[ld];Zc.prototype={get_supported:function(){return!1},__class__:Zc};var yc=function(){this._entries=[]};g["flambe.platform.EventGroup"]=yc;yc.__name__=["flambe","platform","EventGroup"];yc.__interfaces__=[ob];yc.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new og(a,b,c))},addDisposingListener:function(a,b,c){var f=this;this.addListener(a,
b,function(a){f.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:yc};var og=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};g["flambe.platform._EventGroup.Entry"]=og;og.__name__=["flambe","platform","_EventGroup","Entry"];og.prototype={__class__:og};var zc=function(){};g["flambe.platform.InternalGraphics"]=zc;zc.__name__=["flambe","platform","InternalGraphics"];
zc.__interfaces__=[fg];zc.prototype={__class__:zc};var pg=function(){};g["flambe.subsystem.RendererSystem"]=pg;pg.__name__=["flambe","subsystem","RendererSystem"];pg.prototype={__class__:pg};var Ac=function(){};g["flambe.platform.InternalRenderer"]=Ac;Ac.__name__=["flambe","platform","InternalRenderer"];Ac.__interfaces__=[pg];Ac.prototype={__class__:Ac};var lg=function(){};g["flambe.platform.KeyCodes"]=lg;lg.__name__=["flambe","platform","KeyCodes"];lg.toKey=function(a){switch(a){case 65:return d.A;
case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;
case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;
case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;
case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;
case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};var cc=function(){this._tickables=[]};g["flambe.platform.MainLoop"]=cc;cc.__name__=["flambe","platform","MainLoop"];cc.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_31;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var f=c.next;0==(c._flags&
1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=f}for(c=a.firstChild;null!=c;)f=c.next,cc.updateEntity(c,b),c=f};cc.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}t.volume.update(a);cc.updateEntity(t.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),q.render(t.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:cc};var qg=function(){};
g["flambe.platform.MathUtil"]=qg;qg.__name__=["flambe","platform","MathUtil"];qg.nextPowerOfTwo=function(a){for(var b=1;b<a;)b<<=1;return b};var mg=function(){};g["flambe.platform.MouseCodes"]=mg;mg.__name__=["flambe","platform","MouseCodes"];mg.toButton=function(a){switch(a){case 0:return Ba.Left;case 1:return Ba.Middle;case 2:return Ba.Right}return Ba.Unknown(a)};var od=function(){};g["flambe.platform.TextureRoot"]=od;od.__name__=["flambe","platform","TextureRoot"];od.prototype={__class__:od};var pd=
function(){};g["flambe.platform.Tickable"]=pd;pd.__name__=["flambe","platform","Tickable"];pd.prototype={__class__:pd};var qb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};g["flambe.platform.html.CanvasGraphics"]=qb;qb.__name__=["flambe","platform","html","CanvasGraphics"];qb.__interfaces__=[zc];qb.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,f,d,e){this._canvasCtx.transform(a,b,c,f,d,e)},restore:function(){this._canvasCtx.restore()},
drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,f,d,e,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,f,d,e,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+f|0,a.rootY+d|0,e|0,g|0,b|0,c|0,e|0,g|0)},fillRect:function(a,b,c,f,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",
this.fillRect(a,b,c,f,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+C.string(a);this._canvasCtx.fillStyle="#"+C.string(a);this._canvasCtx.fillRect(b|0,c|0,f|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=
b},applyScissor:function(a,b,c,f){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,f|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(){},__class__:qb};var dc=function(a){this.graphics=new qb(a,!1);this._hasGPU=new Aa(!0)};g["flambe.platform.html.CanvasRenderer"]=dc;dc.__name__=["flambe","platform","html","CanvasRenderer"];dc.__interfaces__=[Ac];dc.prototype={get_type:function(){return db.Canvas},createTextureFromImage:function(a){a=
new ic(dc.CANVAS_TEXTURES?I.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,b){return(new ic(I.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:dc};var qd=function(a,b,c){pb.call(this,a,b,c)};g["flambe.platform.html.CanvasTexture"]=qd;qd.__name__=["flambe","platform",
"html","CanvasTexture"];qd.__super__=pb;qd.prototype=l(pb.prototype,{__class__:qd});var ic=function(a){this._graphics=null;this.updateCount=0;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};g["flambe.platform.html.CanvasTextureRoot"]=ic;ic.__name__=["flambe","platform","html","CanvasTextureRoot"];ic.__interfaces__=[od];ic.__super__=ua;ic.prototype=l(ua.prototype,{createTexture:function(a,b){return new qd(this,a,b)},getGraphics:function(){null==this._graphics&&(this.getContext2d(),
this._graphics=new rd(this));return this._graphics},getContext2d:function(){ia.__instanceof(this.image,HTMLCanvasElement)||(this.image=I.createCanvas(this.image));return this.image.getContext("2d")},onDisposed:function(){this._graphics=this.image=null},__class__:ic});var rd=function(a){qb.call(this,a.image,!0);this._renderTarget=a};g["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=rd;rd.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];rd.__super__=qb;rd.prototype=
l(qb.prototype,{drawTexture:function(a,b,c){qb.prototype.drawTexture.call(this,a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,f,d,e,g){qb.prototype.drawSubTexture.call(this,a,b,c,f,d,e,g);++this._renderTarget.updateCount},fillRect:function(a,b,c,f,d){qb.prototype.fillRect.call(this,a,b,c,f,d);++this._renderTarget.updateCount},__class__:rd});var P=function(a,b){Ub.call(this,a,b)};g["flambe.platform.html.HtmlAssetPackLoader"]=P;P.__name__=["flambe","platform","html","HtmlAssetPackLoader"];
P.detectImageFormats=function(a){var b=[u.PNG,u.JPG,u.GIF],c=2,f;f=window.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(u.WEBP);--c;0==c&&a(b)};f.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(u.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
P.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==e(a,a.canPlayType))return[];var b=new tb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!Q.get_supported()&&b.match(c))return[];for(var b=[{format:u.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:u.MP3,mimeType:"audio/mpeg"},{format:u.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:u.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:u.WAV,mimeType:"audio/wav"}],c=[],
f=0;f<b.length;){var d=b[f];++f;var g="";try{g=a.canPlayType(d.mimeType)}catch(i){}""!=g&&c.push(d.format)}return c};P.supportsBlob=function(){if(P._detectBlobSupport){P._detectBlobSupport=!1;if((new tb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;P._URL=I.loadExtension("URL").value}return null!=P._URL&&null!=P._URL.createObjectURL};
P.__super__=Ub;P.prototype=l(Ub.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var f;f=window.document.createElement("img");var d=new yc;d.addDisposingListener(f,"load",function(){P.supportsBlob()&&P._URL.revokeObjectURL(f.src);var a=c._platform.getRenderer().createTextureFromImage(f);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});d.addDisposingListener(f,"error",function(){c.handleError(b,"Failed to load image")});P.supportsBlob()?this.download(a,
b,"blob",function(a){f.src=P._URL.createObjectURL(a)}):f.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(Q.get_supported())this.download(a,b,"arraybuffer",function(a){Q.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new Q(a))},function(){c.handleLoad(b,cb.getInstance())})});else{var e;e=window.document.createElement("audio");
e.preload="auto";var g=++P._mediaRefCount;null==P._mediaElements&&(P._mediaElements=new Qa);P._mediaElements.set(g,e);d=new yc;d.addDisposingListener(e,"canplaythrough",function(){P._mediaElements.remove(g);c.handleLoad(b,new Bc(e))});d.addDisposingListener(e,"error",function(){P._mediaElements.remove(g);var a=e.error.code;3==a||4==a?c.handleLoad(b,cb.getInstance()):c.handleError(b,"Failed to load audio: "+e.error.code)});d.addListener(e,"progress",function(){if(0<e.buffered.length&&0<e.duration){var a=
e.buffered.end(0)/e.duration;c.handleProgress(b,a*b.bytes|0)}});e.src=a;e.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new xc(a))})}},getAssetFormats:function(a){var b=this;null==P._supportedFormats&&(P._supportedFormats=new jd,P.detectImageFormats(function(a){P._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(P.detectAudioFormats()).concat([u.Data]))}));P._supportedFormats.get(a)},download:function(a,b,c,f){var d=this,
e=null,g=null,i=0,h=!1,j=function(){h&&(h=!1,window.clearInterval(i))},k=3,l=function(){--k;return 0<=k?(g(),!0):!1},g=function(){j();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=c;var g=0;e.onprogress=function(a){h||(h=!0,i=window.setInterval(function(){4!=e.readyState&&5E3<Date.now()-g&&!l()&&(j(),d.handleError(b,"Download stalled"))},1E3));g=Date.now();d.handleProgress(b,a.loaded)};e.onerror=function(){if(0!=e.status||!l())j(),d.handleError(b,"HTTP error "+e.status)};
e.onload=function(){var a=e.response;null==a&&(a=e.responseText);j();f(a)};e.send()};g()},__class__:P});var rg=function(){};g["flambe.subsystem.ExternalSystem"]=rg;rg.__name__=["flambe","subsystem","ExternalSystem"];rg.prototype={__class__:rg};var bd=function(){};g["flambe.platform.html.HtmlExternal"]=bd;bd.__name__=["flambe","platform","html","HtmlExternal"];bd.__interfaces__=[rg];bd.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,f=c,d=0,e=a.split(".");d<e.length;){var g=e[d];++d;
c=f;f=$.field(c,g)}return f.apply(c,b)},__class__:bd};var Xc=function(a,b){Ra.call(this,a);this._canvas=b};g["flambe.platform.html.HtmlMouse"]=Xc;Xc.__name__=["flambe","platform","html","HtmlMouse"];Xc.__super__=Ra;Xc.prototype=l(Ra.prototype,{__class__:Xc});var Bc=function(a){this._disposed=!1;this.audioElement=a};g["flambe.platform.html.HtmlSound"]=Bc;Bc.__name__=["flambe","platform","html","HtmlSound"];Bc.__interfaces__=[gc];Bc.__super__=ua;Bc.prototype=l(ua.prototype,{play:function(a){null==a&&
(a=1);return new Cc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Cc(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:Bc});var Cc=function(a,b,c){var f=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new ca(b,function(){f.updateVolume()});this.updateVolume();this._complete=new Aa(!1);this.playAudio();t.hidden._value&&this.set_paused(!0)};
g["flambe.platform.html._HtmlSound.HtmlPlayback"]=Cc;Cc.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];Cc.__interfaces__=[pd,hc];Cc.prototype={get_sound:function(){return this._sound},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_complete:function(){return this._complete},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?
(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Bb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=t.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=t.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},
updateVolume:function(){this._clonedElement.volume=t.volume._value*this.volume._value},__class__:Cc};var sg=function(){};g["flambe.subsystem.StageSystem"]=sg;sg.__name__=["flambe","subsystem","StageSystem"];sg.prototype={__class__:sg};var Wc=function(a){var b=this;this._canvas=a;this.resize=new K;this.scaleFactor=1;I.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){I.callLater(e(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",
e(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new Aa(null);null!=window.orientation&&(window.addEventListener("orientationchange",e(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new Aa(!1);I.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};g["flambe.platform.html.HtmlStage"]=Wc;Wc.__name__=["flambe","platform","html","HtmlStage"];Wc.__interfaces__=[sg];Wc.prototype={get_width:function(){return this._canvas.width},
get_height:function(){return this._canvas.height},lockOrientation:function(a){var b=I.loadExtension("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}b.apply(window.screen,[c])||null}},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,f=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==f)return!1;
this._canvas.width=c|0;this._canvas.height=f|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";I.callLater(function(){I.hideMobileBrowser();I.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(I.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==
I.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Wc};var $c=function(a){this._storage=a};g["flambe.platform.html.HtmlStorage"]=$c;$c.__name__=["flambe","platform","html","HtmlStorage"];$c.__interfaces__=[nd];$c.prototype={set:function(a,b){var c;try{var f=new wb;f.useCache=!0;f.useEnumIndex=!1;f.serialize(b);c=f.toString()}catch(d){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(e){return!1}return!0},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+
a)}catch(f){null}if(null!=c)try{return Ha.run(c)}catch(d){null}return b},__class__:$c};var I=function(){};g["flambe.platform.html.HtmlUtil"]=I;I.__name__=["flambe","platform","html","HtmlUtil"];I.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};I.hideMobileBrowser=function(){window.scrollTo(1,0)};I.loadExtension=function(a,b){null==b&&(b=window);var c=$.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+A.substr(a,1,null),f=0,d=I.VENDOR_PREFIXES;f<
d.length;){var e=d[f];++f;var g=e+c,i=$.field(b,g);if(null!=i)return{prefix:e,field:g,value:i}}return{prefix:null,field:null,value:null}};I.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var f=a[c];++c;f=I.loadExtension(f,b);if(null!=f.field)return f}return{prefix:null,field:null,value:null}};I.polyfill=function(a,b){null==b&&(b=window);var c=I.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};I.addVendorListener=function(a,b,c,f){for(var d=0,e=I.VENDOR_PREFIXES;d<e.length;){var g=
e[d];++d;a.addEventListener(g+b,c,f)}a.addEventListener(b,c,f)};I.orientation=function(a){switch(a){case -90:case 90:return vb.Landscape;default:return vb.Portrait}};I.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};I.createCanvas=function(a){var b=I.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};I.detectSlowDriver=function(a){if(0<=window.navigator.platform.indexOf("Win")&&
null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};I.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var Q=function(a){this._disposed=!1;this.buffer=a};g["flambe.platform.html.WebAudioSound"]=Q;Q.__name__=["flambe","platform","html","WebAudioSound"];
Q.__interfaces__=[gc];Q.get_supported=function(){if(Q._detectSupport){Q._detectSupport=!1;var a=I.loadExtension("AudioContext").value;null!=a&&(Q.ctx=new a,Q.gain=Q.createGain(),Q.gain.connect(Q.ctx.destination),t.volume.watch(function(a){Q.gain.gain.value=a}))}return null!=Q.ctx};Q.createGain=function(){return null!=Q.ctx.createGain?Q.ctx.createGain():Q.ctx.createGainNode()};Q.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};Q.__super__=ua;Q.prototype=l(ua.prototype,{play:function(a){null==
a&&(a=1);return new Dc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Dc(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:Q});var Dc=function(a,b,c){var f=this;this._sound=a;this._head=Q.gain;this._complete=new Aa(!1);this._sourceNode=Q.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){f._complete.set__(!0)};Q.start(this._sourceNode,0);this.playAudio();this.volume=
new ca(b,function(a){f.setVolume(a)});1!=b&&this.setVolume(b);t.hidden._value&&this.set_paused(!0)};g["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=Dc;Dc.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];Dc.__interfaces__=[pd,hc];Dc.prototype={get_sound:function(){return this._sound},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},
get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(Q.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=
Q.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=Q.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Bb.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=t.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,
a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:Dc};var tg=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,
this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new sd(a);this._drawPatternShader=new td(a);this._fillRectShader=new ud(a);this.resize(16)};g["flambe.platform.html.WebGLBatcher"]=tg;tg.__name__=["flambe","platform","html","WebGLBatcher"];tg.prototype={resizeBackbuffer:function(a,b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},willRender:function(){},didRender:function(){this.flush()},bindTexture:function(a){this.flush();
this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,a)},deleteTexture:function(a){null!=this._lastTexture&&this._lastTexture.root==a&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},bindFramebuffer:function(a){a!=this._lastRenderTarget&&(this.flush(),this.bindRenderTarget(a))},deleteFramebuffer:function(a){a==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},
prepareDrawTexture:function(a,b,c,f){f!=this._lastTexture&&(this.flush(),this._lastTexture=f);return this.prepareQuad(5,a,b,c,this._drawTextureShader)},prepareFillRect:function(a,b,c){return this.prepareQuad(6,a,b,c,this._fillRectShader)},prepareQuad:function(a,b,c,f,d){b!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);d!=this._lastShader&&(this.flush(),this._lastShader=d);if(null!=f||null!=this._lastScissor)if(null==f||
null==this._lastScissor||!this._lastScissor.equals(f))this.flush(),this._lastScissor=null!=f?f.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,
771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&
(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/b.width,a.rootY/b.height,a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,
6*this._quads,5123,0);this._dataOffset=this._quads=0}},resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var f=c++;b[6*f]=4*f;b[6*f+1]=4*f+1;b[6*f+2]=4*f+2;b[6*f+3]=4*f+2;b[6*f+4]=4*f+3;b[6*f+5]=4*f}this._gl.bufferData(34963,b,35044)}},bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,
null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=a},__class__:tg};var eb=function(a,b){this._inverseProjection=this._stateList=null;null==eb._scratchQuadArray&&(eb._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};g["flambe.platform.html.WebGLGraphics"]=eb;eb.__name__=["flambe","platform","html","WebGLGraphics"];eb.__interfaces__=[zc];eb.prototype={save:function(){var a=this._stateList,b=this._stateList.next;
null==b&&(b=new vd,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},transform:function(a,b,c,f,d,e){var g=this._stateList;eb._scratchMatrix.set(a,b,c,f,d,e);ab.multiply(g.matrix,eb._scratchMatrix,g.matrix)},restore:function(){this._stateList=this._stateList.prev},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,f,d,e,
g){var i=this._stateList,h=a.root,b=this.transformQuad(b,c,e,g),c=h.width,h=h.height,f=(a.rootX+f)/c,d=(a.rootY+d)/h,e=f+e/c,g=d+g/h,c=i.alpha,a=this._batcher.prepareDrawTexture(this._renderTarget,i.blendMode,i.scissor,a),i=this._batcher.data;i[a]=b[0];i[++a]=b[1];i[++a]=f;i[++a]=d;i[++a]=c;i[++a]=b[2];i[++a]=b[3];i[++a]=e;i[++a]=d;i[++a]=c;i[++a]=b[4];i[++a]=b[5];i[++a]=e;i[++a]=g;i[++a]=c;i[++a]=b[6];i[++a]=b[7];i[++a]=f;i[++a]=g;i[++a]=c},fillRect:function(a,b,c,f,d){var e=this._stateList,b=this.transformQuad(b,
c,f,d),c=(a&16711680)/16711680,f=(a&65280)/65280,a=(a&255)/255,d=e.alpha,e=this._batcher.prepareFillRect(this._renderTarget,e.blendMode,e.scissor),g=this._batcher.data;g[e]=b[0];g[++e]=b[1];g[++e]=c;g[++e]=f;g[++e]=a;g[++e]=d;g[++e]=b[2];g[++e]=b[3];g[++e]=c;g[++e]=f;g[++e]=a;g[++e]=d;g[++e]=b[4];g[++e]=b[5];g[++e]=c;g[++e]=f;g[++e]=a;g[++e]=d;g[++e]=b[6];g[++e]=b[7];g[++e]=c;g[++e]=f;g[++e]=a;g[++e]=d},multiplyAlpha:function(a){this._stateList.alpha*=a},setBlendMode:function(a){this._stateList.blendMode=
a},applyScissor:function(a,b,c,f){var d=this._stateList,e=eb._scratchQuadArray;e[0]=a;e[1]=b;e[2]=a+c;e[3]=b+f;d.matrix.transformArray(e,4,e);this._inverseProjection.transformArray(e,4,e);a=e[0];b=e[1];c=e[2]-a;f=e[3]-b;0>c&&(a+=c,c=-c);0>f&&(b+=f,f=-f);d.applyScissor(a,b,c,f)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(a,b){this._stateList=new vd;var c;c=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/
b,-1,c);this._inverseProjection=new ab;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},transformQuad:function(a,b,c,f){var c=a+c,f=b+f,d=eb._scratchQuadArray;d[0]=a;d[1]=b;d[2]=c;d[3]=b;d[4]=c;d[5]=f;d[6]=a;d[7]=f;this._stateList.matrix.transformArray(d,8,d);return d},__class__:eb};var vd=function(){this.scissor=this.prev=this.next=null;this.matrix=new ab;this.alpha=1;this.blendMode=da.Normal};g["flambe.platform.html._WebGLGraphics.DrawingState"]=vd;vd.__name__=["flambe",
"platform","html","_WebGLGraphics","DrawingState"];vd.prototype={applyScissor:function(a,b,c,f){if(null!=this.scissor)var d=ta.max(this.scissor.x,a),e=ta.max(this.scissor.y,b),c=ta.min(this.scissor.x+this.scissor.width,a+c),f=ta.min(this.scissor.y+this.scissor.height,b+f),a=d,b=e,c=c-d,f=f-e;else this.scissor=new bb;this.scissor.set(Math.round(a),Math.round(b),Math.round(c),Math.round(f))},__class__:vd};var cd=function(a,b){var c=this;this._hasGPU=new Aa(!0);this.gl=b;b.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();c._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);a.resize.connect(e(this,this.onResize));this.init()};g["flambe.platform.html.WebGLRenderer"]=cd;cd.__name__=["flambe","platform","html","WebGLRenderer"];cd.__interfaces__=[Ac];cd.prototype={get_type:function(){return db.WebGL},createTextureFromImage:function(a){if(this.gl.isContextLost())return null;var b=new Db(this,a.width,a.height);b.uploadImageData(a);
return b.createTexture(a.width,a.height)},createTexture:function(a,b){if(this.gl.isContextLost())return null;var c=new Db(this,a,b);c.clear();return c.createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){this.gl.isContextLost();return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,
b)},init:function(){this.batcher=new tg(this.gl);this.graphics=new eb(this.batcher,null);this.onResize()},__class__:cd};var wd=function(a,b,c){pb.call(this,a,b,c)};g["flambe.platform.html.WebGLTexture"]=wd;wd.__name__=["flambe","platform","html","WebGLTexture"];wd.__super__=pb;wd.prototype=l(pb.prototype,{__class__:wd});var Db=function(a,b,c){this.framebuffer=this._graphics=null;this._disposed=!1;this._renderer=a;this.width=ta.max(2,qg.nextPowerOfTwo(b));this.height=ta.max(2,qg.nextPowerOfTwo(c));
b=a.gl;this.nativeTexture=b.createTexture();a.batcher.bindTexture(this.nativeTexture);b.texParameteri(3553,10242,33071);b.texParameteri(3553,10243,33071);b.texParameteri(3553,10240,9729);b.texParameteri(3553,10241,9728)};g["flambe.platform.html.WebGLTextureRoot"]=Db;Db.__name__=["flambe","platform","html","WebGLTextureRoot"];Db.__interfaces__=[od];Db.drawBorder=function(a,b,c){var f=a.getContext("2d");f.drawImage(a,b-1,0,1,c,b,0,1,c);f.drawImage(a,0,c-1,b,1,0,c,b,1)};Db.__super__=ua;Db.prototype=
l(ua.prototype,{createTexture:function(a,b){return new wd(this,a,b)},uploadImageData:function(a){if(this.width!=a.width||this.height!=a.height){var b=I.createEmptyCanvas(this.width,this.height);b.getContext("2d").drawImage(a,0,0);Db.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},clear:function(){this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,this.width,
this.height,0,6408,5121,null)},getGraphics:function(){if(null==this._graphics){this._graphics=new eb(this._renderer.batcher,this);this._graphics.onResize(this.width,this.height);var a=this._renderer.gl;this.framebuffer=a.createFramebuffer();this._renderer.batcher.bindFramebuffer(this);a.framebufferTexture2D(36160,36064,3553,this.nativeTexture,0)}return this._graphics},onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&a.deleteFramebuffer(this);this._graphics=
this.framebuffer=this.nativeTexture=null},__class__:Db});var La=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+c;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,La.createShader(a,35633,b));a.attachShader(this._program,La.createShader(a,35632,c));a.linkProgram(this._program);a.useProgram(this._program)};g["flambe.platform.shader.ShaderGL"]=La;La.__name__=["flambe","platform","shader","ShaderGL"];La.createShader=function(a,b,c){b=a.createShader(b);a.shaderSource(b,
c);a.compileShader(b);return b};La.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){null},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},__class__:La};var td=function(a){La.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};g["flambe.platform.shader.DrawPatternGL"]=
td;td.__name__=["flambe","platform","shader","DrawPatternGL"];td.__super__=La;td.prototype=l(La.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},setRegion:function(a,b,c,f){this._gl.uniform4f(this.u_region,a,b,c,f)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,
8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:td});var sd=function(a){La.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};g["flambe.platform.shader.DrawTextureGL"]=sd;sd.__name__=["flambe","platform","shader","DrawTextureGL"];sd.__super__=La;sd.prototype=l(La.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:sd});var ud=function(a){La.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};g["flambe.platform.shader.FillRectGL"]=ud;ud.__name__=["flambe","platform","shader","FillRectGL"];ud.__super__=La;ud.prototype=l(La.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,
3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:ud});var xd=function(){this._transitor=null;h.call(this);this.scenes=[];this.occludedScenes=[];this._root=new k};g["flambe.scene.Director"]=xd;xd.__name__=["flambe","scene","Director"];xd.__super__=h;xd.prototype=l(h.prototype,{get_name:function(){return"Director_51"},pushScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();null!=f?this.playTransition(f,a,b,function(){c.hide(f)}):(this.add(a),
this.invalidateVisibility())},popScene:function(a){var b=this;this.completeTransition();var c=this.get_topScene();if(null!=c){this.scenes.pop();var f=this.get_topScene();null!=f?this.playTransition(c,f,a,function(){b.hideAndDispose(c)}):(this.hideAndDispose(c),this.invalidateVisibility())}},unwindToScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();if(null!=f){if(f!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();
this.playTransition(f,a,b,function(){c.hideAndDispose(f)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=
this.get_topScene();null!=b&&this._root.removeChild(b);A.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_0;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_0;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_0;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-
1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,f){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new ug(a,b,c,f),this._transitor.init(this)):(f(),this.invalidateVisibility())},__class__:xd});var ug=function(a,b,c,f){this._from=a;this._to=b;this._transition=c;this._onComplete=f};g["flambe.scene._Director.Transitor"]=
ug;ug.__name__=["flambe","scene","_Director","Transitor"];ug.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:ug};var Ec=function(){};g["flambe.scene.Transition"]=Ec;Ec.__name__=["flambe","scene","Transition"];Ec.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:Ec};
var Eb=function(a,b){this._duration=a;this._ease=null!=b?b:T.linear};g["flambe.scene.TweenTransition"]=Eb;Eb.__name__=["flambe","scene","TweenTransition"];Eb.__super__=Ec;Eb.prototype=l(Ec.prototype,{init:function(a,b,c){Ec.prototype.init.call(this,a,b,c);this._elapsed=0},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},interp:function(a,b){return a+(b-a)*this._ease(this._elapsed/this._duration)},__class__:Eb});var jc=function(a,b){Eb.call(this,a,b)};g["flambe.scene.FadeTransition"]=
jc;jc.__name__=["flambe","scene","FadeTransition"];jc.__super__=Eb;jc.prototype=l(Eb.prototype,{init:function(a,b,c){Eb.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_1;null==a&&this._to.add(a=new q);a.alpha.set__(0)},update:function(a){a=Eb.prototype.update.call(this,a);this._to._compMap.Sprite_1.alpha.set__(this.interp(0,1));return a},complete:function(){this._to._compMap.Sprite_1.alpha.set__(1)},__class__:jc});var Fb=function(a){null==a&&(a=!0);h.call(this);this.opaque=a;this.shown=
new K;this.hidden=new K};g["flambe.scene.Scene"]=Fb;Fb.__name__=["flambe","scene","Scene"];Fb.__super__=h;Fb.prototype=l(h.prototype,{get_name:function(){return"Scene_0"},__class__:Fb});var rb=function(){};g["flambe.script.Action"]=rb;rb.__name__=["flambe","script","Action"];rb.prototype={__class__:rb};var kc=function(a,b,c,f){this._value=a;this._by=b;this._seconds=c;this._easing=f};g["flambe.script.AnimateBy"]=kc;kc.__name__=["flambe","script","AnimateBy"];kc.__interfaces__=[rb];kc.prototype={update:function(a){null==
this._tween&&(this._tween=new jb(this._value._value,this._value._value+this._by,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:kc};var Ia=function(a,b,c,f){this._value=a;this._to=b;this._seconds=c;this._easing=f};g["flambe.script.AnimateTo"]=Ia;Ia.__name__=["flambe","script","AnimateTo"];Ia.__interfaces__=[rb];Ia.prototype=
{update:function(a){null==this._tween&&(this._tween=new jb(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:Ia};var ka=function(a){this._fn=a};g["flambe.script.CallFunction"]=ka;ka.__name__=["flambe","script","CallFunction"];ka.__interfaces__=[rb];ka.prototype={update:function(){this._fn();
return 0},__class__:ka};var L=function(a){this._duration=a;this._elapsed=0};g["flambe.script.Delay"]=L;L.__name__=["flambe","script","Delay"];L.__interfaces__=[rb];L.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:L};var fb=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():[]};g["flambe.script.Parallel"]=fb;fb.__name__=["flambe","script","Parallel"];fb.__interfaces__=
[rb];fb.prototype={add:function(a){this._runningActions.push(a)},update:function(a,b){for(var c=!0,f=0,d=0,e=this._runningActions.length;d<e;){var g=d++,i=this._runningActions[g];if(null!=i){var h=i.update(a,b);0<=h?(this._runningActions[g]=null,this._completedActions.push(i),h>f&&(f=h)):c=!1}}return c?(this._runningActions=this._completedActions,this._completedActions=[],f):-1},__class__:fb};var xb=function(a,b){null==b&&(b=-1);this._action=a;this._remaining=this._count=b};g["flambe.script.Repeat"]=
xb;xb.__name__=["flambe","script","Repeat"];xb.__interfaces__=[rb];xb.prototype={update:function(a,b){if(0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&0<=c&&0==--this._remaining?(this._remaining=this._count,c):-1},__class__:xb};var Ca=function(){h.call(this);this.stopAll()};g["flambe.script.Script"]=Ca;Ca.__name__=["flambe","script","Script"];Ca.__super__=h;Ca.prototype=l(h.prototype,{get_name:function(){return"Script_38"},run:function(a){a=new yd(a);this._handles.push(a);
return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:Ca});var yd=function(a){this.removed=!1;this.action=a};g["flambe.script._Script.Handle"]=yd;yd.__name__=["flambe","script","_Script","Handle"];yd.__interfaces__=[ob];yd.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:yd};var va=function(a){this._idx=0;this._runningActions=
null!=a?a.slice():[]};g["flambe.script.Sequence"]=va;va.__name__=["flambe","script","Sequence"];va.__interfaces__=[rb];va.prototype={add:function(a){this._runningActions.push(a)},update:function(a,b){for(var c=0;;){var f=this._runningActions[this._idx];if(null!=f)if(f=f.update(a-c,b),0<=f)c+=f;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:va};var db=g["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem",
"RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};db.Stage3D=["Stage3D",0];db.Stage3D.toString=p;db.Stage3D.__enum__=db;db.WebGL=["WebGL",1];db.WebGL.toString=p;db.WebGL.__enum__=db;db.Canvas=["Canvas",2];db.Canvas.toString=p;db.Canvas.__enum__=db;var zd=function(){};g["flambe.swf.Symbol"]=zd;zd.__name__=["flambe","swf","Symbol"];zd.prototype={__class__:zd};var Ad=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=
c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};g["flambe.swf.BitmapSymbol"]=Ad;Ad.__name__=["flambe","swf","BitmapSymbol"];Ad.__interfaces__=[zd];Ad.prototype={createSprite:function(){var a=new F(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},__class__:Ad};var G=function(a,b){this._file=a.getFile(b+"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new S;this.frameRate=c.frameRate;for(var f=[],d=0,e=c.movies;d<e.length;){var g=e[d];++d;g=new Bd(this,g);f.push(g);
this._symbols.set(g._name,g)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(d=0;d<c.length;){var i=c[d];++d;e=a.getTexture(b+"/"+sa.removeFileExtension(i.file));g=0;for(i=i.textures;g<i.length;){var h=i[g];++g;h=new Ad(h,e);this._symbols.set(h._name,h)}}for(c=0;c<f.length;){e=f[c];++c;d=0;for(e=e.layers;d<e.length;){g=e[d];++d;g=g.keyframes;i=g.length;for(h=0;h<i;){var j=h++,k=g[j];if(null!=k.symbolName){var l=this._symbols.get(k.symbolName);k.symbol=l}if(k.tweened&&
1==k.duration&&j+1<i&&(j=g[j+1],!j.visible||null==j.symbolName))k.visible=!1}}}};g["flambe.swf.Library"]=G;G.__name__=["flambe","swf","Library"];G.prototype={createSprite:function(a,b){null==b&&(b=!0);var c=this._symbols.get(a);if(null==c){if(b)throw sa.withFields("Missing symbol",["name",a]);return null}return c.createSprite()},__class__:G};var Gb=function(a){this._oneshotSprite=this._loopingSprite=null;h.call(this);this._lib=a;this._root=new k;this.movie=new Aa(null);this.setCache(!0)};g["flambe.swf.MoviePlayer"]=
Gb;Gb.__name__=["flambe","swf","MoviePlayer"];Gb.__super__=h;Gb.prototype=l(h.prototype,{get_name:function(){return"MoviePlayer_48"},setCache:function(a){this._cache=a?new S:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this._oneshotSprite||this._oneshotSprite.symbol._name!=a)this._oneshotSprite=this.playFromCache(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)this._oneshotSprite=null,this._loopingSprite=this.playFromCache(a);
return this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose();this._oneshotSprite=this._loopingSprite=null;this.movie.set__(null)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},playFromCache:function(a){var b;null!=this._cache?(b=this._cache.get(a),null!=b?b.set_position(0):(b=this.createMovie(a),this._cache.set(a,b))):
b=this.createMovie(a);return this.setCurrent(b)},createMovie:function(a){a=this._lib.createSprite(a,!0);null!=this._decorator&&this._decorator(a);return a},setCurrent:function(a){this._root.add(a);return this.movie.set__(a)},__class__:Gb});var Fc=function(a){this._looped=null;q.call(this);this.symbol=a;this.speed=new ca(1);this._animators=Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var f=b++;this._animators[f]=new vg(a.layers[f])}this._position=this._frame=0;this["goto"](1)};
g["flambe.swf.MovieSprite"]=Fc;Fc.__name__=["flambe","swf","MovieSprite"];Fc.__super__=q;Fc.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},onRemoved:function(){q.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onUpdate:function(a){q.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&
384){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 256:this._flags&=-257}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var f=c[b];++b;f.needsKeyframeUpdate=!0;f.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)f=c[b],++b,f.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=
ta.clamp(a,0,this.symbol.duration)},set_paused:function(a){this._flags=fd.set(this._flags,128,a);return a},rewind:function(){this._position=0;this._flags|=256},__class__:Fc});var vg=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new k;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,c=this._sprites.length;b<c;){var f=b++,d=a.keyframes[f];this._sprites[f]=0<f&&a.keyframes[f-1].symbol==d.symbol?this._sprites[f-1]:null==d.symbol?
new q:d.symbol.createSprite()}this.content.add(this._sprites[0])}};g["flambe.swf._MovieSprite.LayerAnimator"]=vg;vg.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];vg.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;
var f;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,f=this._sprites[this.keyframeIdx],f!=this.content._compMap.Sprite_1&&(aa.getClass(f)==Fc&&f.rewind(),this.content.add(f))):f=this.content._compMap.Sprite_1;var d=b[this.keyframeIdx],e=d.visible&&null!=d.symbol;f.set_visible(e);if(e){var e=d.x,g=d.y,i=d.scaleX,h=d.scaleY,j=d.skewX,k=d.skewY,l=d.alpha;if(d.tweened&&this.keyframeIdx<c){a=(a-d.index)/d.duration;c=d.ease;if(0!=c){var m;0>c?(m=1-a,m=1-m*m,c=-c):m=a*a;a=c*m+(1-c)*a}b=b[this.keyframeIdx+
1];e+=(b.x-e)*a;g+=(b.y-g)*a;i+=(b.scaleX-i)*a;h+=(b.scaleY-h)*a;j+=(b.skewX-j)*a;k+=(b.skewY-k)*a;l+=(b.alpha-l)*a}b=f.getLocalMatrix();a=Math.sin(j);j=Math.cos(j);c=Math.sin(k);k=Math.cos(k);b.set(k*i,c*i,-a*h,j*h,e,g);b.translate(-d.pivotX,-d.pivotY);f.alpha.set__(l)}}}},__class__:vg};var Bd=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,f=this.layers.length;c<f;){var d=c++,e=new wg(b.layers[d]);this.frames=Math.max(e.frames,
this.frames);this.layers[d]=e}this.duration=this.frames/this.frameRate};g["flambe.swf.MovieSymbol"]=Bd;Bd.__name__=["flambe","swf","MovieSymbol"];Bd.__interfaces__=[zd];Bd.prototype={createSprite:function(){return new Fc(this)},__class__:Bd};var wg=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,f=this.keyframes.length;c<f;){var d=c++,b=new xg(a.keyframes[d],b);this.keyframes[d]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=
b?b.index+b.duration:0};g["flambe.swf.MovieLayer"]=wg;wg.__name__=["flambe","swf","MovieLayer"];wg.prototype={__class__:wg};var xg=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=
c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};g["flambe.swf.MovieKeyframe"]=xg;xg.__name__=["flambe","swf","MovieKeyframe"];xg.prototype={__class__:xg};var dg=function(){};g["flambe.util.Assert"]=dg;dg.__name__=["flambe","util","Assert"];dg.that=function(){};var fd=function(){};g["flambe.util.BitSets"]=
fd;fd.__name__=["flambe","util","BitSets"];fd.set=function(a,b,c){return c?a|b:a&~b};var jd=function(){this.success=new E;this.error=new E;this.progressChanged=new K;this.hasResult=!1;this._total=this._progress=0};g["flambe.util.Promise"]=jd;jd.__name__=["flambe","util","Promise"];jd.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):
this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:jd};var K=function(a){ra.call(this,a)};g["flambe.util.Signal0"]=K;K.__name__=["flambe","util","Signal0"];K.__super__=ra;K.prototype=l(ra.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==ra.DISPATCHING_SENTINEL?
this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:K});var ag=function(a){this.next=null;this.fn=a};g["flambe.util._SignalBase.Task"]=ag;ag.__name__=["flambe","util","_SignalBase","Task"];ag.prototype={__class__:ag};var sa=function(){};g["flambe.util.Strings"]=sa;sa.__name__=["flambe","util","Strings"];sa.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<
b?A.substr(a,b+1,null):null};sa.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?A.substr(a,0,b):a};sa.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=A.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=A.substr(a,b+1,null));return sa.getFileExtension(a)};sa.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};sa.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",f=0;f<c;){0<f&&(a+=", ");var d=b[f],e=b[f+1];
if(C.is(e,Error)){var g=e.stack;null!=g&&(e=g)}a+=d+"="+C.string(e);f+=2}a+="]"}return a};var lc=function(){h.call(this)};g["flambesdk.AutoScale"]=lc;lc.__name__=["flambesdk","AutoScale"];lc.__super__=h;lc.prototype=l(h.prototype,{get_name:function(){return"AutoScale_32"},onAdded:function(){null!=this.owner._compMap.Sprite_1?this._scaleSprite=this.owner._compMap.Sprite_1:(this._scaleSprite=new q,this.owner.add(this._scaleSprite))},onUpdate:function(){var a=wa.get_canvasScale();lc.SCALE=a;null!=a&&
a!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(a),this._scaleSprite.scaleY.set__(a))},__class__:lc});var Ma=function(){};g["flambesdk.BaseUtils"]=Ma;Ma.__name__=["flambesdk","BaseUtils"];Ma.setupManifest=function(a){""!=Ma.BASE_URL&&(wa.get_isCrossdomain()?a.set_remoteBase(Ma.BASE_URL):a.set_localBase(Ma.BASE_URL));return a};Ma.setupBaseURL=function(){Ma.BASE_URL=wa.get_exists()?wa.get_isCrossdomain()?Ma.appendAssetsToUrl(wa.get_base()):Ma.trimUrl(wa.get_base()):""};Ma.trimUrl=
function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=A.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=A.substr(a,b,a.length-b);return a=Ma.appendAssetsToUrl(a)};Ma.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-1)&&(a+="/");return a+"assets/"};var Cd=function(){h.call(this);this.sdk=new Da;t.uncaughtError.connect((ha=this.sdk,e(ha,ha.onException)));M.onSuspendToggle=function(a){t.root.add(new Qb(a?
0:1))}};g["flambesdk.SDKComponent"]=Cd;Cd.__name__=["flambesdk","SDKComponent"];Cd.__super__=h;Cd.prototype=l(h.prototype,{get_name:function(){return"SDKComponent_30"},onUpdate:function(a){this.sdk.onUpdate(a)},__class__:Cd});var mb=function(){};g["flindigo.EmbedProxy"]=mb;mb.__name__=["flindigo","EmbedProxy"];mb.get_exists=function(){return mb.callJSEmbedMethod("exists()")};mb.get_base=function(){return mb.callJSEmbedMethod("baseUrl()")};mb.get_isCrossdomain=function(){return mb.callJSEmbedMethod("isBaseCrossdomain()")};
mb.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);if(null!=b)return b}catch(c){return"Error"}return""};var Sa=function(){};g["flindigo.Engine"]=Sa;Sa.__name__=["flindigo","Engine"];Sa.init=function(a,b,c,f){null==f&&(f=!0);t.init();i.init(a,b,c,f);Sa.setupBaseURL();Sa.isPaused=!1};Sa.setupBaseURL=function(){Sa.baseUrl=mb.get_exists()?mb.get_isCrossdomain()?Sa.appendAssetsToUrl(mb.get_base()):Sa.trimUrl(mb.get_base()):""};Sa.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==
a.charAt(0)&&(a=A.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=A.substr(a,b,a.length-b);return a=Sa.appendAssetsToUrl(a)};Sa.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-1)&&(a+="/");return a+"assets/"};var Na=g["flindigo.ScaleDocking"]={__ename__:["flindigo","ScaleDocking"],__constructs__:["HEIGHT","WIDTH","AUTO"]};Na.HEIGHT=["HEIGHT",0];Na.HEIGHT.toString=p;Na.HEIGHT.__enum__=Na;Na.WIDTH=["WIDTH",1];Na.WIDTH.toString=
p;Na.WIDTH.__enum__=Na;Na.AUTO=["AUTO",2];Na.AUTO.toString=p;Na.AUTO.__enum__=Na;var i=function(){};g["flindigo.MainStage"]=i;i.__name__=["flindigo","MainStage"];i.init=function(a,b,c,f){i._scaleDocking=null==c?Na.AUTO:c;i._designSizeWidth=a;i._designSizeHeight=b;i._isCenteredOrigin=f;i.setupMainStageSprite();i.setupStageResizeListener();i.resizeStage()};i.setupMainStageSprite=function(){i._mainStageSprite=new q;t.root.add(i._mainStageSprite)};i.setupStageResizeListener=function(){t._platform.getStage().resize.connect(i.onStageResize)};
i.onStageResize=function(){i.resizeStage()};i.resizeStage=function(){i._computedStageScale=i.computeScaleAccordingToNewStageDimensions();i._screenWidth=i.getScreenWidth();i._screenHeight=i.getScreenHeight();i._mainStageSprite.setScale(i._computedStageScale);i.centerStage()};i.computeScaleAccordingToNewStageDimensions=function(){var a=t._platform.getStage().get_width(),b=t._platform.getStage().get_height(),c=i._designSizeWidth,f=i._designSizeHeight,d=1;return d=i._scaleDocking==Na.HEIGHT?b/f:i._scaleDocking==
Na.WIDTH?a/c:a/c<b/f?a/c:b/f};i.getScreenHeight=function(){return t._platform.getStage().get_height()/i._computedStageScale};i.getScreenWidth=function(){return t._platform.getStage().get_width()/i._computedStageScale};i.centerStage=function(){var a=t._platform.getStage().get_width()-i._designSizeWidth*i._computedStageScale,b=t._platform.getStage().get_height()-i._designSizeHeight*i._computedStageScale;i._isCenteredOrigin&&(i._mainStageSprite.x.set__(a/2+i._designSizeWidth*i._computedStageScale/2),
i._mainStageSprite.y.set__(b/2+i._designSizeHeight*i._computedStageScale/2))};i.get_computedStageScale=function(){return i._computedStageScale};i.get_stageWidth=function(){return i._designSizeWidth};i.get_stageHeight=function(){return i._designSizeHeight};i.get_screenWidth=function(){return i._screenWidth};i.get_screenHeight=function(){return i._screenHeight};i.get_scaledStageWidth=function(){return Y.getInstance().scale*i._designSizeWidth};i.get_scaledStageHeight=function(){return Y.getInstance().scale*
i._designSizeHeight};i.get_scaledScreenWidth=function(){return Y.getInstance().scale*i._screenWidth};i.get_scaledScreenHeight=function(){return Y.getInstance().scale*i._screenHeight};var m=function(){};g["flindigo.Utils"]=m;m.__name__=["flindigo","Utils"];m.getGlobalCoordinates=function(a){a=a.getViewMatrix();return new Cb(a.m02/i.get_computedStageScale(),a.m12/i.get_computedStageScale())};m.callWithDelay=function(a,b,c){null==c&&(c=1);if(null==a)throw"callerEntity should not be null!";var f=new Ca;
a.addChild((new k).add(f));a=new va([new L(c),b,new ma(m.onDisposeScript,f)]);f.run(a);return f};m.onDisposeScript=function(a){null!=a.owner&&a.owner.dispose()};var ba=function(a){this._sequenceIndex=0;Gb.call(this,a)};g["flindigo.animation.MoviePlayer"]=ba;ba.__name__=["flindigo","animation","MoviePlayer"];ba.__super__=Gb;ba.prototype=l(Gb.prototype,{playOnce:function(a,b,c){null==c&&(c=!0);return this.playSequence([a],b,c)},playSequence:function(a,b){this._sequenceIndex=0;this._toCallOnSequenceEnd=
b;this._sequenceArray=a;this.resume();this.play(this._sequenceArray[this._sequenceIndex],!0);return this},onUpdate:function(a){0<this._sequenceIndex?null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,null!=this._toCallOnSequenceEnd?(this._toCallOnSequenceEnd(),this._toCallOnSequenceEnd=null):this.setCurrent(this._loopingSprite)):null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=
null,this._sequenceIndex++,null!=this._sequenceArray&&(this._sequenceIndex<this._sequenceArray.length?this.play(this._sequenceArray[this._sequenceIndex]):(null!=this._toCallOnSequenceEnd&&(this._toCallOnSequenceEnd(),this._toCallOnSequenceEnd=null),null!=this.owner&&(this.setCurrent(this._loopingSprite),this._sequenceIndex=0))))},pause:function(){this.movie._value.set_paused(!0)},resume:function(){this.movie._value.set_paused(!1)},dispose:function(){Gb.prototype.dispose.call(this);this._toCallOnSequenceEnd=
this._sequenceArray=null},__class__:ba});var Gc=function(a,b,c,f){this.isPaused=!1;jb.call(this,a,b,c,f)};g["flindigo.animation.Tween"]=Gc;Gc.__name__=["flindigo","animation","Tween"];Gc.__super__=jb;Gc.prototype=l(jb.prototype,{update:function(a){return!0==this.isPaused?this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration):jb.prototype.update.call(this,a)},__class__:Gc});var O=g["flindigo.common.Direction"]={__ename__:["flindigo","common","Direction"],__constructs__:["UP","RIGHT",
"DOWN","LEFT"]};O.UP=["UP",0];O.UP.toString=p;O.UP.__enum__=O;O.RIGHT=["RIGHT",1];O.RIGHT.toString=p;O.RIGHT.__enum__=O;O.DOWN=["DOWN",2];O.DOWN.toString=p;O.DOWN.__enum__=O;O.LEFT=["LEFT",3];O.LEFT.toString=p;O.LEFT.__enum__=O;var Vb=function(){};g["flindigo.hdsd.HdSdManager"]=Vb;Vb.__name__=["flindigo","hdsd","HdSdManager"];Vb.getGlobalRectangleSprite=function(a){var b=m.getGlobalCoordinates(a),c=Y.getInstance().scale;return new bb(b.x*c,b.y*c,a.getNaturalWidth(),a.getNaturalHeight())};var Y=function(){this.scale=
1};g["flindigo.hdsd.HdSdScaler"]=Y;Y.__name__=["flindigo","hdsd","HdSdScaler"];Y.getInstance=function(){null==Y._instance&&(Y._instance=new Y);return Y._instance};Y.prototype={set_scale:function(a){return this.scale=a},applyScaling:function(a){var b=a.owner._compMap.Sprite_1;null==b&&(b=new q,a.owner.add(b));b.setScale(1/this.scale)},getDefinitionVersion:function(){return 1>this.scale?"_sd":"_hd"},__class__:Y};var sb=function(a,b){this.applyHdSdScaling=!1;la.call(this,a,b);la.prototype.setScale.call(this,
Y.getInstance().scale)};g["flindigo.hdsd.HdSdTextSprite"]=sb;sb.__name__=["flindigo","hdsd","HdSdTextSprite"];sb.__super__=la;sb.prototype=l(la.prototype,{setScale:function(a){return la.prototype.setScale.call(this,a*Y.getInstance().scale)},setScaleXY:function(a,b){return la.prototype.setScaleXY.call(this,a*Y.getInstance().scale,b*Y.getInstance().scale)},getNaturalWidth:function(){return la.prototype.getNaturalWidth.call(this)*this.scaleX._value},getNaturalHeight:function(){return la.prototype.getNaturalHeight.call(this)*
this.scaleY._value},setWrapWidth:function(a){return la.prototype.setWrapWidth.call(this,a/Y.getInstance().scale)},centerAnchor:function(){this.anchorX.set__(la.prototype.getNaturalWidth.call(this)/2);this.anchorY.set__(la.prototype.getNaturalHeight.call(this)/2);return this},setXY:function(a,b){return this.applyHdSdScaling?la.prototype.setXY.call(this,a*Y.getInstance().scale,b*Y.getInstance().scale):la.prototype.setXY.call(this,a,b)},__class__:sb});var Ta=function(){this._hasFinishedLoadingSceneDelay=
this._hasFinishedLoadingAssetPacks=!1;this._currentAssetPackIndex=0};g["flindigo.managers.AssetLoaderManager"]=Ta;Ta.__name__=["flindigo","managers","AssetLoaderManager"];Ta.getInstance=function(){null==Ta._instance&&(Ta._instance=new Ta);return Ta._instance};Ta.prototype={loadAssetPack:function(a,b,c,f){this.loadMultipleAssetPacks([a],[b],c,f)},loadMultipleAssetPacks:function(a,b,c,f){this._assetPackList=[];this._currentLoadingScene=c;this._onSuccessFunctionArray=b;this._assetPackPathArray=a;this._delayBeforeCalling=
f;this._currentAssetPackIndex=0;this.setupLoadingSceneIfApplicable();this.setupDelayIfApplicable();this.loadAtIndex(this._currentAssetPackIndex)},addToExceptionForHdSdAssetVersioning:function(a){this.EXEMPTED_FROM_HD_SD_VERSIONING_ASSETPACK_PATH=a},updateListeners:function(){null!=this._currentLoadingScene&&this._promiseLoader.progressChanged.connect(e(this,this.onProgressChanged));this._promiseLoader.success.connect(e(this,this.onLoadingSuccess));this._promiseLoader.error.connect(e(this,this.onLoadingFailed))},
setupLoadingSceneIfApplicable:function(){null!=this._currentLoadingScene?U.getInstance().fadeNewScene(this._currentLoadingScene,0.35):this._hasFinishedLoadingAssetPacks=!0},setupDelayIfApplicable:function(){null!=this._delayBeforeCalling?m.callWithDelay(t.root,new n(e(this,this.onFinishedDelay)),this._delayBeforeCalling):this._hasFinishedLoadingSceneDelay=!0},loadAtIndex:function(a){a=this._assetPackPathArray[a];this.isExemptedFromLowVersion(a)||(a=this.getAppropriateAssetVersion(a));a=$a.fromAssets(a);
this._promiseLoader=t.loadAssetPack(Ma.setupManifest(a));this.updateListeners()},isLastAssetPack:function(){return this._currentAssetPackIndex>=this._assetPackPathArray.length},onFinishedDelay:function(){this._hasFinishedLoadingSceneDelay=!0;this.hasFinishedLoadingAndDelay()&&this.emitToAllOnSuccessListeners()},onProgressChanged:function(){this._currentLoadingScene.setLoadingPercent((this._promiseLoader._progress/this._promiseLoader._total+this._currentAssetPackIndex)/this._assetPackPathArray.length)},
onLoadingSuccess:function(a){this._assetPackList[this._currentAssetPackIndex]=a;this._currentAssetPackIndex++;this.isLastAssetPack()?(this._hasFinishedLoadingAssetPacks=!0,this.hasFinishedLoadingAndDelay()&&this.emitToAllOnSuccessListeners()):this.loadAtIndex(this._currentAssetPackIndex)},onLoadingFailed:function(a){throw"LOADING HAS FAILED: "+a;},emitToAllOnSuccessListeners:function(){for(var a=0,b=0,c=this._onSuccessFunctionArray;b<c.length;){var f=c[b];++b;f(this._assetPackList[a]);a++}null!=this._currentLoadingScene&&
this._currentLoadingScene.setReadySignal();this.reset()},hasFinishedLoadingAndDelay:function(){return this._hasFinishedLoadingAssetPacks&&this._hasFinishedLoadingSceneDelay},isExemptedFromLowVersion:function(a){for(var b=0,c=this.EXEMPTED_FROM_HD_SD_VERSIONING_ASSETPACK_PATH;b<c.length;){var f=c[b];++b;if(a==f)return!0}return!1},getAppropriateAssetVersion:function(a){return a+Y.getInstance().getDefinitionVersion();throw"Invalid asset path";},reset:function(){this._promiseLoader=this._onSuccessFunctionArray=
this._currentLoadingScene=null;this._assetPackPathArray=[];this._assetPackList=[];this._currentAssetPackIndex=0;this._hasFinishedLoadingSceneDelay=this._hasFinishedLoadingAssetPacks=!1},__class__:Ta};var U=function(){this._sceneDirector=new xd;t.root.add(this._sceneDirector);this._onTransitionFinished=new K;this._onTransitionFinished.connect(e(this,this.onTransitionFinished),!0)};g["flindigo.managers.SceneManager"]=U;U.__name__=["flindigo","managers","SceneManager"];U.getInstance=function(){null==
U._instance&&(U._instance=new U);return U._instance};U.prototype={fadeNewScene:function(a,b,c){null==b&&(b=1);var f=null;0<b&&(f=null==c?new jc(b):new jc(b,c));this.unwindToScene(a,f,b)},legacyPushScene:function(a){var b=new k;b.add(a);this._sceneDirector.pushScene(b);this.onTransitionFinished()},pullUpDrawer:function(a,b){null==b&&(b=1);var c=new jc(0);this.pushToScene(a,c,b);a.playOpeningAnimation(b)},pullDownTopDrawer:function(a){null==a&&(a=1);var b=this._sceneDirector.get_topScene(),c=C.instance(b._compMap.Scene_0,
Hb);null==c?null:c.playClosingAnimation(a);m.callWithDelay(b,new n(e(this,this.onFinishedPullingDownDrawer)),a)},onFinishedPullingDownDrawer:function(){this.popFrontScene();this._onTransitionFinished.emit()},unwindToScene:function(a,b,c){null==c&&(c=1);var f=new k;f.add(a);this._sceneDirector.unwindToScene(f,b);m.callWithDelay(this._sceneDirector.get_topScene(),new n(e(this,this.onTransitionFinished)),c)},pushToScene:function(a,b,c){null==c&&(c=1);var f=new k;f.add(a);this._sceneDirector.pushScene(f,
b);m.callWithDelay(this._sceneDirector.get_topScene(),new n(e(this,this.onTransitionFinished)),c)},popFrontScene:function(a){this._sceneDirector.popScene(a);this.onTransitionFinished()},onTransitionFinished:function(){var a=this._sceneDirector.get_topScene(),a=C.instance(a._compMap.Scene_0,z);if(null==a)null;else a.onEnterTransitionFinished(0.35)},__class__:U};var B=function(){this._isEnabled=!0;this._audioMap=new S};g["flindigo.managers.SoundManager"]=B;B.__name__=["flindigo","managers","SoundManager"];
B.getInstance=function(){null==B._instance&&(B._instance=new B);return B._instance};B.prototype={playAudio:function(a,b){var c=this._audioMap.get(a);if(null!=c){var f=c.get_sound().play();c.dispose();this._audioMap.set(a,f);return f}c=b.getSound(a).play();this._audioMap.set(a,c);return c},loopAudio:function(a,b){var c=this._audioMap.get(a);if(null!=c){var f=c,c=c.get_sound().loop();f.dispose()}else c=b.getSound(a).loop();this._audioMap.set(a,c);return c},stopAudio:function(a){var b=this._audioMap.get(a);
null!=b&&(b.dispose(),this._audioMap.remove(a));return b},stopAllAudio:function(){for(var a=this._audioMap.keys();a.hasNext();){var b=a.next(),c=this._audioMap.get(b);c.get_complete().get__()||c.dispose();this._audioMap.remove(b)}},enableAudio:function(){t.volume.set__(1);this._isEnabled=!0;Ja.getInstance().saveSoundStatus(!0)},disableAudio:function(){t.volume.set__(0);this._isEnabled=!1;Ja.getInstance().saveSoundStatus(!1)},get_isEnabled:function(){return this._isEnabled},__class__:B};var Ib=function(a){null==
a&&(a=!0);Fb.call(this,a)};g["flindigo.scene.Scene"]=Ib;Ib.__name__=["flindigo","scene","Scene"];Ib.__super__=Fb;Ib.prototype=l(Fb.prototype,{onAdded:function(){Fb.prototype.onAdded.call(this);null!=this._hiddenListenersDisposer&&this._hiddenListenersDisposer.dispose();this._hiddenListenersDisposer=new R;this.setupHiddenListeners()},setupHiddenListeners:function(){this._hiddenListenersDisposer.connect2(t.hidden.get_changed(),e(this,this.onHiddenChanged));this._hiddenListenersDisposer.connect0(this.hidden,
e(this,this.onSceneHidden));this._hiddenListenersDisposer.connect0(this.shown,e(this,this.onSceneShown))},onHiddenChanged:function(a){if(a)this.onGameHidden();else this.onGameShown()},onGameHidden:function(){},onGameShown:function(){},onSceneHidden:function(){},onSceneShown:function(){},dispose:function(){Fb.prototype.dispose.call(this);null!=this._hiddenListenersDisposer&&this._hiddenListenersDisposer.dispose();this._hiddenListenersDisposer=null},__class__:Ib});var z=function(a){null==a&&(a=!0);
Ib.call(this,a);this._signalExitTransitionStarted=new E;this._signalEnterTransitionFinished=new E;this._signalEnterTransitionStarted=new E};g["flindigo.scene.TransitionScene"]=z;z.__name__=["flindigo","scene","TransitionScene"];z.__super__=Ib;z.prototype=l(Ib.prototype,{onEnterTransitionFinished:function(a){this._signalEnterTransitionFinished.emit(a)},onAdded:function(){Ib.prototype.onAdded.call(this);Y.getInstance().applyScaling(this)},dispose:function(){var a=this.owner;Ib.prototype.dispose.call(this);
this._signalEnterTransitionStarted=this._signalExitTransitionStarted=this._signalEnterTransitionFinished=this.signalEnterTransitionStarted=this.signalExitTransitionStarted=this.signalEnterTransitionFinished=null;null!=a&&a.dispose()},__class__:z});var J=function(a,b,c,f){this.isPaused=!1;kc.call(this,a,b,c,f)};g["flindigo.script.AnimateBy"]=J;J.__name__=["flindigo","script","AnimateBy"];J.__super__=kc;J.prototype=l(kc.prototype,{update:function(a){if(!0==this.isPaused)return-1;null==this._tween&&
(this._tween=new Gc(this._value._value,this._value._value+this._by,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?a-b:0}return-1},__class__:J});var ea=function(a,b,c,f){this.isPaused=!1;Ia.call(this,a,b,c,f)};g["flindigo.script.AnimateTo"]=ea;ea.__name__=["flindigo","script","AnimateTo"];ea.__super__=Ia;ea.prototype=l(Ia.prototype,{update:function(a){if(!0==
this.isPaused)return-1;null==this._tween&&(this._tween=new Gc(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?a-b:0}return-1},__class__:ea});var Dd=function(){};g["flindigo.script.FlCallFunction"]=Dd;Dd.__name__=["flindigo","script","FlCallFunction"];Dd.__interfaces__=[rb];var n=function(a){this._fn=a};g["flindigo.script.CallFunction0"]=
n;n.__name__=["flindigo","script","CallFunction0"];n.__interfaces__=[Dd];n.prototype={update:function(){this._fn();return 0},__class__:n};var ma=function(a,b){this._fn=a;this._param=b};g["flindigo.script.CallFunction1"]=ma;ma.__name__=["flindigo","script","CallFunction1"];ma.__interfaces__=[Dd];ma.prototype={update:function(){this._fn(this._param);return 0},__class__:ma};var Hc=function(a,b,c){this._fn=a;this._param1=b;this._param2=c};g["flindigo.script.CallFunction2"]=Hc;Hc.__name__=["flindigo",
"script","CallFunction2"];Hc.__interfaces__=[Dd];Hc.prototype={update:function(){this._fn(this._param1,this._param2);return 0},__class__:Hc};var Ea=function(a,b){null==b&&(b=-1);this.isPaused=!1;xb.call(this,a,b)};g["flindigo.script.Repeat"]=Ea;Ea.__name__=["flindigo","script","Repeat"];Ea.__super__=xb;Ea.prototype=l(xb.prototype,{update:function(a,b){if(!0==this.isPaused||0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&0<=c&&0==--this._remaining?(this._remaining=this._count,
c):-1},__class__:Ea});var na=function(){this.isPaused=!1;Ca.call(this)};g["flindigo.script.Script"]=na;na.__name__=["flindigo","script","Script"];na.__super__=Ca;na.prototype=l(Ca.prototype,{onUpdate:function(a){this.isPaused||Ca.prototype.onUpdate.call(this,a)},run:function(a){this.isPaused=!1;return Ca.prototype.run.call(this,a)},__class__:na});var oa=function(a){this.isPaused=!1;va.call(this,a)};g["flindigo.script.Sequence"]=oa;oa.__name__=["flindigo","script","Sequence"];oa.__super__=va;oa.prototype=
l(va.prototype,{update:function(a,b){return!0==this.isPaused?-1:va.prototype.update.call(this,a,b)},__class__:oa});var V=function(a,b,c,f,d,e,g){null==g&&(g=0);null==e&&(e=0);this._normalScaleValueX=this._normalScaleValueY=1;this.onPointerDownSignal=new K;this.onPointerUpSignal=new K;h.call(this);this._normalTexture=a;this._hoverTexture=b;this._clickTexture=c;this._disabledTexture=f;this._label=d;this._scaleWhenClicked=e;this._scaleWhenHovered=g;this._isEnabled=!0;this._sprite=new F(this._normalTexture)};
g["flindigo.ui.Button"]=V;V.__name__=["flindigo","ui","Button"];V.__super__=h;V.prototype=l(h.prototype,{get_name:function(){return"Button_28"},setOnClickFunction:function(a){this._functionToCallOnTouch=a},setScaleXY:function(a,b){this._normalScaleValueX=a;this._normalScaleValueY=b;this.get_sprite().setScaleXY(this._normalScaleValueX,this._normalScaleValueY)},onAdded:function(){h.prototype.onAdded.call(this);this.setupSprite();this.setupLabel();this.setupDisposer()},setupSprite:function(){this.owner.add(this._sprite);
this._sprite.centerAnchor()},setupLabel:function(){if(null!=this._label&&(this.owner.addChild((new k).add(this._label)),ia.__instanceof(this._label,la))){var a=this._label;a.centerAnchor();a.x.set__(this._sprite.getNaturalWidth()/2+a.x._value);a.y.set__(this._sprite.getNaturalHeight()/2+a.y._value)}},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_49;null==this._disposer&&this.owner.add(this._disposer=new R);this._disposer.connect1(this._sprite.get_pointerDown(),e(this,this.onPointerDown));
this._disposer.connect1(this._sprite.get_pointerUp(),e(this,this.onPointerUp));this._disposer.connect1(this._sprite.get_pointerOut(),e(this,this.onPointerOut))},onPointerOut:function(){this._isEnabled&&(this._sprite.texture=this._isTextureSetAsClicked?this._clickTexture:this._normalTexture,this._sprite.setScaleXY(this._normalScaleValueX,this._normalScaleValueY))},onPointerDown:function(){this._isEnabled&&(this._isClicked=!0,null!=this._clickTexture&&(this._sprite.texture=this._clickTexture),0!=this._scaleWhenClicked&&
this._sprite.setScaleXY(this._scaleWhenClicked-(1-this._normalScaleValueX),this._scaleWhenClicked-(1-this._normalScaleValueY)),this.onPointerDownSignal.emit())},onPointerUp:function(){this._isEnabled&&(this._isClicked&&this.callFunctionToCallOnTouch(),null!=this._sprite&&(this._sprite.texture=this._isTextureSetAsClicked?this._clickTexture:this._normalTexture,this._sprite.setScaleXY(this._normalScaleValueX,this._normalScaleValueY),this.onPointerUpSignal.emit()))},dispose:function(){h.prototype.dispose.call(this);
null!=this._disposer&&this._disposer.dispose();this._functionToCallOnTouch=this._disabledTexture=this._clickTexture=this._hoverTexture=this._normalTexture=this._sprite=this._disposer=this.label=this.sprite=null},callFunctionToCallOnTouch:function(){null!=this._functionToCallOnTouch&&this._functionToCallOnTouch()},get_sprite:function(){return this._sprite},get_enabled:function(){return this._isEnabled},get_normalScaleValueX:function(){return this._normalScaleValueX},set_enabled:function(a){this._isEnabled!=
a&&null!=this._disabledTexture&&(this._sprite.texture=a?this._normalTexture:this._disabledTexture);return this._isEnabled=a},__class__:V});var Wb=function(a,b,c,f,d,e,g,i,h){null==h&&(h=0);null==g&&(g=!0);V.call(this,a,b,c,null,i,h);this._offNormalTexture=f;this._offHoverTexture=d;this._offClickTexture=e;this._sprite=(this._isOn=g)?new F(this._normalTexture):new F(this._offNormalTexture)};g["flindigo.ui.ToggleButton"]=Wb;Wb.__name__=["flindigo","ui","ToggleButton"];Wb.__super__=V;Wb.prototype=l(V.prototype,
{onPointerOut:function(){this._isEnabled&&(this._isOn&&null!=this._normalTexture&&(this.get_sprite().texture=this._normalTexture),!this._isOn&&null!=this._offNormalTexture&&(this.get_sprite().texture=this._offNormalTexture))},onPointerDown:function(){this._isEnabled&&(this._isClicked=!0,this._isOn&&null!=this._clickTexture&&(this.get_sprite().texture=this._clickTexture),!this._isOn&&null!=this._offClickTexture&&(this.get_sprite().texture=this._offClickTexture),0!=this._scaleWhenClicked&&this._sprite.setScaleXY(this._scaleWhenClicked-
(1-this._normalScaleValueX),this._scaleWhenClicked-(1-this._normalScaleValueY)))},onPointerUp:function(){if(this._isEnabled&&(this._isClicked&&(this._sprite.setScaleXY(this._normalScaleValueX,this._normalScaleValueY),this._isOn?this.disable():this.enable(),this.callFunctionToCallOnTouch()),t._platform.getTouch().get_supported()))this.onPointerOut(null)},enable:function(){this._isOn||(this._isOn=!0,this.get_sprite().texture=this._normalTexture)},disable:function(){this._isOn&&(this._isOn=!1,this.get_sprite().texture=
this._offNormalTexture)},dispose:function(){V.prototype.dispose.call(this);this._offClickTexture=this._offHoverTexture=this._offNormalTexture=null},__class__:Wb});var Ed=function(a,b){this._isEnabled=!0;kb.call(this,16711935,a,b);this.showDebugVisuals()};g["flindigo.utils.BoxCollider"]=Ed;Ed.__name__=["flindigo","utils","BoxCollider"];Ed.__super__=kb;Ed.prototype=l(kb.prototype,{onAdded:function(){kb.prototype.onAdded.call(this);this.bounds=new bb;this._otherBounds=new bb},collides:function(a){if(this==
a||!this._isEnabled)return!1;a=Vb.getGlobalRectangleSprite(a);return Vb.getGlobalRectangleSprite(this).intersects(a)?!0:!1},collidesWith:function(a){if(this==a||!this._isEnabled)return!1;a=Vb.getGlobalRectangleSprite(a);return Vb.getGlobalRectangleSprite(this).intersects(a)?!0:!1},showDebugVisuals:function(){this.alpha.set__(0.5);this._isDebugVisualsShown=!0},dispose:function(){kb.prototype.dispose.call(this);this._otherBounds=this.bounds=this._colliderSprite=null},__class__:Ed});var Jb=function(){q.call(this)};
g["flindigo.utils.Collider"]=Jb;Jb.__name__=["flindigo","utils","Collider"];Jb.__super__=q;Jb.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this)},setupCollider:function(a,b,c,f){null==f&&(f=1);null==c&&(c=1);null!=this.boxCollider&&(this.owner.removeChild(this.boxCollider.owner),this.boxCollider.dispose());this.boxCollider=new Ed(a*c,b*f);this.boxCollider.centerAnchor();this.owner.addChild((new k).add(this.boxCollider));this.showCollider()},collidesWith:function(a){return this.boxCollider.collidesWith(a)},
collides:function(a){return this.boxCollider.collides(a)},hideCollider:function(){this.boxCollider.set_visible(!1)},showCollider:function(){this.boxCollider.set_visible(!0)},getNaturalWidth:function(){return this.boxCollider.getNaturalWidth()},getNaturalHeight:function(){return this.boxCollider.getNaturalHeight()},__class__:Jb});var Kb=function(){};g["flindigo.utils.DeviceDetector"]=Kb;Kb.__name__=["flindigo","utils","DeviceDetector"];Kb.isIpad2OrMini1=function(){if(-1!=window.navigator.userAgent.toLowerCase().indexOf("ipad")){var a=
window.screen.width*window.devicePixelRatio,b=window.screen.height*window.devicePixelRatio;if(1024==a&&768==b||768==a&&1024==b)return!0}return!1};Kb.isPhone4S=function(){if(-1!=window.navigator.userAgent.toLowerCase().indexOf("iphone")){var a=window.screen.width*window.devicePixelRatio,b=window.screen.height*window.devicePixelRatio;if(640==a&&960==b||960==a&&640==b)return!0}return!1};Kb.isLowEndDevice=function(){return Kb.isIpad2OrMini1()||Kb.isPhone4S()};var Fd=function(){};g["flindigo.utils.MathUtils"]=
Fd;Fd.__name__=["flindigo","utils","MathUtils"];Fd.getViewRotation=function(a,b){var c=0,f=Math.atan(b/a)*(180/Math.PI);0<=a?c=180:0<b&&(c=360);return f+c};Fd.getViewVector=function(a){var b=Math.PI/180*a,a=Math.cos(b),b=Math.sin(b);return new Cb(a,b)};var Pg=function(){};g["game.Main"]=Pg;Pg.__name__=["game","Main"];Pg.start=function(){Sa.init(960,560,Na.HEIGHT,!0);t._platform.getStage().lockOrientation(vb.Landscape);yb.getInstance().init(Gd)};var Oa=function(a){this._hasBeenSetUp=!1;z.call(this);
this._gameManager=new Z(this,a);this._hasBeenSetUp=!0};g["game_app.scenes.GameScene"]=Oa;Oa.__name__=["game_app","scenes","GameScene"];Oa.__super__=z;Oa.prototype=l(z.prototype,{onAdded:function(){if(!this._hasBeenSetUp)throw"Make sure that GameScene and all inheriting classes has an @:keep on their 'new' constructors!";z.prototype.onAdded.call(this);this.setupLayers();this.setupGameUI();this.setupIntroCoverSprite();this.owner.addChild((new k).add(this._gameManager))},onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,
a);this._gameManager.onEnterTransitionFinished()},setupLayers:function(){this._mainLayerSprite=new q;this.owner.addChild((new k).add(this._mainLayerSprite));this._backgroundLayerSprite=new q;this._backgroundLayer=new k;this._backgroundLayer.add(this._backgroundLayerSprite);this._middleLayerSprite=new q;this._middleLayer=new k;this._middleLayer.add(this._middleLayerSprite);this._foregroundLayerSprite=new q;this._foregroundLayer=new k;this._foregroundLayer.add(this._foregroundLayerSprite);this._guiLayerSprite=
new q;this._guiLayer=new k;this._guiLayer.add(this._guiLayerSprite);this._mainLayerSprite.owner.addChild(this._backgroundLayer);this._mainLayerSprite.owner.addChild(this._middleLayer);this._mainLayerSprite.owner.addChild(this._foregroundLayer);this._mainLayerSprite.owner.addChild(this._guiLayer)},setupGameUI:function(){this._gameUI=new Hd;this._guiLayer.addChild((new k).add(this._gameUI))},setupIntroCoverSprite:function(){this._introCoverSprite=new kb(16777215,i.get_screenWidth(),i.get_screenHeight());
this._introCoverSprite.centerAnchor();this._introCoverSprite.set_visible(!1);this.owner.addChild((new k).add(this._introCoverSprite))},onGameStart:function(){},get_gameUI:function(){return this._gameUI},dispose:function(){z.prototype.dispose.call(this);this._guiLayerSprite=this._foregroundLayerSprite=this._middleLayerSprite=this._backgroundLayerSprite=this._introCoverSprite=this._mainLayerSprite=this._gameUI=this._guiLayer=this._foregroundLayer=this._middleLayer=this._backgroundLayer=this.gameUI=
this._gameManager=null},__class__:Oa});var Gd=function(a){Oa.call(this,a)};g["game.NickGameScene"]=Gd;Gd.__name__=["game","NickGameScene"];Gd.__super__=Oa;Gd.prototype=l(Oa.prototype,{onAdded:function(){Oa.prototype.onAdded.call(this);B.getInstance().stopAllAudio();this.setupDisposer();this.setupGameSprite()},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_49;null==this._disposer&&(this._disposer=new R,this.owner.add(this._disposer));this._disposer.connect1(t._platform.getPointer().down,
e(this,this.onPointerDown))},setupGameSprite:function(){var a=new Ic(this._gameManager.get_gameAssetPack());a.x.set__(-0.5*i.get_scaledStageWidth());a.y.set__(-0.5*i.get_scaledStageHeight());this._middleLayer.addChild((new k).add(a))},onGameStart:function(){Oa.prototype.onGameStart.call(this)},onEnterTransitionFinished:function(a){Oa.prototype.onEnterTransitionFinished.call(this,a);this.onGameStart()},onUpdate:function(a){Oa.prototype.onUpdate.call(this,a)},onSceneShown:function(){Oa.prototype.onSceneShown.call(this)},
onPointerDown:function(){},onRemoved:function(){Oa.prototype.onRemoved.call(this);this._disposer.dispose()},dispose:function(){Oa.prototype.dispose.call(this);this._disposer=null;null!=this._tmpDisposable&&this._tmpDisposable.dispose();this._tmpDisposable=null},__class__:Gd});var v=function(){};g["game.game.GameData"]=v;v.__name__=["game","game","GameData"];v.set_currentLevelNumber=function(a){15<a&&(a=15);v.currentLevelNumber=1>a?1:a;return v.currentLevelNumber};v.set_highestLevelNumber=function(a){16<
a&&(a=16);v.highestLevelNumber=1>a?1:a;return v.highestLevelNumber};v.set_lastUnlockedNumber=function(a){v.lastUnlockedNumber=a>v.highestLevelNumber?v.highestLevelNumber:1>a?0:a;return v.lastUnlockedNumber};var Ic=function(a){q.call(this);this.assetPack=a};g["game.game.GameSprite"]=Ic;Ic.__name__=["game","game","GameSprite"];Ic.__super__=q;Ic.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);this.setupDisposer();this.setupDefaultBackground();var a=new k;this.owner.addChild(a);
a.add(new Id)},setupDefaultBackground:function(){var a=new kb(0,i.get_scaledStageWidth(),i.get_scaledStageHeight());this.owner.addChild((new k).add(a))},setupDisposer:function(){this.disposer=this.owner._compMap.Disposer_49;null==this.disposer&&(this.disposer=new R,this.owner.add(this.disposer))},dispose:function(){q.prototype.dispose.call(this);this.assetPack=this.disposer=null},__class__:Ic});var Jd=function(){h.call(this)};g["game.game.IntroAnimationManager"]=Jd;Jd.__name__=["game","game","IntroAnimationManager"];
Jd.__super__=h;Jd.prototype=l(h.prototype,{get_name:function(){return"IntroAnimationManager_4"},onAdded:function(){h.prototype.onAdded.call(this);this._commonSfx=C.instance(this.owner._compMap.LevelSoundFx_12,pa);this._lib=new G(r.appAssetPack,"scenes/post_game/intro_cosmo_wanda_foop");this.setupCosmoAnimation();this.setupWandaAnimation();this.setupFoopAnimation()},onStart:function(){h.prototype.onStart.call(this);this.setupListener()},setupListener:function(){this._pageSignals=this.owner._compMap.PageSignals_44;
this._disposer=new R;this._disposer.add(this._pageSignals.onShowCorrectedWords.connect(e(this,this.onShowCorrectedWords)));this._disposer.add(this._pageSignals.onPlayerTapToPlay.connect(e(this,this.onPlayerTapToPlay)));this._disposer.add(this._pageSignals.onShowMoreToCome.connect(e(this,this.onShowMoreToCome)))},onShowCorrectedWords:function(){m.callWithDelay(this.owner,new n(e(this,this.onShowCosmoAndWanda)),0.5)},onPlayerTapToPlay:function(){this.playPoof(this._cosmoAnimation.owner,0,-0.0);this.playPoof2(this._wandaAnimation.owner,
0,-0.0);this._cosmoAnimation.sprite.set_visible(!1);this._wandaAnimation.sprite.set_visible(!1);m.callWithDelay(this.owner,new n(e(this,this.onPlayFoopAnimation)),0.5)},onPlayFoopAnimation:function(){this.playPoof(this._foopAnimation.owner,0,-0.0);this._foopAnimation.sprite.set_visible(!0);this._foopAnimation.playOnce("foop_large",e(this,this.onFinishedFoopAnimation));this._commonSfx.playSfx("poof");this._commonSfx.playSfx("foop- evil laugh")},onFinishedFoopAnimation:function(){this._foopAnimation.sprite.set_visible(!1);
this.owner._compMap.Sparkles_37.clear();this.onEnterLevel();this.owner._compMap.PageSignals_44.onPlaySparkle.emit();this.playPoofMovie(e(this,this.onFinishedBigPoofAnimation))},onShowMoreToCome:function(){this.playPoofMovie(e(this,this.onShowCosmoAndWanda))},onFinishedBigPoofAnimation:function(){},playPoofMovie:function(a){var b=new G(r.appAssetPack,"scenes/poof_smoke_transition"),c=new ba(b),b=new q;this.owner.addChild((new k).add(b));b.owner.add(c);c.loop("pink_large_smoke");b.setScale(2);B.getInstance().playAudio("audio/sfx/poof",
r.appAssetPack);c.playOnce("pink_large_smoke",function(){c.owner.dispose();null!=a&&a()},!0)},onEnterLevel:function(){this.owner._compMap.PageSignals_44.onPageScroll.emit();var a=this.owner._compMap.StoryManagerFields_42;a.onPageVariablesLoaded.emit(this.owner._compMap.StoryXmlReader_5.pageVar);a.onEnterLevel.emit();this._commonSfx.playSfx("page_turn_sfx")},onShowCosmoAndWanda:function(){this._cosmoAnimation.sprite.x.set__(0.185*i.get_scaledStageWidth());this._cosmoAnimation.sprite.y.set__(0.75*i.get_scaledStageHeight());
this._cosmoAnimation.sprite.set_visible(!0);this._cosmoAnimation.setupBobbingAnimation();this._wandaAnimation.sprite.x.set__(0.815*i.get_scaledStageWidth());this._wandaAnimation.sprite.y.set__(0.75*i.get_scaledStageHeight());this._wandaAnimation.sprite.set_visible(!0);this._wandaAnimation.setupBobbingAnimation();this.playPoof(this._cosmoAnimation.owner,0,-0.0);this.playPoof2(this._wandaAnimation.owner,0,-0.0)},playPoof:function(a,b,c){a=a._compMap.BaseMoviePlayer_6;b=a.sprite.x._value+a.getNaturalWidth()*
b;c=a.sprite.y._value+a.getNaturalHeight()*c;this.playAnimationSfx1("generic_poof",b,c);this._commonSfx.playSfx("poof")},playPoof2:function(a,b,c){a=a._compMap.BaseMoviePlayer_6;b=a.sprite.x._value+a.getNaturalWidth()*b;c=a.sprite.y._value+a.getNaturalHeight()*c;this.playAnimationSfx2("generic_poof",b,c);this._commonSfx.playSfx("poof")},playAnimationSfx1:function(a,b,c,f){a=new xa(a,b,c,f);this._pageSignals.onPlayAnimationSfx1.emit(a);return a},playAnimationSfx2:function(a,b,c,f){a=new xa(a,b,c,f);
this._pageSignals.onPlayAnimationSfx2.emit(a);return a},setupCosmoAnimation:function(){this._cosmoAnimation=new Jc(this._lib);this.owner.addChild((new k).add(this._cosmoAnimation));this._cosmoAnimation.sprite.set_visible(!1)},setupWandaAnimation:function(){this._wandaAnimation=new Kc(this._lib);this.owner.addChild((new k).add(this._wandaAnimation));this._wandaAnimation.sprite.set_visible(!1)},setupFoopAnimation:function(){this._foopAnimation=new Kd(this._lib);this.owner.addChild((new k).add(this._foopAnimation));
this._foopAnimation.sprite.x.set__(0.5*i.get_scaledStageWidth());this._foopAnimation.sprite.y.set__(0.225*i.get_scaledStageHeight());this._foopAnimation.sprite.set_visible(!1)},dispose:function(){h.prototype.dispose.call(this);this._foopAnimation=this._wandaAnimation=this._cosmoAnimation=null;this._disposer.dispose();this._commonSfx=this._lib=this._pageSignals=this._disposer=null},__class__:Jd});var yg=function(a,b,c,f,d,e,g){this.totalKeysToUnlock=a;this.storyTexts=b;this.triggerWords=c;this.wordUnlockerMap=
f;this.keywordIds=d;this.storyTextSettings=e;this.unlockerIds=g};g["game.game.PageVariables"]=yg;yg.__name__=["game","game","PageVariables"];yg.prototype={__class__:yg};var Ld=function(){h.call(this)};g["game.game.characters.Bear"]=Ld;Ld.__name__=["game","game","characters","Bear"];Ld.__super__=h;Ld.prototype=l(h.prototype,{get_name:function(){return"Bear_17"},onAdded:function(){h.prototype.onAdded.call(this);this.setupBearSprite();this.setupCollider()},onStart:function(){h.prototype.onStart.call(this);
this.chloe=this.owner._internal_getFromParents("PageFields_45").chloe},onUpdate:function(a){h.prototype.onUpdate.call(this,a);null!=this.chloe&&(this.chloe.sprite.x._value>this.bearSprite.x._value?this.bearSprite.scaleX.set__(-1):this.bearSprite.scaleX.set__(1))},setupBearSprite:function(){var a=new k;this.owner.addChild(a);this.bearSprite=new Fa;a.add(this.bearSprite)},setupCollider:function(){var a=q.getBounds(this.bearSprite.owner);this.collider=new Jb;this.owner.addChild((new k).add(this.collider));
this.collider.setupCollider(a.width,a.height,0.5,0.5);this.collider.hideCollider()},setXY:function(a,b){this.bearSprite.setXY(a+0.5*this.bearSprite.getNaturalWidth(),b);this.collider.setXY(a+0.5*this.bearSprite.getNaturalWidth(),b+-0.5*this.bearSprite.getNaturalHeight())},__class__:Ld});var Fa=function(){q.call(this)};g["game.game.characters.BearSprite"]=Fa;Fa.__name__=["game","game","characters","BearSprite"];Fa.__super__=q;Fa.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);
this.setupMoviePlayer(this.getAssetPack());this.disablePointer()},setupMoviePlayer:function(a){a=new G(a,"chapter_1/others");this.moviePlayer=new ba(a);this.owner.addChild((new k).add(this.moviePlayer).add(new q));this.moviePlayer.loop(Fa.INTERACT);this.moviePlayer.loop(Fa.ROAR);this.moviePlayer.loop(Fa.IDLE);this._rect=q.getBounds(this.moviePlayer.owner)},getNaturalWidth:function(){return this._rect.width},getNaturalHeight:function(){return this._rect.height},getAssetPack:function(){return this.owner._internal_getFromParents("StoryManagerFields_42").assetPack},
__class__:Fa});var o=g["game.game.characters.ChloeState"]={__ename__:["game","game","characters","ChloeState"],__constructs__:"NORMAL,HAS_SWATTER,HAS_GUITAR,HAS_GUITAR_CAREFUL,ON_ANIMATION_TRANSITION,HOLDING_ITEM,CAREFUL,CAREFUL_HOLDING_ITEM,HAS_BOW,HAS_GIFT_XSMALL,HAS_GIFT_SMALL,HAS_GIFT_MEDIUM,HAS_GIFT_LARGE".split(",")};o.NORMAL=["NORMAL",0];o.NORMAL.toString=p;o.NORMAL.__enum__=o;o.HAS_SWATTER=["HAS_SWATTER",1];o.HAS_SWATTER.toString=p;o.HAS_SWATTER.__enum__=o;o.HAS_GUITAR=["HAS_GUITAR",2];o.HAS_GUITAR.toString=
p;o.HAS_GUITAR.__enum__=o;o.HAS_GUITAR_CAREFUL=["HAS_GUITAR_CAREFUL",3];o.HAS_GUITAR_CAREFUL.toString=p;o.HAS_GUITAR_CAREFUL.__enum__=o;o.ON_ANIMATION_TRANSITION=["ON_ANIMATION_TRANSITION",4];o.ON_ANIMATION_TRANSITION.toString=p;o.ON_ANIMATION_TRANSITION.__enum__=o;o.HOLDING_ITEM=["HOLDING_ITEM",5];o.HOLDING_ITEM.toString=p;o.HOLDING_ITEM.__enum__=o;o.CAREFUL=["CAREFUL",6];o.CAREFUL.toString=p;o.CAREFUL.__enum__=o;o.CAREFUL_HOLDING_ITEM=["CAREFUL_HOLDING_ITEM",7];o.CAREFUL_HOLDING_ITEM.toString=p;
o.CAREFUL_HOLDING_ITEM.__enum__=o;o.HAS_BOW=["HAS_BOW",8];o.HAS_BOW.toString=p;o.HAS_BOW.__enum__=o;o.HAS_GIFT_XSMALL=["HAS_GIFT_XSMALL",9];o.HAS_GIFT_XSMALL.toString=p;o.HAS_GIFT_XSMALL.__enum__=o;o.HAS_GIFT_SMALL=["HAS_GIFT_SMALL",10];o.HAS_GIFT_SMALL.toString=p;o.HAS_GIFT_SMALL.__enum__=o;o.HAS_GIFT_MEDIUM=["HAS_GIFT_MEDIUM",11];o.HAS_GIFT_MEDIUM.toString=p;o.HAS_GIFT_MEDIUM.__enum__=o;o.HAS_GIFT_LARGE=["HAS_GIFT_LARGE",12];o.HAS_GIFT_LARGE.toString=p;o.HAS_GIFT_LARGE.__enum__=o;var Md=function(){this._otherBounds=
new bb;this._bounds=new bb;this.state=o.ON_ANIMATION_TRANSITION;h.call(this)};g["game.game.characters.Chloe"]=Md;Md.__name__=["game","game","characters","Chloe"];Md.__super__=h;Md.prototype=l(h.prototype,{get_name:function(){return"Chloe_41"},set_state:function(a){return this.state=a},onAdded:function(){h.prototype.onAdded.call(this);this.pageSignals=this.owner._internal_getFromParents("PageSignals_44");this.pageFields=this.owner._internal_getFromParents("PageFields_45");this.storyManagerFields=this.owner._internal_getFromParents("StoryManagerFields_42");
this._disposer=new R;this.sprite=new q;this.sprite.disablePointer();this.owner.add(this.sprite);this.owner.add(new Nd);this.owner.add(new Od);this.owner.add(new Pd);this.owner.addChild((new k).add(new Qd));0<v.currentLevelNumber&&3>=v.currentLevelNumber&&this.owner.add(new Rd);this.setupCollider()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupListeners:function(){this._disposer.add(this.storyManagerFields.onExitLevel.connect(e(this,this.onExitLevel)));this._disposer.add(this.pageSignals.onShowCorrectedWords.connect(e(this,
this.onShowCorrectedWords)));this._disposer.add(this.pageSignals.onFinishedTextLoadingOnScreen.connect(e(this,this.onFinishedTextLoadingOnScreen)));this._disposer.add(this.storyManagerFields.onEnterLevel.connect(e(this,this.onEnterLevel)))},onEnterLevel:function(){var a=this.owner._compMap.Cosmo_39,b;b=this.owner._internal_getFromChildren("Wanda_21");a.animation.loop("cosmo_worried");b.animation.loop("wanda_worried");this.set_state(o.ON_ANIMATION_TRANSITION)},onFinishedTextLoadingOnScreen:function(){var a=
this.getSprite();a.alpha.set__(1);a.scaleX.set__(1);a.set_visible(!0);this.set_state(o.NORMAL);this.get_animationManager().moviePlayerChloe.loop("chloe_idle");var a=this.owner._compMap.Cosmo_39,b;b=this.owner._internal_getFromChildren("Wanda_21");a.setupPositionTracker();b.setupPositionTracker()},onShowCorrectedWords:function(){this.getSprite().alpha.set__(0)},setupCollider:function(){this.rect=q.getBounds(this.owner);this.collider=new Jb;this.owner.addChild((new k).add(this.collider));this.collider.setupCollider(0.25*
this.rect.width,this.rect.height);this.collider.hideCollider();this.collider.y.set__(-0.25*this.rect.height)},onExitLevel:function(){this.set_state(o.NORMAL);this.getSprite().alpha.set__(1)},collides:function(a){return this.collider.collides(a)},isInside:function(a){var a=Vb.getGlobalRectangleSprite(a),b=Vb.getGlobalRectangleSprite(this.collider.boxCollider),c=b.x+b.width,f=b.y+b.height;return a.contains(b.x,f)&&a.contains(c,f)},collidesWith:function(a){return this.collider.collidesWith(a)},getNaturalWidth:function(){return null!=
this.rect?this.rect.width:0},getNaturalHeight:function(){return null!=this.rect?this.rect.height:0},get_moveManager:function(){return this.owner._compMap.ChloeMoveManager_43},get_animationManager:function(){return this.owner._compMap.ChloeAnimation_46},getSprite:function(){return this.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1},dispose:function(){h.prototype.dispose.call(this);this.rect=null;this.set_state(null);this.collider=this._otherBounds=this._bounds=this.animationManager=
this.moveManager=this.sprite=this.storyManagerFields=this.pageFields=this.pageSignals=null;this._disposer.dispose();this._disposer=null},__class__:Md});var Pd=function(){h.call(this)};g["game.game.characters.Cosmo"]=Pd;Pd.__name__=["game","game","characters","Cosmo"];Pd.__super__=h;Pd.prototype=l(h.prototype,{get_name:function(){return"Cosmo_39"},onAdded:function(){h.prototype.onAdded.call(this);this.owner.add(new Lb)},onStart:function(){h.prototype.onStart.call(this);null==this._chloe&&(this._chloe=
this.owner._compMap.Chloe_41,this.setupAnimation())},setupAnimation:function(){var a=this.owner._internal_getFromParents("PageFields_45");this.animation=new Sd(new G(a.assetPack,"animations/characters/cosmo_and_wanda"));this.owner._internal_getFromParents("StoryManagerFields_42").foregroundLayer.addChild((new k).add(this.animation));this.animation.sprite.scaleX.set__(-1);this.animation.sprite.set_visible(!1)},setupPositionTracker:function(){this.owner._compMap.PositionTracker_40.setVariables(this.animation.sprite,
this._chloe,-1.25,-1,-1,e(this,this.setupBobbingAnimation))},setupBobbingAnimation:function(){null!=this._bobDisposable&&(this._bobDisposable.dispose(),this._bobDisposable=null,this._script.owner.dispose(),this._script=null);var a=this.animation.sprite.y._value+-0.2*this.animation.getNaturalHeight(),b=this.animation.sprite.y._value,a=new oa([new ea(this.animation.sprite.y,a,1),new ea(this.animation.sprite.y,b,1)]),a=new xb(a);this._script=new Ca;this._bobDisposable=this._script.run(a);this.owner.addChild((new k).add(this._script))},
deny:function(a){null==a&&(a=0.75);this.animation.loopWithDuration("cosmo_denied",e(this,this.onFinishedDenied),a)},playPoof:function(a){this.animation.playOnce("cosmo_grant_wish",a)},setVisible:function(a){this.animation.sprite.set_visible(a)},onFinishedDenied:function(){this.animation.loop("cosmo_worried")},enablePositionTracker:function(a){null==a&&(a=!0);this.owner._compMap.PositionTracker_40.enableTracking=a},__class__:Pd});var mc=function(){q.call(this)};g["game.game.characters.Frog"]=mc;mc.__name__=
["game","game","characters","Frog"];mc.__super__=q;mc.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);this._pageSignals=this.owner._internal_getFromParents("PageSignals_44");this._pageFields=this.owner._internal_getFromParents("PageFields_45");this._storyManagerFields=this.owner._internal_getFromParents("StoryManagerFields_42");this._disposer=new R;this.setupMoviePlayer();this.set_visible(!1);this.disablePointer();this.setupCollider();this.setupListeners()},setupCollider:function(){this._rect=
q.getBounds(this.owner);this.collider=new Jb;this.owner.addChild((new k).add(this.collider));this.collider.setupCollider(0.75*this._rect.width,this._rect.height);this.collider.hideCollider();this.collider.x.set__(0.5*this._rect.width);this.collider.y.set__(-0.25*this._rect.height)},setupListeners:function(){this._disposer.add(this._pageSignals.onChloeSteppingOnKeyword.connect(e(this,this.onChloeSteppingOnKeyword)));this._disposer.add(this._pageSignals.onShowFrog.connect(e(this,this.onShowFrog)));
this._disposer.add(this._pageSignals.onFrogRunAway.connect(e(this,this.onFrogRunAway)));this._disposer.add(this.owner._internal_getFromParents("LevelInteraction_10",Lc).frogPlayInteract.connect(e(this,this.onActivateInteract)))},onActivateInteract:function(){this.moviePlayer.loop("frog_interact")},onFrogRunAway:function(){this.moviePlayer.loop("frog_jump");var a=new Ca;this._movieSprite.scaleX.set__(-1);var b=this.y;b.set__(b._value+-0.5*this._rect.height);var b=new fb([new J(this.x,this._rect.width,
0.2),new J(this.y,0.5*this._rect.height,0.2)]),c=new fb([new J(this.x,this._rect.width,0.2),new J(this.y,-0.5*this._rect.height,0.2)]),b=new oa([b,c,new L(0.2),b,c,new L(0.2),b,c,new L(0.2)]);a.run(b);this.owner.addChild((new k).add(a))},onShowFrog:function(a){this.moviePlayer.playOnce("frog_grinn",e(this,this.onFinishedGrin));this.set_visible(!0);this.x.set__(a.x._value);this.y.set__(a.y._value)},onFinishedGrin:function(){this.moviePlayer.loop("frog_idle")},onChloeSteppingOnKeyword:function(){},
setupMoviePlayer:function(){var a=new G(this._pageFields.assetPack,"chapter_1/others");this.moviePlayer=new ba(a);a=new k;this.owner.addChild(a.add(this.moviePlayer));this.moviePlayer.loop("frog_jump");this.moviePlayer.loop("frog_interact");this.moviePlayer.loop("frog_grinn");this.moviePlayer.loop("frog_idle");this._movieSprite=new q;a.add(this._movieSprite);this._rect=q.getBounds(this.owner);this._movieSprite.x.set__(0.5*this._rect.width)},getNaturalWidth:function(){return null!=this._rect?this._rect.width:
0},getNaturalHeight:function(){return null!=this._rect?this._rect.height:0},dispose:function(){q.prototype.dispose.call(this);this.moviePlayer.owner.dispose();this._disposer.dispose();this._disposer=null},__class__:mc});var Td=function(){h.call(this)};g["game.game.characters.Roach"]=Td;Td.__name__=["game","game","characters","Roach"];Td.__super__=h;Td.prototype=l(h.prototype,{get_name:function(){return"Roach_23"},onAdded:function(){h.prototype.onAdded.call(this);this._disposer=new R;this.setupMoviePlayer();
this.setupListeners();this.setupCollider()},setupCollider:function(){this.collider=new Jb;this.owner._compMap.StoryManagerFields_42.backgroundLayer.addChild((new k).add(this.collider));this.collider.setupCollider(this.rect.width,this.rect.height,1,1);this.collider.hideCollider()},setupMoviePlayer:function(){var a=new G(this.getAssetPack(),"chapter_1/others");this.moviePlayer=new ba(a);a=new k;this.sprite=new q;a.add(this.moviePlayer);a.add(this.sprite);this.moviePlayer.loop("cockroach_run");this.moviePlayer.loop("cockroach_shocked");
this.moviePlayer.loop("cockroach_idle");this.moviePlayer.loop("cockroach_spawn");this.moviePlayer.playOnce("cockroach_spawn",e(this,this.onFinishedPlayingSpawnAnimation));this.rect=q.getBounds(a);this.owner._compMap.StoryManagerFields_42.middleLayer.addChild(a,!1)},onFinishedPlayingSpawnAnimation:function(){this.moviePlayer.loop("cockroach_idle")},setupListeners:function(){this._disposer.add(this.owner._compMap.PageSignals_44.onChloeStepBack.connect(e(this,this.onChloeStepBack)))},onChloeStepBack:function(a){this.owner._internal_getFromChildren("Chloe_41").owner._compMap.Sprite_1.x._value>
a?this.sprite.scaleX.set__(-1):this.sprite.scaleX.set__(1)},playLaughAnimationOnce:function(){this.moviePlayer.playOnce("cockroach_laugh",e(this,this.onFinishedPlayingLaughingAnimation))},onFinishedPlayingLaughingAnimation:function(){this.moviePlayer.loop("cockroach_idle")},getAssetPack:function(){return this.owner._compMap.StoryManagerFields_42.assetPack},setXY:function(a,b){this.sprite.setXY(a+0.5*this.rect.width,b);this.collider.setXY(a+0.4*this.rect.width,b-0.5*this.rect.height)},playShocked:function(a){this.moviePlayer.playOnce("cockroach_shocked",
a)},getNaturalWidth:function(){return null!=this.rect?this.rect.width:0},getNaturalHeight:function(){return null!=this.rect?this.rect.height:0},dispose:function(){h.prototype.dispose.call(this);null!=this._disposer&&this._disposer.dispose();this._disposer=null},__class__:Td});var Qd=function(){h.call(this)};g["game.game.characters.Wanda"]=Qd;Qd.__name__=["game","game","characters","Wanda"];Qd.__super__=h;Qd.prototype=l(h.prototype,{get_name:function(){return"Wanda_21"},onAdded:function(){h.prototype.onAdded.call(this);
this._sprite=new q;this._disposer=new R;this.owner.add(this._sprite);this.owner.add(new Lb)},onStart:function(){h.prototype.onStart.call(this);null==this._chloe&&(this._chloe=this.owner._internal_getFromParents("Chloe_41"),this.setupAnimation(),this._disposer.add(this.owner._internal_getFromParents("PageSignals_44").onFinishedTextLoadingOnScreen.connect(e(this,this.onFinishedTextLoadingOnScreen))))},onFinishedTextLoadingOnScreen:function(){this.setupBobbingAnimation()},setupAnimation:function(){var a=
this.owner._internal_getFromParents("PageFields_45");this.animation=new Ud(new G(a.assetPack,"animations/characters/cosmo_and_wanda"));this.owner._internal_getFromParents("StoryManagerFields_42").foregroundLayer.addChild((new k).add(this.animation));this.animation.sprite.scaleX.set__(-1);this.animation.sprite.set_visible(!1)},setupPositionTracker:function(){this.owner._compMap.PositionTracker_40.setVariables(this.animation.sprite,this._chloe,-2.5,-1,-1,e(this,this.setupBobbingAnimation))},setupBobbingAnimation:function(){null!=
this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null,this._script.owner.dispose(),this._script=null);var a=this.animation.sprite.y._value+-0.2*this.animation.getNaturalHeight(),b=this.animation.sprite.y._value,a=new oa([new ea(this.animation.sprite.y,a,1),new ea(this.animation.sprite.y,b,1)]),a=new Ea(a);this._script=new na;this._bobbingAction=this._script.run(a);this.owner.addChild((new k).add(this._script))},playPoof:function(a){this.animation.playOnce("wanda_grant_wish",
a)},setVisible:function(a){this.animation.sprite.set_visible(a)},setDefaultOwnerAndPosition:function(){this.animation.sprite.x.set__(this._chloe.sprite.x._value+-2.5*this._chloe.getNaturalWidth());this.animation.sprite.y.set__(this._chloe.sprite.y._value+-1*this._chloe.getNaturalHeight());this.owner.add(new Lb);this.setupPositionTracker();this.setupBobbingAnimation()},setTutorialOwnerAndPosition:function(a){this.owner._compMap.PositionTracker_40.dispose();this.animation.sprite.x.set__(a-this.animation.getNaturalWidth());
this.animation.sprite.y.set__(0.8*i.get_scaledStageHeight());this.setupBobbingAnimation()},__class__:Qd});var Vd=function(){h.call(this)};g["game.game.components.KeywordActivationManager"]=Vd;Vd.__name__=["game","game","components","KeywordActivationManager"];Vd.__super__=h;Vd.prototype=l(h.prototype,{get_name:function(){return"KeywordActivationManager_20"},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupListeners:function(){var a=this.owner._compMap.Disposer_49,b=this.owner._compMap.PageSignals_44;
a.add(b.onChloeSteppingOnKeyword.connect(e(this,this.onChloeSteppingOnKeyword)));a.add(b.onKeyDown.connect(e(this,this.onKeyDown)));a.add(b.onRemovedActivatedKey.connect(e(this,this.onRemovedActivatedKey)))},onChloeSteppingOnKeyword:function(a){this._currentTextSpriteChloeIsStandingOn=a},onKeyDown:function(a){var b=a;null==b&&(b=this._currentTextSpriteChloeIsStandingOn);if(null!=b){var a=this.owner._compMap.PageSignals_44,c=this.owner._compMap.PageFields_45.keywordIds.get(b._text),b=new Wd(b,c,!0,
!0);a.onKeywordActivated.emit(b)}},onRemovedActivatedKey:function(a){var b=this.owner._compMap.PageFields_45;A.remove(b.alreadyActivatedKeywords,a);A.remove(b.currentlyUnlockedKeywords,a)},dispose:function(){h.prototype.dispose.call(this);this._currentTextSpriteChloeIsStandingOn=null},__class__:Vd});var Wd=function(a,b,c,f){this.textSprite=a;this.id=b;this.activated=c;this.alreadyActivated=f};g["game.game.components.KeywordVariables"]=Wd;Wd.__name__=["game","game","components","KeywordVariables"];
Wd.prototype={__class__:Wd};var Xd=function(){h.call(this)};g["game.game.components.MoreToComeManager"]=Xd;Xd.__name__=["game","game","components","MoreToComeManager"];Xd.__super__=h;Xd.prototype=l(h.prototype,{get_name:function(){return"MoreToComeManager_55"},onAdded:function(){h.prototype.onAdded.call(this);this._disposer=new R},onStart:function(){h.prototype.onStart.call(this);this._disposer.add(this.owner._compMap.PageSignals_44.onShowMoreToCome.connect(e(this,this.onShowMoreToCome)))},onShowMoreToCome:function(){},
dispose:function(){h.prototype.dispose.call(this);this._disposer.dispose();this._disposer=null},__class__:Xd});var Yd=function(){this.lastStoryTextIndex=this.startingTextIndex=0;h.call(this)};g["game.game.components.PageFields"]=Yd;Yd.__name__=["game","game","components","PageFields"];Yd.__super__=h;Yd.prototype=l(h.prototype,{get_name:function(){return"PageFields_45"},get_hasNextPage:function(){return this.hasNextPage=this.lastStoryTextIndex==this.storyTexts.length-1?!1:!0},onAdded:function(){h.prototype.onAdded.call(this);
this.assetPack=this.owner._internal_getFromParents("StoryManagerFields_42").assetPack;this.setupDisposer()},onStart:function(){h.prototype.onStart.call(this);this.chloe=this.owner._internal_getFromChildren("Chloe_41");this.initializeCurrentlyUnlockedKeywords();this.setupListeners()},initializeCurrentlyUnlockedKeywords:function(){this.currentlyUnlockedKeywords=[];this.alreadyActivatedKeywords=[];this.keywordIds=new S},setupListeners:function(){var a=this.owner._compMap.StoryManagerFields_42;this.disposer.add(a.onPageVariablesLoaded.connect(e(this,
this.onPageVariablesLoaded)));this.disposer.add(a.onExitLevel.connect(e(this,this.onExitLevel)));this.disposer.add(this.owner._compMap.PageSignals_44.onActivateGuitar.connect(e(this,this.onActivateGuitar)))},onActivateGuitar:function(){},onExitLevel:function(){this.initializeCurrentlyUnlockedKeywords()},onPageVariablesLoaded:function(a){this.storyTexts=a.storyTexts;this.triggerWords=a.triggerWords;this.wordUnlockerMap=a.wordUnlockerMap;this.keywordIds=a.keywordIds;this.storyTextSettings=a.storyTextSettings;
this.unlockerIds=a.unlockerIds},setupDisposer:function(){this.disposer=new R},getActivatedTextSprites:function(){for(var a=[],b=0,c=this.currentlyUnlockedKeywords;b<c.length;){var f=c[b];++b;f=this.getTextSprite(f);null!=f&&a.push(f)}return a},getTextSprite:function(a){for(var b=0,c=this.textSprites;b<c.length;){var f=c[b];++b;if(f._text==a)return f}return null},dispose:function(){h.prototype.dispose.call(this);this.chloe=this.textSprites=this.storyTextSettings=this.storyTexts=this.assetPack=null;
this.disposer.dispose();this.unlockerIds=this.bluffKeywords=this.keywordIds=this.triggerWords=this.wordUnlockerMap=this.alreadyActivatedKeywords=this.currentlyUnlockedKeywords=this.disposer=null},__class__:Yd});var Zd=function(){this.onChloeMovingToLeftInterrupted=new K;this.onShowMoreToCome=new K;this.onChloeCheering=new K;this.onPlayerTapToPlay=new K;this.onChloeMovementInterrupted=new K;this.onPlaySparkle=new K;this.onGameExit=new K;this.onPageScroll=new K;this.onFinishedPageFlipping=new K;this.onRemovedActivatedKey=
new E;this.onShowTapAnywhere=new ub;this.onShowCorrectedWords=new K;this.onChloeOnMove=new E;this.onChloeStepBack=new ub;this.onPlayAnimationSfx2=new E;this.onPlayAnimationSfx1=new E;this.onDisposeTextOnScreen=new K;this.onFinishedTextLoadingOnScreen=new K;this.onEndOfPuzzleReached=new K;this.onFrogRunAway=new K;this.onShowFrog=new E;this.onChloeSteppingOnKeyword=new E;this.onKeywordActivated=new E;this.onChloePlayIdle=new K;this.onActivateGuitar=new K;this.onKeyDown=new E;this.onChloeSetAnimation=
new ub;this.onChloeDisapperCurrentItem=new K;this.onChloeChangeItem=new ub;this.onChloeSetMoving=new E;this.onChloeMoveRight=new E;this.onChloeMoveLeft=new E;this.onContinuationPreviousPage=new K;this.onContinuationNextPage=new K;h.call(this)};g["game.game.components.PageSignals"]=Zd;Zd.__name__=["game","game","components","PageSignals"];Zd.__super__=h;Zd.prototype=l(h.prototype,{get_name:function(){return"PageSignals_44"},dispose:function(){h.prototype.dispose.call(this);this.onChloeMovingToLeftInterrupted=
this.onShowMoreToCome=this.onChloeCheering=this.onPlayerTapToPlay=this.onChloeMovementInterrupted=this.onPlaySparkle=this.onGameExit=this.onPageScroll=this.onFinishedPageFlipping=this.onRemovedActivatedKey=this.onShowTapAnywhere=this.onShowCorrectedWords=this.onChloeOnMove=this.onChloeStepBack=this.onPlayAnimationSfx2=this.onPlayAnimationSfx1=this.onDisposeTextOnScreen=this.onFinishedTextLoadingOnScreen=this.onEndOfPuzzleReached=this.onFrogRunAway=this.onShowFrog=this.onChloeSteppingOnKeyword=this.onKeywordActivated=
this.onChloePlayIdle=this.onActivateGuitar=this.onKeyDown=this.onChloeSetAnimation=this.onChloeDisapperCurrentItem=this.onChloeChangeItem=this.onChloeSetMoving=this.onChloeMoveRight=this.onChloeMoveLeft=this.onContinuationPreviousPage=this.onContinuationNextPage=null},__class__:Zd});var $d=function(){h.call(this)};g["game.game.components.PageTransitionAnimation"]=$d;$d.__name__=["game","game","components","PageTransitionAnimation"];$d.__super__=h;$d.prototype=l(h.prototype,{get_name:function(){return"PageTransitionAnimation_8"},
onAdded:function(){h.prototype.onAdded.call(this);this._fields=this.owner._compMap.StoryManagerFields_42;this.setupScreenSprite();this.setupScreenWidthAnimator()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},onUpdate:function(a){h.prototype.onUpdate.call(this,a);this._screenWidthAnimator.update(a)},setupListeners:function(){var a=this.owner._compMap.Disposer_49,b=this.owner._compMap.PageSignals_44;a.add(b.onPageScroll.connect(e(this,this.onPageScroll)));a.add(b.onContinuationNextPage.connect(e(this,
this.onContinuationNextPage)));a.add(b.onContinuationPreviousPage.connect(e(this,this.onContinuationPreviousPage)))},setupScreenSprite:function(){this._screenSprite=this.owner._compMap.Sprite_1;null==this._screenSprite&&(this._screenSprite=new q,this.owner.add(this._screenSprite))},setupScreenWidthAnimator:function(){this._screenWidthAnimator=new ca(i.get_scaledStageWidth(),e(this,this.onChangedWidthAnimator))},onPageScroll:function(){this.playPageFlipAnimation(O.LEFT)},playPageFlipAnimation:function(a){this._transitionDirection=
a;var b=t._platform.getRenderer().createTexture(C["int"](i.get_scaledStageWidth()),C["int"](i.get_scaledStageHeight()));q.render(this.owner,b.get_graphics());null==this._pageFlippingRect&&(this._pageFlippingRect=new bb);a==O.LEFT?(this._scrollingLevelSprite=new F(b),this.owner.addChild((new k).add(this._scrollingLevelSprite)),this._screenWidthAnimator.set__(i.get_scaledStageWidth()),this._screenWidthAnimator.animateTo(0,0.75,T.quadInOut),this._pageFlippingRect.set(0,0,i.get_scaledStageWidth(),i.get_scaledStageHeight())):
(this._scrollingLevelSprite=new F(b),this._fields.foregroundLayer.addChild((new k).add(this._scrollingLevelSprite)),m.callWithDelay(this.owner,new n(e(this,this.onTakeDelayedSnapShot)),0.1),this._screenWidthAnimator.set__(0),this._screenWidthAnimator.animateTo(i.get_scaledStageWidth(),0.75,T.quadInOut),this._pageFlippingRect.set(0,0,0,i.get_scaledStageHeight()));this.playPageFlipMovieOnce(a);m.callWithDelay(this.owner,new n(e(this,this.onDisposePageScrollingObjects)),0.75)},onTakeDelayedSnapShot:function(){var a=
this._fields.foregroundLayer._internal_getFromChildren("MoviePlayer_48",ba);this._fields.foregroundLayer.removeChild(a.owner);this._fields.foregroundLayer.removeChild(this._scrollingLevelSprite.owner);var b=t._platform.getRenderer().createTexture(C["int"](i.get_scaledStageWidth()),C["int"](i.get_scaledStageHeight()));q.render(this.owner,b.get_graphics());this._delayedSnapShot=new F(b);this._delayedSnapShot.scissor=this._pageFlippingRect;this._fields.foregroundLayer.addChild(this._scrollingLevelSprite.owner);
this._fields.foregroundLayer.addChild((new k).add(this._delayedSnapShot));this._fields.foregroundLayer.addChild(a.owner)},playPageFlipMovieOnce:function(a){var b=this,c=new G(this._fields.assetPack,"animations/page_flip"),f=new ba(c),c=new q,d="",d=this.owner._compMap.StoryManagerFields_42;a==O.LEFT?(this.owner.addChild((new k).add(f).add(c)),d=d.isShowingDaRulePage?"pageflip_anti":"pageflip"):(this.owner.addChild((new k).add(f).add(c)),d="pageflip_prev");f.owner.add(new Qb(0.75/Y.getInstance().scale));
f.loop(d);f.pause();f.playOnce(d,function(){f.owner.dispose();b.owner._compMap.PageSignals_44.onFinishedPageFlipping.emit()})},onContinuationNextPage:function(){this.playPageFlipAnimation(O.LEFT)},onContinuationPreviousPage:function(){this.playPageFlipAnimation(O.RIGHT)},onDisposePageScrollingObjects:function(){null!=this._scrollingLevelSprite&&(null!=this._scrollingLevelSprite&&(null!=this._scrollingLevelSprite.owner&&this._scrollingLevelSprite.owner.dispose(),this._scrollingLevelSprite=null),null!=
this._delayedSnapShot&&(null!=this._delayedSnapShot.owner&&this._delayedSnapShot.owner.dispose(),this._delayedSnapShot=null))},onChangedWidthAnimator:function(a){null!=this._transitionDirection&&(this._transitionDirection==O.LEFT?(this._pageFlippingRect.width=a,null!=this._scrollingLevelSprite&&(this._scrollingLevelSprite.scissor=this._pageFlippingRect)):(this._pageFlippingRect.width=a,null!=this._delayedSnapShot&&(this._delayedSnapShot.scissor=this._pageFlippingRect)))},dispose:function(){h.prototype.dispose.call(this);
this._delayedSnapShot=this._transitionDirection=this._scrollingLevelSprite=this._screenSprite=this._screenWidthAnimator=this._pageFlippingRect=this._fields=null},__class__:$d});var ae=function(){this.isShowingDaRulePage=!0;this.currentLevelNumber=1;this.onSetChloeOnTheBottomRightPosition=new K;this.onEnterLevelAnimationFinished=new K;this.onEnterLevel=new K;this.onExitLevel=new K;this.onPageVariablesLoaded=new E;this.onLoadStoryVariables=new E;h.call(this)};g["game.game.components.StoryManagerFields"]=
ae;ae.__name__=["game","game","components","StoryManagerFields"];ae.__super__=h;ae.prototype=l(h.prototype,{get_name:function(){return"StoryManagerFields_42"},set_currentLevelNumber:function(a){v.set_currentLevelNumber(a);this.currentLevelNumber=a;this.currentLevelNumber>v.highestLevelNumber&&(v.set_highestLevelNumber(this.currentLevelNumber),Ja.getInstance().saveHighestClear(v.highestLevelNumber));return this.currentLevelNumber},onAdded:function(){h.prototype.onAdded.call(this);this.assetPack=this.owner._internal_getFromParents("Sprite_1",
Ic).assetPack;this.setupLayers();this.set_currentLevelNumber(v.currentLevelNumber)},onStart:function(){h.prototype.onStart.call(this)},setupLayers:function(){this.backgroundLayer=new k;this.middleLayer=new k;this.foregroundLayer=new k;this.owner.addChild(this.backgroundLayer);this.owner.addChild(this.middleLayer);this.owner.addChild(this.foregroundLayer)},dispose:function(){h.prototype.dispose.call(this);this.wordUnlockerMap=this.triggerWords=this.storyTexts=this.assetPack=this.textsToShow=this.foregroundLayer=
this.middleLayer=this.backgroundLayer=this.onSetChloeOnTheBottomRightPosition=this.onEnterLevelAnimationFinished=this.onEnterLevel=this.onExitLevel=this.onPageVariablesLoaded=this.onLoadStoryVariables=null},__class__:ae});var be=function(){h.call(this)};g["game.game.components.WordChloeStandingOnManager"]=be;be.__name__=["game","game","components","WordChloeStandingOnManager"];be.__super__=h;be.prototype=l(h.prototype,{get_name:function(){return"WordChloeStandingOnManager_7"},onAdded:function(){h.prototype.onAdded.call(this);
this._pageSignals=this.owner._compMap.PageSignals_44;this._pageFields=this.owner._compMap.PageFields_45},onStart:function(){h.prototype.onStart.call(this);this._chloe=this.owner._internal_getFromChildren("Chloe_41")},onUpdate:function(a){h.prototype.onUpdate.call(this,a);this.updateCollisionDetection(a)},updateCollisionDetection:function(){if(!(null==this._pageFields.textSprites||null==this._chloe)){for(var a=0,b=this._pageFields.textSprites;a<b.length;){var c=b[a];++a;if(this.isChloeStandingOn(c))for(var f=
0,d=this._pageFields.triggerWords;f<d.length;){var e=d[f];++f;if(e==c._text){this._pageSignals.onChloeSteppingOnKeyword.emit(c);return}}}this._pageSignals.onChloeSteppingOnKeyword.emit(null)}},isChloeStandingOn:function(a){return a.getNaturalWidth()<0.5*this._chloe.getNaturalWidth()?this._chloe.collides(a)?!0:!1:this._chloe.isInside(a)},dispose:function(){h.prototype.dispose.call(this);this._pageFields=this._pageSignals=this._chloe=null},__class__:be});var fa=g["game.game.components.animation.MoveState"]=
{__ename__:["game","game","components","animation","MoveState"],__constructs__:["TO_LEFT","TO_RIGHT","STATIC"]};fa.TO_LEFT=["TO_LEFT",0];fa.TO_LEFT.toString=p;fa.TO_LEFT.__enum__=fa;fa.TO_RIGHT=["TO_RIGHT",1];fa.TO_RIGHT.toString=p;fa.TO_RIGHT.__enum__=fa;fa.STATIC=["STATIC",2];fa.STATIC.toString=p;fa.STATIC.__enum__=fa;var Od=function(){this.moveState=fa.STATIC;this._alreadyPlayingClueAnimation=!1;this._aniMapName1=new S;h.call(this);this._aniMapName1.set("chloe_idle",!0);this._aniMapName1.set("chloe_holding_idle",
!0);this._aniMapName1.set("chloe_idle_guitar",!0);this._aniMapName1.set("feather",!0);this._aniMapName1.set("chloe_walk",!0);this._aniMapName1.set("chloe_holding_walk",!0);this._aniMapName1.set("chloe_walk_guitar",!0);this._aniMapName1.set("feather_walk",!0);this._aniMapName1.set("chloe_interact_guitar",!0);this._aniMapName1.set("chloe_flyingkiss",!0);this._aniMapName1.set("chloe_cheer",!0);this._aniMapName1.set("chloe_grossed",!0);this._aniMapName1.set("chloe_scared",!0);this._aniMapName1.set("chloe_shrugs",
!0);this._aniMapName1.set("chloe_thinking",!0);this._aniMapName1.set("interact_feather",!0);this._aniMapName1.set("interact_newspaper",!0)};g["game.game.components.animation.ChloeAnimation"]=Od;Od.__name__=["game","game","components","animation","ChloeAnimation"];Od.__super__=h;Od.prototype=l(h.prototype,{get_name:function(){return"ChloeAnimation_46"},onAdded:function(){h.prototype.onAdded.call(this);this._disposer=new R;this._chloe=this.owner._compMap.Chloe_41;this.setupMoviePlayer()},onStart:function(){h.prototype.onStart.call(this);
this.setupListeners()},setupListeners:function(){this._disposer.add(this._chloe.pageSignals.onChloeMoveLeft.connect(e(this,this.onChloeMoveLeft)));this._disposer.add(this._chloe.pageSignals.onChloeMoveRight.connect(e(this,this.onChloeMoveRight)));this._disposer.add(this._chloe.pageSignals.onChloeStepBack.connect(e(this,this.onChloeStepBack)));this._disposer.add(this._chloe.pageSignals.onActivateGuitar.connect(e(this,this.onActivateGuitar)));this._disposer.add(this._chloe.pageSignals.onChloePlayIdle.connect(e(this,
this.onChloePlayIdle)));this._disposer.add(this._chloe.pageSignals.onChloeSetAnimation.connect(e(this,this.onChloeSetAnimation)));this._disposer.add(this._chloe.storyManagerFields.onExitLevel.connect(e(this,this.onExitLevel)));this._disposer.add(this._chloe.pageSignals.onChloeSteppingOnKeyword.connect(e(this,this.onChloeSteppingOnKeyword)));this._disposer.add(this._chloe.pageSignals.onKeywordActivated.connect(e(this,this.onKeywordActivated)))},onChloeSteppingOnKeyword:function(a){this._steppingOnTextSprite=
a},onKeywordActivated:function(){},onFinishedThinking:function(){this.moviePlayerChloe.loop("chloe_idle");this._chloe.set_state(o.NORMAL)},onActivatePlayingClueAnimation:function(){this._alreadyPlayingClueAnimation=!1},setupMoviePlayer:function(){this.assetLib=new G(this._chloe.pageFields.assetPack,"animations/characters/chloe");this.moviePlayerChloe=new ba(this.assetLib);var a=new k;this.owner.addChild(a.add(this.moviePlayerChloe));this.moviePlayerChloe.loop("chloe_cheer");this.moviePlayerChloe.loop("chloe_grossed");
this.moviePlayerChloe.loop("chloe_scared");this.moviePlayerChloe.loop("chloe_shrugs");this.moviePlayerChloe.loop("chloe_thinking");this.moviePlayerChloe.loop("chloe_enter_door");this.moviePlayerChloe.loop("chloe_holding_idle");this.moviePlayerChloe.loop("chloe_walk");this.moviePlayerChloe.loop("chloe_holding_walk");this.moviePlayerChloe.loop("feather");this.moviePlayerChloe.loop("feather_walk");this.moviePlayerChloe.loop("chloe_bow_interact");this.moviePlayerChloe.loop("chloe_idle_bow");this.moviePlayerChloe.loop("chloe_idle");
this._movieSpriteChloe=new q;a.add(this._movieSpriteChloe);q.getBounds(this.owner)},onChloeSetAnimation:function(a,b){null!=this._aniMapName1.get(a)&&this.playChloeAnimation(a,b)},playChloeAnimation:function(a,b){b?this.moviePlayerChloe.loop(a):this.moviePlayerChloe.playOnce(a,e(this,this.onChloePlayIdle))},onActivateGuitar:function(){this.onChloeMoving(!1)},onChloePlayIdle:function(){this.moviePlayerChloe.loop("chloe_idle")},onExitLevel:function(){this.onChloePlayIdle()},onChloeMoveLeft:function(a){this._chloe.state==
o.ON_ANIMATION_TRANSITION||this._chloe.get_moveManager().moveRight||(this.setAnimationDirection(O.LEFT),a?this.moveState==fa.STATIC&&(this.moveState=fa.TO_LEFT,this.playMoveAnimation()):(this.moveState==fa.TO_LEFT&&(this.moveState=fa.STATIC),this.moveState==fa.STATIC&&this.playIdleAnimation()))},onChloeMoveRight:function(a){this._chloe.state==o.ON_ANIMATION_TRANSITION||this._chloe.get_moveManager().moveLeft||(this.setAnimationDirection(O.RIGHT),a?this.moveState==fa.STATIC&&(this.moveState=fa.TO_RIGHT,
this.playMoveAnimation()):(this.moveState==fa.TO_RIGHT&&(this.moveState=fa.STATIC),this.moveState==fa.STATIC&&this.playIdleAnimation()))},setAnimationDirection:function(a){a==O.LEFT?this._movieSpriteChloe.scaleX.set__(-1):this._movieSpriteChloe.scaleX.set__(1)},playMoveAnimation:function(){switch(this._chloe.state[1]){case 0:this.moviePlayerChloe.loop("chloe_walk");break;case 2:this.moviePlayerChloe.loop("chloe_walk_guitar");break;case 3:this.moviePlayerChloe.loop("chloe_careful_guitar");break;case 5:this.moviePlayerChloe.loop("chloe_holding_walk");
break;case 6:this.moviePlayerChloe.loop("chloe_careful");break;case 7:this.moviePlayerChloe.loop("chloe_careful_holding_walk");break;case 8:this.moviePlayerChloe.loop("chloe_walk_bow");break;case 9:this.moviePlayerChloe.loop("chloe_walk_hold_gift_small");break;case 10:this.moviePlayerChloe.loop("chloe_walk_hold_gift_medium");break;case 11:this.moviePlayerChloe.loop("chloe_walk_hold_gift_medium2");break;case 12:this.moviePlayerChloe.loop("chloe_walk_hold_gift_large");break;case 4:break;default:this.moviePlayerChloe.loop("chloe_holding_walk")}},
playIdleAnimation:function(){switch(this._chloe.state[1]){case 0:this.moviePlayerChloe.loop("chloe_idle");break;case 2:this.moviePlayerChloe.loop("chloe_idle_guitar");break;case 3:this.moviePlayerChloe.loop("chloe_careful_idle_guitar");break;case 5:this.moviePlayerChloe.loop("chloe_holding_idle");break;case 6:this.moviePlayerChloe.loop("chloe_careful_idle");break;case 7:this.moviePlayerChloe.loop("chloe_careful_idle_holding");break;case 8:this.moviePlayerChloe.loop("chloe_idle_bow");break;case 9:this.moviePlayerChloe.loop("chloe_idle_hold_gift_small");
break;case 10:this.moviePlayerChloe.loop("chloe_idle_hold_gift_medium");break;case 11:this.moviePlayerChloe.loop("chloe_idle_hold_gift_medium2");break;case 12:this.moviePlayerChloe.loop("chloe_idle_hold_gift_large");break;case 4:break;default:this.moviePlayerChloe.loop("chloe_holding_idle")}},onChloeMoving:function(){},onChloeStepBack:function(){},dispose:function(){h.prototype.dispose.call(this);this._disposer.dispose();this.assetLib=this._steppingOnTextSprite=this._movieSpriteChloe=this._chloe=
this._disposer=null},__class__:Od});var Nd=function(){this.moveLeft=this.moveRight=this._onSteppingBack=!1;this.currentLineNumberStandingOn=0;h.call(this)};g["game.game.components.animation.ChloeMoveManager"]=Nd;Nd.__name__=["game","game","components","animation","ChloeMoveManager"];Nd.__super__=h;Nd.prototype=l(h.prototype,{get_name:function(){return"ChloeMoveManager_43"},onAdded:function(){h.prototype.onAdded.call(this);this._chloe=this.owner._compMap.Chloe_41},onStart:function(){h.prototype.onStart.call(this);
this.setupListeners()},onUpdate:function(a){h.prototype.onUpdate.call(this,a);this._chloe.state!=o.ON_ANIMATION_TRANSITION&&this.updateMovement(a)},setupChloeVariables:function(){var a=this._chloe.pageFields;this._chloe.sprite.x.set__(a.startingX+0.5*this._chloe.getNaturalWidth());this._chloe.sprite.y.set__(a.startingY);this.horizontalSpeed=0.4*i.get_scaledStageWidth();this._leftLimit=a.startingX},setupListeners:function(){this._disposer=new R;this._disposer.add(this._chloe.pageSignals.onChloeMoveLeft.connect(e(this,
this.onChloeMoveLeft)));this._disposer.add(this._chloe.pageSignals.onChloeMoveRight.connect(e(this,this.onChloeMoveRight)));this._disposer.add(this._chloe.storyManagerFields.onPageVariablesLoaded.connect(e(this,this.onPageVariablesLoaded)));this._disposer.add(this._chloe.storyManagerFields.onEnterLevel.connect(e(this,this.onEnterLevel)));this._disposer.add(this._chloe.storyManagerFields.onSetChloeOnTheBottomRightPosition.connect(e(this,this.onSetChloeOnTheBottomRightPosition)));this._disposer.add(this._chloe.pageSignals.onContinuationNextPage.connect(e(this,
this.onContinuationNextPage)));this._disposer.add(this._chloe.pageSignals.onContinuationPreviousPage.connect(e(this,this.onContinuationPreviousPage)));this._disposer.add(this._chloe.pageSignals.onKeywordActivated.connect(e(this,this.onKeywordActivated)));this._disposer.add(this._chloe.pageSignals.onChloeStepBack.connect(e(this,this.onChloeStepBack)))},onKeywordActivated:function(a){this._onSteppingBack?this._onSteppingBack=!1:this.setChloePositionOnTopOfTextSprite(a.textSprite)},setChloePositionOnTopOfTextSprite:function(a){this.moveRight=
this.moveLeft=!1;t._platform.getTouch().get_supported()&&(this.updatePositionY(a.lineNumber),this._chloe.sprite.x.set__(a.x._value+0.5*a.getNaturalWidth()))},onChloeStepBack:function(a,b){this._onSteppingBack=!0;this.stopMoving();var c=0.5*b+0.5*this._chloe.getNaturalWidth(),f=0,d=this.owner._compMap.Sprite_1,e=O.LEFT;d.x._value>a?(f=a+c,e=O.LEFT,f>this.getRightLimit()&&(f=a-c,e=O.RIGHT)):(f=a-c,e=O.RIGHT,f<this._chloe.pageFields.startingX+0.5*this._chloe.getNaturalWidth()&&1>this._chloe.get_moveManager().currentLineNumberStandingOn&&
(e=O.LEFT,f=a+c));d.x.animateTo(f,0.2,T.expoOut);this.owner._compMap.ChloeAnimation_46.setAnimationDirection(e)},onContinuationPreviousPage:function(){this.onSetChloeOnTheBottomRightPosition()},onContinuationNextPage:function(){this.currentLineNumberStandingOn=0;this.setupChloeVariables()},onEnterLevel:function(){this.currentLineNumberStandingOn=0},onPageVariablesLoaded:function(){this.setupChloeVariables()},onChloeMoveLeft:function(a){this.moveRight||(this.moveLeft=a)},onChloeMoveRight:function(a){this.moveLeft||
(this.moveRight=a)},onSetChloeOnTheBottomRightPosition:function(){this._chloe.sprite.x.set__(this._chloe.pageFields.lineLimitWidth3-this._chloe.getNaturalWidth());this.updatePositionY(2)},updateMovement:function(a){if(this.moveLeft){var b=this._chloe.sprite.x;b.set__(b._value-this.horizontalSpeed*a)}this.moveRight&&(b=this._chloe.sprite.x,b.set__(b._value+this.horizontalSpeed*a));this.updateLeftLimit()&&this.updateRightLimit();this._chloe.pageSignals.onChloeOnMove.emit(this._chloe)},updateLeftLimit:function(){var a=
this._chloe.pageFields,b=this._chloe.pageSignals;if(this._chloe.sprite.x._value<a.startingX+0.5*this._chloe.getNaturalWidth()){if(0==this.currentLineNumberStandingOn)return b.onChloeMovingToLeftInterrupted.emit(),this._chloe.sprite.x.set__(a.startingX+0.5*this._chloe.getNaturalWidth()),this.moveLeft=!1,0!=a.startingTextIndex&&b.onContinuationPreviousPage.emit(),!1;this.currentLineNumberStandingOn--;this._chloe.sprite.x.set__(this.getRightLimit());this.updatePositionY(this.currentLineNumberStandingOn)}return!0},
updateRightLimit:function(){var a=this.getRightLimit();this._chloe.sprite.x._value>a&&(this._chloe.sprite.x.set__(a),this.currentLineNumberStandingOn>=this._chloe.pageFields.lineCountLimit?(this.moveRight=!1,this._chloe.pageFields.get_hasNextPage()?this._chloe.pageSignals.onContinuationNextPage.emit():this._chloe.pageSignals.onEndOfPuzzleReached.emit()):(this.currentLineNumberStandingOn++,this._chloe.sprite.x.set__(this._chloe.pageFields.startingX+0.5*this._chloe.getNaturalWidth()),this.updatePositionY(this.currentLineNumberStandingOn)))},
updatePositionY:function(a){this.currentLineNumberStandingOn=a;this._chloe.sprite.y.set__(this._chloe.pageFields.lineHeight*this.currentLineNumberStandingOn+(this._chloe.pageFields.startingY-0*this._chloe.getNaturalHeight()))},getRightLimit:function(){return 0==this.currentLineNumberStandingOn?this._chloe.pageFields.lineLimitWidth1-0.5*this._chloe.getNaturalWidth():1==this.currentLineNumberStandingOn?this._chloe.pageFields.lineLimitWidth2-0.5*this._chloe.getNaturalWidth():this._chloe.pageFields.lineLimitWidth3-
0.5*this._chloe.getNaturalWidth()},stopMoving:function(){this.moveRight=this.moveLeft=!1},isMoving:function(){return this.moveLeft||this.moveRight?!0:!1},dispose:function(){h.prototype.dispose.call(this);this._disposer.dispose();this._chloe=this._disposer=null},__class__:Nd});var j=function(a){h.call(this);this._moviePlayer=new ba(a)};g["game.game.components.levels.BaseMoviePlayer"]=j;j.__name__=["game","game","components","levels","BaseMoviePlayer"];j.__super__=h;j.prototype=l(h.prototype,{get_name:function(){return"BaseMoviePlayer_6"},
onAdded:function(){h.prototype.onAdded.call(this);this.setupSprite();this.setupMoviePlayer();this.sprite.disablePointer()},onStart:function(){h.prototype.onStart.call(this);this.setupCollider()},setupCollider:function(a,b){null==b&&(b=1);null==a&&(a=1);null!=this.collider&&(this.collider.owner.dispose(),this.collider=null);this.collider=new Jb;this.owner.addChild((new k).add(this.collider));this.collider.setupCollider(this.getNaturalWidth()*a,this.getNaturalHeight()*b);this.collider.y.set__(-0.5*
this.collider.getNaturalHeight());this.collider.hideCollider()},setupSprite:function(){this.sprite=new q;this.owner.add(this.sprite)},setupMoviePlayer:function(){this.owner.addChild((new k).add(this._moviePlayer));this._moviePlayer.owner.add(new q)},playOnce:function(a,b){this._moviePlayer.playOnce(a,b)},loop:function(a){this._moviePlayer.loop(a)},loopWithDuration:function(a,b,c){this._moviePlayer.loop(a);null!=b&&m.callWithDelay(this.owner,new n(b),c)},getNaturalWidth:function(){null==this._rect&&
(this._rect=q.getBounds(this._moviePlayer.owner));return this._rect.width},getNaturalHeight:function(){null==this._rect&&(this._rect=q.getBounds(this._moviePlayer.owner));return this._rect.height},setMovieScaleX:function(a){null==a&&(a=1);this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(a)},dispose:function(){h.prototype.dispose.call(this);this._moviePlayer.owner.dispose();this._rect=this.sprite=this._moviePlayer=null},__class__:j});var Sd=function(a){j.call(this,a)};g["game.game.components.animation.CosmoAnimation"]=
Sd;Sd.__name__=["game","game","components","animation","CosmoAnimation"];Sd.__super__=j;Sd.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("cosmo_worried")},__class__:Sd});var Jc=function(a){j.call(this,a)};g["game.game.components.animation.CosmoAnimationIntro"]=Jc;Jc.__name__=["game","game","components","animation","CosmoAnimationIntro"];Jc.__super__=j;Jc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("cosmo_large")},
setupBobbingAnimation:function(){null!=this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null);var a=this.sprite.y._value+-0.05*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a),b=new na;this._bobbingAction=b.run(a);this.owner.addChild((new k).add(b))},dispose:function(){j.prototype.dispose.call(this);null!=this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null)},__class__:Jc});var Kd=
function(a){j.call(this,a)};g["game.game.components.animation.FoopAnimationIntro"]=Kd;Kd.__name__=["game","game","components","animation","FoopAnimationIntro"];Kd.__super__=j;Kd.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("foop_large")},__class__:Kd});var ce=function(a){j.call(this,a)};g["game.game.components.animation.GlowText"]=ce;ce.__name__=["game","game","components","animation","GlowText"];ce.__super__=j;ce.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);
this._moviePlayer.loop("glow_text")},__class__:ce});var Lb=function(){this.enableTracking=this.enableFacing=!0;this._currentLineNumber=-100;h.call(this);this._defaultSpeed=0.3*i.get_scaledStageWidth();this._slowedSpeed=0.1*i.get_scaledStageWidth();this._speed=this._defaultSpeed};g["game.game.components.animation.PositionTracker"]=Lb;Lb.__name__=["game","game","components","animation","PositionTracker"];Lb.__super__=h;Lb.prototype=l(h.prototype,{get_name:function(){return"PositionTracker_40"},onAdded:function(){h.prototype.onAdded.call(this)},
onUpdate:function(a){h.prototype.onUpdate.call(this,a);if(null!=this._chloe){if(this.enableTracking)this.onUpdatePositionTracking(a);if(this.enableFacing)this.onUpdateFacing()}},onUpdatePositionTracking:function(a){var b=this._chloe.sprite,c=this._chloe.getSprite().scaleX._value,c=b.x._value+this._chloe.getNaturalWidth()*this._offsetX*c,b=b.y._value+this._chloe.getNaturalHeight()*this._offsetY,f=this._defaultSpeed*a,d=0.4*i.get_scaledStageWidth();this._chloe.get_moveManager().horizontalSpeed<d&&(f=
this._slowedSpeed*a);Math.abs(this._sprite.x._value-c)>this._positionAllowance&&(this._sprite.x._value>c?(a=this._sprite.x,a.set__(a._value-f)):(a=this._sprite.x,a.set__(a._value+f)));this._chloe.get_moveManager().currentLineNumberStandingOn!=this._currentLineNumber&&(this._currentLineNumber=this._chloe.get_moveManager().currentLineNumberStandingOn,this._sprite.x.set__(c),this._sprite.y.set__(b),this._funcToCallWhenChangedLineNumber())},onUpdateFacing:function(){this._sprite.x._value>this._chloe.sprite.x._value+
0*this._chloe.getNaturalWidth()?this._sprite.scaleX.set__(-this._defaultScaleX):this._sprite.scaleX.set__(this._defaultScaleX)},setVariables:function(a,b,c,f,d,e){this._sprite=a;this._chloe=b;this._offsetX=c;this._offsetY=f;this._defaultScaleX=d;this._funcToCallWhenChangedLineNumber=e;this._positionAllowance=0.1*this._chloe.getNaturalWidth()},__class__:Lb});var de=function(){h.call(this)};g["game.game.components.animation.TextActivationAnimation"]=de;de.__name__=["game","game","components","animation",
"TextActivationAnimation"];de.__super__=h;de.prototype=l(h.prototype,{get_name:function(){return"TextActivationAnimation_34"},onAdded:function(){h.prototype.onAdded.call(this);var a=this.owner._internal_getFromParents("PageFields_45");this._lib=new G(a.assetPack,"animations/textfx")},playGlowText:function(a){var b=new ce(this._lib);this.owner._compMap.GameTextSprite_35.textSpritesOwner.addChild((new k).add(b),!1);var c=a.x._value+0.17*a.getNaturalWidth(),f=a.y._value+0.4*a.getNaturalHeight();b.sprite.setXY(c,
f);c=0;c=Kb.isLowEndDevice()?a.getNaturalWidth()/Y.getInstance().scale:a.getNaturalWidth()/a.scaleX._value;a=Math.abs(c/b.getNaturalWidth());b.sprite.scaleX.set__(a);m.callWithDelay(this.owner,new ma(e(this,this.onDisposeGlow),b),1)},onDisposeGlow:function(a){a.owner.dispose()},dispose:function(){h.prototype.dispose.call(this);this._lib=null},__class__:de});var Ud=function(a){j.call(this,a)};g["game.game.components.animation.WandaAnimation"]=Ud;Ud.__name__=["game","game","components","animation",
"WandaAnimation"];Ud.__super__=j;Ud.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("wanda_worried")},__class__:Ud});var Kc=function(a){j.call(this,a)};g["game.game.components.animation.WandaAnimationIntro"]=Kc;Kc.__name__=["game","game","components","animation","WandaAnimationIntro"];Kc.__super__=j;Kc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("wanda_large_idle")},setupBobbingAnimation:function(){null!=
this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null);var a=this.sprite.y._value+-0.05*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a),b=new na;this._bobbingAction=b.run(a);this.owner.addChild((new k).add(b))},dispose:function(){j.prototype.dispose.call(this);null!=this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null)},__class__:Kc});var ee=function(){h.call(this)};g["game.game.components.game.Background"]=
ee;ee.__name__=["game","game","components","game","Background"];ee.__super__=h;ee.prototype=l(h.prototype,{get_name:function(){return"Background_53"},onAdded:function(){h.prototype.onAdded.call(this);this._pageFields=this.owner._compMap.PageFields_45;this._storyManagerFields=this.owner._compMap.StoryManagerFields_42;this._disposer=new R;this.onShowCorrectedWords()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupListeners:function(){var a=this.owner._compMap.PageSignals_44;
this._disposer.add(a.onShowCorrectedWords.connect(e(this,this.onShowCorrectedWords)));this._disposer.add(this._storyManagerFields.onExitLevel.connect(e(this,this.onExitLevel)));this._disposer.add(this._storyManagerFields.onPageVariablesLoaded.connect(e(this,this.onPageVariablesLoaded)));this._disposer.add(a.onFinishedPageFlipping.connect(e(this,this.onFinishedPageFlipping)));this._disposer.add(a.onShowMoreToCome.connect(e(this,this.onShowMoreToCome)))},onPageVariablesLoaded:function(){this.disposeDaRuleBg();
this.setupBg();this._storyManagerFields.isShowingDaRulePage=!0},onFinishedPageFlipping:function(){this._storyManagerFields.isShowingDaRulePage?this.disposeDaRuleBg():this.disposeBg()},setupBg:function(){this._bg=new F(r.appAssetPack.getTexture("scenes/intro/ui_bg"));this._storyManagerFields.backgroundLayer.addChild((new k).add(this._bg),!1)},setupDaRuleBg:function(){this._afterGameBg=new F(r.getTexture("scenes/post_game/post_game_bg"));this._storyManagerFields.foregroundLayer.addChild((new k).add(this._afterGameBg))},
onShowCorrectedWords:function(){this.disposeDaRuleBg();this.setupDaRuleBg()},onShowMoreToCome:function(){this.onShowCorrectedWords()},onExitLevel:function(){7==v.currentLevelNumber||4==v.currentLevelNumber||this.disposeDaRuleBg()},disposeDaRuleBg:function(){null!=this._afterGameBg&&(this._afterGameBg.owner.dispose(),this._afterGameBg=null)},disposeBg:function(){null!=this._bg&&(this._bg.owner.dispose(),this._bg=null)},dispose:function(){h.prototype.dispose.call(this);this._storyManagerFields=this._pageFields=
null;this._disposer.dispose();this._afterGameBg=this._bg=this._disposer=null},__class__:ee});var fe=function(){this._textToFindHasSameLineNumberWithChloe=!1;this._isMobile=this._keyLeftIsUp=this._keyRightIsUp=!0;this._detectCollisionForMovement=!1;h.call(this);this._isMobile=t._platform.getTouch().get_supported()};g["game.game.components.game.GameInput"]=fe;fe.__name__=["game","game","components","game","GameInput"];fe.__super__=h;fe.prototype=l(h.prototype,{get_name:function(){return"GameInput_54"},
onAdded:function(){h.prototype.onAdded.call(this);this._pageFields=this.owner._compMap.PageFields_45;this._pageSignals=this.owner._compMap.PageSignals_44;this.setupControllers()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners();this._chloe=this.owner._internal_getFromChildren("Chloe_41");this._wordManager=this.owner._compMap.WordChloeStandingOnManager_7},onUpdate:function(a){h.prototype.onUpdate.call(this,a);this.onUpdateChloeMovement(a)},onUpdateChloeMovement:function(a){null!=
this._wordManager&&null!=this._textSpriteChloeGoingTo&&this._detectCollisionForMovement&&this.updateWordPathFinding(a)},updateWordPathFinding:function(a){var b=this._textSpriteChloeGoingTo.x._value+0.5*this._textSpriteChloeGoingTo.getNaturalWidth();this._chloe.get_moveManager().moveLeft?this.updateLeftWordPathFinding(b,a):this._chloe.get_moveManager().moveRight?this.updateRightWordPathFinding(b,a):this.movementIsHaltButWordStillBeingSought()&&this._chloe.collides(this._textSpriteChloeGoingTo)&&(this._pageSignals.onChloeMoveLeft.emit(!1),
this._pageSignals.onChloeMoveRight.emit(!1),this.activateWord())},movementIsHaltButWordStillBeingSought:function(){return null!=this._textSpriteChloeGoingTo&&!this._chloe.get_moveManager().moveRight&&!this._chloe.get_moveManager().moveRight},updateLeftWordPathFinding:function(a,b){if(this._textSpriteChloeGoingTo.lineNumber==this._chloe.get_moveManager().currentLineNumberStandingOn)if(this._textToFindHasSameLineNumberWithChloe){var c=this._chloe.pageFields.startingX+0.5*this._chloe.getNaturalWidth();
this._chloe.sprite.x._value-this._chloe.get_moveManager().horizontalSpeed*b<c?(this._chloe.sprite.x.set__(c),this._pageSignals.onChloeMoveLeft.emit(!1),this.activateWord()):this._chloe.sprite.x._value<a&&(this._chloe.sprite.x.set__(a),this._pageSignals.onChloeMoveLeft.emit(!1),this.activateWord())}else this._textSpriteChloeGoingTo.lineNumber==this._chloe.get_moveManager().currentLineNumberStandingOn&&(this._textToFindHasSameLineNumberWithChloe=!0)},updateRightWordPathFinding:function(a){this._textSpriteChloeGoingTo.lineNumber==
this._chloe.get_moveManager().currentLineNumberStandingOn&&this._chloe.sprite.x._value>a&&(this._chloe.sprite.x.set__(a),this._pageSignals.onChloeMoveRight.emit(!1),this.activateWord())},activateWord:function(){this._detectCollisionForMovement=!1;this.enableMovementControl();this._pageSignals.onKeyDown.emit(this._textSpriteChloeGoingTo)},enableMovementControl:function(){this.nullifyTextChloeGoing()},nullifyTextChloeGoing:function(){this._textSpriteChloeGoingTo=null},setupListeners:function(){this._pageFields.disposer.add(this._pageSignals.onFinishedTextLoadingOnScreen.connect(e(this,
this.onFinishedTextLoadingOnScreen)));this._pageFields.disposer.add(this._pageSignals.onChloeMovingToLeftInterrupted.connect(e(this,this.onChloeMovingToLeftInterrupted)))},onChloeMovingToLeftInterrupted:function(){if(this._detectCollisionForMovement&&(this._detectCollisionForMovement=!1,null!=this._textSpriteChloeGoingTo)){var a=this._textSpriteChloeGoingTo.x._value+0.5*this._textSpriteChloeGoingTo.getNaturalWidth();this._chloe.get_moveManager().moveLeft&&null!=this._textSpriteChloeGoingTo?(this._chloe.sprite.x.set__(a+
1),this._detectCollisionForMovement=!1,this.enableMovementControl(),this._pageSignals.onChloeMoveLeft.emit(!1)):(this._chloe.sprite.x.set__(a-1),this._detectCollisionForMovement=!1,this.enableMovementControl(),this._pageSignals.onChloeMoveRight.emit(!1));this._pageSignals.onKeyDown.emit(null)}},onFinishedTextLoadingOnScreen:function(){this._isMobile&&this.setupMobileControls()},setupControllers:function(){this._isMobile||(this._pageFields.disposer.add(t._platform.getKeyboard().down.connect(e(this,
this.onKeyboardDown))),this._pageFields.disposer.add(t._platform.getKeyboard().up.connect(e(this,this.onKeyboardUp))))},setupMobileControls:function(){this.setupWordClickControls();this._pageFields.disposer.add(this._pageSignals.onChloeMovementInterrupted.connect(e(this,this.onChloeMovementInterrupted)))},setupWordClickControls:function(){for(var a=this,b=0,c=this._pageFields.textSprites;b<c.length;){var f=[c[b]];++b;this._pageFields.disposer.add(f[0].get_pointerDown().connect(function(b){return function(){a.onTextPressed(b[0])}}(f)))}},
onTextPressed:function(a){if(!(null!=this._textSpriteChloeGoingTo||this._chloe.state==o.ON_ANIMATION_TRANSITION)){if(this._isMobile){var b=this.owner._compMap.TutorialManager_22;if(null!=b&&b.currentTextToActivate!=a._text)return}this._detectCollisionForMovement=!0;var b=this._chloe.get_moveManager().currentLineNumberStandingOn,c=a.lineNumber;b==c?a.x._value+0.5*a.getNaturalWidth()>this._chloe.sprite.x._value?this._pageSignals.onChloeMoveRight.emit(!0):this._pageSignals.onChloeMoveLeft.emit(!0):b<
c?this._pageSignals.onChloeMoveRight.emit(!0):this._pageSignals.onChloeMoveLeft.emit(!0);this._textSpriteChloeGoingTo=a;t._platform.getTouch().get_supported()&&(this._textToFindHasSameLineNumberWithChloe=!1)}},onChloeMovementInterrupted:function(){this._textSpriteChloeGoingTo=null;this._pageSignals.onChloeMoveLeft.emit(!1);this._pageSignals.onChloeMoveRight.emit(!1);this._detectCollisionForMovement=!1},onKeyboardDown:function(a){this._chloe.state==o.ON_ANIMATION_TRANSITION||!this._keyLeftIsUp||!this._keyRightIsUp||
(a.key==d.Left&&this._keyLeftIsUp&&(this._keyLeftIsUp=!1,this._pageSignals.onChloeMoveLeft.emit(!0)),a.key==d.Right&&this._keyRightIsUp&&(this._keyRightIsUp=!1,this._pageSignals.onChloeMoveRight.emit(!0)),a.key==d.Down&&this._pageSignals.onKeyDown.emit(null))},onKeyboardUp:function(a){if(this._keyLeftIsUp||this._keyRightIsUp)a.key==d.Left&&!this._keyLeftIsUp&&(this._keyLeftIsUp=!0,this._pageSignals.onChloeMoveLeft.emit(!1)),a.key==d.Right&&!this._keyRightIsUp&&(this._keyRightIsUp=!0,this._pageSignals.onChloeMoveRight.emit(!1))},
dispose:function(){h.prototype.dispose.call(this);this._wordManager=this._chloe=this._textSpriteChloeGoingTo=this._pageSignals=this._pageFields=null},__class__:fe});var zb=function(){h.call(this);this._spaceWidth=-1};g["game.game.components.game.GameTextSprite"]=zb;zb.__name__=["game","game","components","game","GameTextSprite"];zb.__super__=h;zb.prototype=l(h.prototype,{get_name:function(){return"GameTextSprite_35"},onAdded:function(){h.prototype.onAdded.call(this);this._pageFields=this.owner._compMap.PageFields_45;
this._pageSignals=this.owner._compMap.PageSignals_44;this._storyManagerFields=this.owner._compMap.StoryManagerFields_42;this.setupTextSpritesOwner()},setupTextSpritesOwner:function(){this.textSpritesOwner=new k;this._storyManagerFields.backgroundLayer.addChild(this.textSpritesOwner)},setupChapterTextSprite:function(a,b,c,f,d){null==c&&(c="");null!=this._chapterTextSprite&&(this._chapterTextSprite.owner.dispose(),this._chapterTextSprite=null);b=this._chapterTextSprite=new N(b);b.set_text(b._text+c);
a.addChild((new k).add(this._chapterTextSprite));this._chapterTextSprite.set_align(ja.Center);c=new N("one_space");a.addChild((new k).add(c));c.set_align(ja.Center);b=c.getNaturalWidth();c.owner.dispose();this._chapterTextSprite.x.set__(0.5*i.get_scaledStageWidth()-0.5*this._chapterTextSprite.getNaturalWidth()-b);this._chapterTextSprite.y.set__(0.06*i.get_scaledStageHeight());null!=f&&null!=d?this.setupPageTextSprite(a,f,d,b):this._chapterTextSprite.x.set__(0.5*i.get_scaledStageWidth())},setupPageTextSprite:function(a,
b,c,f){b=this._pageTextSprite=new N(b);b.set_text(b._text+c);a.addChild((new k).add(this._pageTextSprite));this._pageTextSprite.set_align(ja.Center);this._pageTextSprite.x.set__(this._chapterTextSprite.x._value+this._chapterTextSprite.getNaturalWidth()+f);this._pageTextSprite.y.set__(this._chapterTextSprite.y._value)},onStart:function(){h.prototype.onStart.call(this);this.setupListeners();this._chloe=this.owner._internal_getFromChildren("Chloe_41")},setupListeners:function(){var a=this.owner._compMap.Disposer_49,
b=this.owner._compMap.StoryManagerFields_42;a.add(b.onPageVariablesLoaded.connect(e(this,this.onPageVariablesLoaded)));a.add(this._pageSignals.onContinuationNextPage.connect(e(this,this.onContinuationNextPage)));a.add(this._pageSignals.onContinuationPreviousPage.connect(e(this,this.onContinuationPreviousPage)));a.add(this._pageSignals.onDisposeTextOnScreen.connect(e(this,this.onDisposeTextOnScreen)));a.add(this._pageSignals.onShowCorrectedWords.connect(e(this,this.onShowCorrectedWords)));a.add(this._pageSignals.onShowTapAnywhere.connect(e(this,
this.onShowTapAnywhere)));a.add(b.onExitLevel.connect(e(this,this.onExitLevel)));a.add(this._pageSignals.onShowMoreToCome.connect(e(this,this.onShowMoreToCome)))},onContinuationPreviousPage:function(){this.onEnterLevel();this.setupTextSprites();this.emitFinishedTextLoadingOnScreen();this.setupAntiRuleHeader()},onContinuationNextPage:function(){this.onEnterLevel();this.setupTextSprites();this.emitFinishedTextLoadingOnScreen();this.setupAntiRuleHeader()},setupAntiRuleHeader:function(){var a=(v.currentLevelNumber-
1)/3+1|0,b=v.currentLevelNumber%3|0;0==b&&(b=3);this.setupChapterTextSprite(this.textSpritesOwner,"chapter",a+"","page",b+"")},onEnterLevel:function(){this.onDisposeTextOnScreen()},onDisposeTextOnScreen:function(){this.textSpritesOwner.disposeChildren();this._pageFields.textSprites=null;this._pageFields.lastStoryTextIndex=0},onShowCorrectedWords:function(){this.onDisposeTextOnScreen();this.onShowDaRuleSentence();this.setupChapterTextSprite(this.owner,"da_rule");this.onShowSparkle()},onShowMoreToCome:function(){this.onDisposeTextOnScreen();
var a=this.owner._compMap.StoryXmlReader_5,b=Ua.getInstance().getFont(a.daRuleTextSettings.fontName,r.fontPack);this._correctedWordSprite=new nc(b,"More puzzles to come!");this._correctedWordSprite.setScale(a.daRuleTextSettings.fontScale);this._correctedWordSprite.setWrapWidth(0.6*i.get_scaledStageWidth());this._correctedWordSprite.set_align(ja.Center);this._correctedWordSprite.centerAnchor();this._correctedWordSprite.x.set__(0.5*i.get_scaledStageWidth()+a.daRuleTextSettings.offsetX);this._correctedWordSprite.y.set__(0.5*
i.get_scaledStageHeight()+a.daRuleTextSettings.offsetY);this._storyManagerFields.foregroundLayer.addChild((new k).add(this._correctedWordSprite));this.onShowSparkle();this.setupChapterTextSprite(this._storyManagerFields.foregroundLayer,"the_end")},onShowDaRuleSentence:function(){var a=this.owner._compMap.StoryXmlReader_5,b=Ua.getInstance().getFont(a.daRuleTextSettings.fontName,r.fontPack);this._correctedWordSprite=new nc(b,a.correctedSentence);this._storyManagerFields.foregroundLayer.addChild((new k).add(this._correctedWordSprite));
i.get_scaledStageWidth();this._correctedWordSprite.setScale(a.daRuleTextSettings.fontScale);this._correctedWordSprite.setWrapWidth(0.6*i.get_scaledStageWidth());this._correctedWordSprite.set_align(ja.Center);this._correctedWordSprite.centerAnchor();this._correctedWordSprite.x.set__(0.5*i.get_scaledStageWidth()+a.daRuleTextSettings.offsetX);this._correctedWordSprite.y.set__(0.5*i.get_scaledStageHeight()+a.daRuleTextSettings.offsetY);this._correctedWordSprite.alpha.set__(0);this._correctedWordSprite.alpha.animateTo(1,
1)},onShowSparkle:function(){var a=this.owner._compMap.Sparkles_37;a.placeOnTop();var b=0.5*i.get_scaledStageWidth(),c=0.45*i.get_scaledStageHeight(),f=0.35*i.get_scaledStageWidth(),d=0.5*i.get_scaledStageHeight(),e=0.7*i.get_scaledStageWidth(),g=0.525*i.get_scaledStageHeight();a.playSparkleAt(b,c);a.playSparkleAt(f,d);a.playSparkleAt(e,g)},onShowTapAnywhere:function(a,b){a?this.setupTapAnywhereTextSprite(b):this.hideAndDisposeTapAnywhere()},setupTapAnywhereTextSprite:function(a){this.disposeTapAnywhereTextSprite();
this._tapAnywhere=new N(a);this._tapAnywhere.setXYAppend(0.5*i.get_scaledStageWidth(),1.2*i.get_scaledStageHeight());this._tapAnywhere.set_align(ja.Center);this.owner.addChild((new k).add(this._tapAnywhere));this.showTapAnywhereText()},hideAndDisposeTapAnywhere:function(){this._tapAnywhere.y.animateBy(0.4*i.get_scaledStageHeight(),0.25);m.callWithDelay(this.owner,new n(e(this,this.disposeTapAnywhereTextSprite)),0.25)},showTapAnywhereText:function(){this._tapAnywhere.y.animateBy(-0.4*i.get_scaledStageHeight(),
2,T.bounceOut)},disposeTapAnywhereTextSprite:function(){null!=this._tapAnywhere&&(this._tapAnywhere.owner.dispose(),this._tapAnywhere=null)},onExitLevel:function(){7==v.currentLevelNumber||4==v.currentLevelNumber||(this.disposeDaRuleTextSprite(),this.disposeTapAnywhereTextSprite())},disposeDaRuleTextSprite:function(){null!=this._correctedWordSprite&&(this._correctedWordSprite.owner.dispose(),this._correctedWordSprite=null)},onPageVariablesLoaded:function(){this.disposeTapAnywhereTextSprite();this.disposeDaRuleTextSprite();
this.setupTextSprites();this.setupAntiRuleHeader();this.emitFinishedTextLoadingOnScreen()},emitFinishedTextLoadingOnScreen:function(){var a=this.owner._compMap.PageSignals_44;null!=a&&a.onFinishedTextLoadingOnScreen.emit()},setupTextSprites:function(){var a=0;this._pageFields.lineCountLimit=0;zb.RIGHT_LIMIT_WIDTH=i.get_scaledStageWidth()*zb.RIGHT_LIMIT;this._pageFields.lineHeight=0.275*i.get_scaledStageHeight();this._pageFields.startingX=0.2*i.get_scaledStageWidth();this._pageFields.startingY=0.275*
i.get_scaledStageHeight();this._pageFields.textSprites=[];for(var b=this._pageFields.storyTexts.length-this._pageFields.startingTextIndex,c=0;c<b;){var f=c++,d=f+this._pageFields.startingTextIndex,e=this._pageFields.storyTexts[d],g=this._pageFields.storyTextSettings[d],h=Ua.getInstance().getFont(g.fontName,r.fontPack);-1==this._spaceWidth&&(this._spaceWidth=0.35*(new sb(h," ")).getNaturalWidth());e=new nc(h,e);e.setScale(g.fontScale);this.getPreviousTextSprite(f);this.getPreviousTextSpriteWidth(f);
h=this.getPreviousStartingX(f);this.startingWord(f)?e.x.set__(this._pageFields.startingX):e.x.set__(h);if(e.x._value+e.getNaturalWidth()>=zb.RIGHT_LIMIT_WIDTH){this._pageFields.lineCountLimit=a;var j=0,f=this.getTextSprite(f);null!=f&&f.getNaturalWidth()<0.5*this._chloe.getNaturalWidth()&&(j=0.5*this._chloe.getNaturalWidth());this.setupRightLimits(a,h+j);a++;if(this.isPageLimitHasReached(a)){this._pageFields.lastStoryTextIndex=d-1;return}e.x.set__(this._pageFields.startingX)}e.y.set__(this._pageFields.startingY+
a*this._pageFields.lineHeight);e.lineNumber=a;this.textSpritesOwner.addChild((new k).add(e));e.setXY(e.x._value+g.offsetX,e.y._value+g.offsetY);this._pageFields.textSprites.push(e)}this._pageFields.lineCountLimit=a;b=this._pageFields.textSprites[this._pageFields.textSprites.length-1];this._pageFields.lastStoryTextIndex=this._pageFields.storyTexts.length-1;this.setupRightLimits(a,b.x._value+b.getNaturalWidth())},getTextSprite:function(a){return 1<a?this._pageFields.textSprites[a-1]:null},setupRightLimits:function(a,
b){0==a?this._pageFields.lineLimitWidth1=b:1==a?this._pageFields.lineLimitWidth2=b:this._pageFields.lineLimitWidth3=b},getPreviousStartingX:function(a){a=this.getPreviousTextSprite(a);return null!=a?a.x._value+a.getNaturalWidth()+this._spaceWidth:0},getPreviousTextSpriteWidth:function(a){a=this.getPreviousTextSprite(a);return null!=a?a.getNaturalWidth():0},getPreviousTextSprite:function(a){return!this.startingWord(a)?this._pageFields.textSprites[a-1]:null},startingWord:function(a){return 0==a?!0:
!1},isPageLimitHasReached:function(a){return 3==a?!0:!1},moveTextLayerOnTopOfBgLayer:function(){this._storyManagerFields.backgroundLayer.removeChild(this.textSpritesOwner);this._storyManagerFields.backgroundLayer.addChild(this.textSpritesOwner)},dispose:function(){h.prototype.dispose.call(this);this._chloe=this._pageTextSprite=this._tapAnywhere=this._chapterTextSprite=this._correctedWordSprite=this.textSpritesOwner=this._instructionSprite=this._storyManagerFields=this._pageSignals=this._pageFields=
null},__class__:zb});var zg=function(){};g["game.game.components.game.Page"]=zg;zg.__name__=["game","game","components","game","Page"];zg.__super__=h;zg.prototype=l(h.prototype,{get_name:function(){return"Page_3"},onAdded:function(){},__class__:zg});var Id=function(){this._pageVisible=!1;this._currentContinuationPageNumber=0;this._previousStartingIndex=[];this._startingIndex=0;h.call(this)};g["game.game.components.game.StoryManager"]=Id;Id.__name__=["game","game","components","game","StoryManager"];
Id.__super__=h;Id.prototype=l(h.prototype,{get_name:function(){return"StoryManager_2"},onAdded:function(){h.prototype.onAdded.call(this);this.setupDisposer();this._storyManagerFields=new ae;this.owner.add(this._storyManagerFields);this.owner.add(new ge);this.owner.add(new Yd);this.owner.add(new Zd);this.owner.add(new pa);this.owner.add(new be);this.owner.add(new $d);this.owner.add(new ee);this.owner.add(new de);this.owner.add(new zb);this.owner.add(new fe);this.setupChloe();this.owner.add(new he);
this.owner.add(new Vd);this.owner.add(new Jd);this.owner.add(new ie);this.owner.add(new je);this.owner.add(new ke);this.owner.add(new Xd);this._pageFields=this.owner._compMap.PageFields_45;this._pageSignals=this.owner._compMap.PageSignals_44},onStart:function(){h.prototype.onStart.call(this);this.setupListeners();this.setupPageListeners();m.callWithDelay(this.owner,new n(e(this,this.loadStory)),0.5);m.callWithDelay(this.owner,new n(e(this,this.getCharactersForBookmarkDetection)),0.5)},getCharactersForBookmarkDetection:function(){this._chloe=
this.owner._internal_getFromChildren("Chloe_41");this._cosmo=this.owner._internal_getFromChildren("Cosmo_39");this._wanda=this.owner._internal_getFromChildren("Wanda_21");this._spawnManager=C.instance(this.owner._compMap.SpawnManager_11,Mc);this._gameUI=this.owner._internal_getFromParents("Scene_0",Oa).get_gameUI();C.instance(this.owner._compMap.LevelSoundFx_12,pa).set_gameUI(this._gameUI)},setupDisposer:function(){this._disposer=this.owner._compMap.Disposer_49;null==this._disposer&&(this._disposer=
new R,this.owner.add(this._disposer))},setupChloe:function(){var a=new k;this._storyManagerFields.middleLayer.addChild(a);a.add(new Md)},setupPage:function(){this._pageFields.startingTextIndex=this._startingIndex},setupListeners:function(){this._disposer.add(this._storyManagerFields.onPageVariablesLoaded.connect(e(this,this.onPageVariablesLoaded)));this._disposer.add(this._pageSignals.onFinishedPageFlipping.connect(e(this,this.onFinishedPageFlipping)))},onFinishedPageFlipping:function(){this._pageVisible=
!0},loadStory:function(){this._storyManagerFields.onLoadStoryVariables.emit("story"+this._storyManagerFields.currentLevelNumber)},setupPageListeners:function(){this._disposer.add(this._pageSignals.onContinuationNextPage.connect(e(this,this.onNextPage)));this._disposer.add(this._pageSignals.onContinuationPreviousPage.connect(e(this,this.onPreviousPage)));this._disposer.add(this._pageSignals.onShowCorrectedWords.connect(e(this,this.onShowCorrectedWords)))},onPageVariablesLoaded:function(a){this._startingIndex=
0;this._previousStartingIndex=null;this._previousStartingIndex=[];this._previousStartingIndex.push(0);this.setupPage(a);this._currentPageVar=a},onNextPage:function(){this._startingIndex=this._pageFields.lastStoryTextIndex+1;this._previousStartingIndex.push(this._startingIndex);this.setupPage(this._currentPageVar);this._currentContinuationPageNumber++},onPreviousPage:function(){0<this._currentContinuationPageNumber&&(this._currentContinuationPageNumber--,this._startingIndex=this._previousStartingIndex[this._currentContinuationPageNumber],
this.setupPage(this._currentPageVar))},onShowCorrectedWords:function(){},dispose:function(){h.prototype.dispose.call(this);this._audioButton=this._spawnManager=this._bookMarkRect=this._gameUI=this._sandman=this._wanda=this._cosmo=this._chloe=this._previousStartingIndex=this._disposer=this._currentPageVar=this._currentPage=this._pageSignals=this._pageFields=this._storyManagerFields=null},__class__:Id});var ge=function(){h.call(this)};g["game.game.components.game.StoryXmlReader"]=ge;ge.__name__=["game",
"game","components","game","StoryXmlReader"];ge.__super__=h;ge.prototype=l(h.prototype,{get_name:function(){return"StoryXmlReader_5"},onAdded:function(){h.prototype.onAdded.call(this);this._fields=this.owner._compMap.StoryManagerFields_42;this._disposer=this.owner._compMap.Disposer_49},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupListeners:function(){this._disposer.add(this._fields.onLoadStoryVariables.connect(e(this,this.onLoadStoryVariables)));this._disposer.add(this.owner._compMap.PageSignals_44.onShowMoreToCome.connect(e(this,
this.onShowMoreToCome)))},onShowMoreToCome:function(){this.owner._compMap.PageSignals_44.onShowTapAnywhere.emit(!0,"next");m.callWithDelay(this.owner,new n(e(this,this.onEnableTapOnScreenMoreToCom)),1.5)},onEnableTapOnScreenMoreToCom:function(){this._tapSignalConnection=this.owner._compMap.Sprite_1.get_pointerDown().connect(e(this,this.onPlayerTappedOnScreenMoreToCom));t._platform.getKeyboard().get_supported()&&(this._keyboardSignalConnection=t._platform.getKeyboard().down.connect(e(this,this.onKeyboardDownMoreToCom)))},
onPlayerTappedOnScreenMoreToCom:function(){this.disposeTapAndKeySignalConnectionAndEmitMorePuzzleToCome()},onKeyboardDownMoreToCom:function(){this.disposeTapAndKeySignalConnectionAndEmitMorePuzzleToCome()},disposeTapAndKeySignalConnectionAndEmitMorePuzzleToCome:function(){null!=this._tapSignalConnection&&(this._tapSignalConnection.dispose(),this._tapSignalConnection=null);t._platform.getKeyboard().get_supported()&&null!=this._keyboardSignalConnection&&(this._keyboardSignalConnection.dispose(),this._keyboardSignalConnection=
null);this.processWhereScreenToGo()},processWhereScreenToGo:function(){C.instance(this.owner._compMap.LevelSoundFx_12,pa).playSfx("poof");m.callWithDelay(this.owner,new n((ha=Z.getInstance(),e(ha,ha.exitGame))),0)},onLoadStoryVariables:function(a){this.pageVar=this.setupTextsAndGetPageVariables(a);a=this.owner._compMap.PageSignals_44;a.onShowCorrectedWords.emit();a.onShowTapAnywhere.emit(!0,"next");m.callWithDelay(this.owner,new n(e(this,this.onEnableTapOnScreen)),1.5)},onEnableTapOnScreen:function(){this._tapSignalConnection=
this.owner._compMap.Sprite_1.get_pointerDown().connect(e(this,this.onPlayerTappedOnScreen));t._platform.getKeyboard().get_supported()&&(this._keyboardSignalConnection=t._platform.getKeyboard().down.connect(e(this,this.onKeyboardDown)))},onPlayerTappedOnScreen:function(){this.disposeTapAndKeySignalConnectionAndEmitTapToPlay()},onKeyboardDown:function(){this.disposeTapAndKeySignalConnectionAndEmitTapToPlay()},disposeTapAndKeySignalConnectionAndEmitTapToPlay:function(){null!=this._tapSignalConnection&&
(this._tapSignalConnection.dispose(),this._tapSignalConnection=null);t._platform.getKeyboard().get_supported()&&null!=this._keyboardSignalConnection&&(this._keyboardSignalConnection.dispose(),this._keyboardSignalConnection=null);null!=this.owner&&this.owner._compMap.PageSignals_44.onPlayerTapToPlay.emit()},setupTextsAndGetPageVariables:function(a){for(var b=this.getLanguage(),c=new Xb(w.parse(H.xmlPack.getFile("story/"+b+"/"+a+".xml").toString()).firstElement()),a=[],b=[],f=[],d=new S,e=new S,g=0,
i=new S,h=new Qa,j=[],c=c.nodes.resolve("string").iterator();c.hasNext();){var k=c.next(),l=C.parseInt(k.att.resolve("id")),m=k.att.resolve("fontName"),n=C.parseFloat(k.att.resolve("fontScale")),o=C.parseFloat(k.att.resolve("offsetX")),p=C.parseFloat(k.att.resolve("offsetY")),m=new Ag(m,n,o,p);if(-1==l)this.daRuleTextSettings=m,this.correctedSentence=k.get_innerData();else{b.push(m);var q,m=k.nodes.resolve("keyword");if(0==m.length)q=k.get_innerData();else for(m=m.iterator();m.hasNext();){q=m.next().get_innerData();
break}0!=l&&(f.push(q),m=this.getUnlockerKeywordIds(k),e.set(q,m),g++,i.set(q,l),h.set(l,q),k.has.resolve("bluff")&&j.push(q));a.push(q)}}for(q=0;q<f.length;){c=f[q];++q;k=e.get(c);l=[];for(m=0;m<k.length;)n=k[m],++m,n=h.get(n),l.push(n);d.set(c,l)}this.owner._compMap.PageFields_45.bluffKeywords=j;return new yg(g,a,f,d,i,b,e)},getLanguage:function(){return H.configXml.node.resolve("config").node.resolve("localization").node.resolve("region").get_innerData()},getUnlockerKeywordIds:function(a){for(var b=
[],a=a.nodes.resolve("unlocker_id").iterator();a.hasNext();){var c=a.next(),c=C.parseInt(c.get_innerData());b.push(c)}return b},dispose:function(){h.prototype.dispose.call(this);this.pageVar=this._disposer=this._fields=this.daRuleTextSettings=this.correctedSentence=null;null!=this._keyboardSignalConnection&&this._keyboardSignalConnection.dispose();this._keyboardSignalConnection=null;null!=this._tapSignalConnection&&this._tapSignalConnection.dispose();this._tapSignalConnection=null},__class__:ge});
var y=function(){this.ASSET_PATH="";h.call(this)};g["game.game.components.level_interaction.LevelSoundFx"]=y;y.__name__=["game","game","components","level_interaction","LevelSoundFx"];y.__super__=h;y.prototype=l(h.prototype,{get_name:function(){return"LevelSoundFx_12"},onAdded:function(){h.prototype.onAdded.call(this)},playSfx:function(a,b,c,f){null==c&&(c=1);null==b&&(b=!1);var d=a;null==f&&(f=this._assetPack,d=this.ASSET_PATH+a);a=null;a=b?B.getInstance().loopAudio(d,f):B.getInstance().playAudio(d,
f);a.volume.set__(c);return a},stopSfx:function(a,b){null==b&&(b=!1);b?B.getInstance().stopAudio(a):B.getInstance().stopAudio(this.ASSET_PATH+a)},dispose:function(){h.prototype.dispose.call(this);this._assetPack=null},__class__:y});var pa=function(){y.call(this);this.ASSET_PATH="audio/sfx/"};g["game.game.components.level_interaction.CommonLevelSoundFx"]=pa;pa.__name__=["game","game","components","level_interaction","CommonLevelSoundFx"];pa.disposePlayback=function(a){null!=a&&a.dispose()};pa.__super__=
y;pa.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._compMap.PageFields_45.assetPack;this._disposer=new R;B.getInstance().stopAllAudio()},onStart:function(){y.prototype.onStart.call(this);pa.disposePlayback(this._gameBgmPlayBack);this._gameBgmPlayBack=this.playSfx("audio/bgm/FOP_showtheme_musicloopv1a",!0,0.9,r.appAssetPack);this.setupListerner()},setupListerner:function(){var a=this.owner._compMap.PageSignals_44;this._disposer.add(a.onPlayerTapToPlay.connect(e(this,
this.onPlayerTapToPlay)));this._disposer.add(a.onChloeCheering.connect(e(this,this.onChloeCheering)));this._disposer.add(a.onFinishedPageFlipping.connect(e(this,this.onFinishedPageFlipping)));this._disposer.add(a.onPageScroll.connect(e(this,this.onPageScroll)))},set_gameUI:function(a){this.gameUI=a;this._disposer.add(a.onGameResume.connect(e(this,this.onGameResume)));return this.gameUI},onGameResume:function(a){var b=this.owner._compMap.LevelInteraction_10;a?B.getInstance().get_isEnabled()&&(null!=
this._gameBgmPlayBack&&this._gameBgmPlayBack.set_paused(!1),b.onGameResume(a)):B.getInstance().get_isEnabled()&&(null!=this._gameBgmPlayBack&&this._gameBgmPlayBack.set_paused(!0),b.onGameResume(a))},onPageScroll:function(){this.playSfx("page_turn_sfx")},onChloeCheering:function(){this.stopSfx("wishing 101-in_game_bgm");this.playSfx("triumph_sfx")},onPlayerTapToPlay:function(){this.stopSfx("audio/bgm/FOP_showtheme_musicloopv1a",!0)},onFinishedPageFlipping:function(){pa.disposePlayback(this._gameBgmPlayBack);
this._gameBgmPlayBack=this.playSfx("wishing 101-in_game_bgm",!0,0.9)},stopBgm:function(){pa.disposePlayback(this._gameBgmPlayBack);this._gameBgmPlayBack=null},pauseBgm:function(){this._gameBgmPlayBack.set_paused(!0)},resumeBgm:function(){this._gameBgmPlayBack.set_paused(!1)},dispose:function(){y.prototype.dispose.call(this);this._disposer.dispose();this._gameBgmPlayBack=this._disposer=null},__class__:pa});var s=function(){this._doorIsActivated=!1;h.call(this)};g["game.game.components.level_interaction.LevelInteraction"]=
s;s.__name__=["game","game","components","level_interaction","LevelInteraction"];s.__super__=h;s.prototype=l(h.prototype,{get_name:function(){return"LevelInteraction_10"},onAdded:function(){h.prototype.onAdded.call(this);this._disposer=new R;this._storyManagerFields=this.owner._compMap.StoryManagerFields_42;this._pageFields=this.owner._compMap.PageFields_45;this._pageSignals=this.owner._compMap.PageSignals_44;this._commonSfx=C.instance(this.owner._compMap.LevelSoundFx_12,pa);this._chloe=this.owner._internal_getFromChildren("Chloe_41")},
onStart:function(){h.prototype.onStart.call(this);this._disposer.add(this._pageSignals.onKeyDown.connect(e(this,this.onKeyDown)));this._disposer.add(this._pageSignals.onChloeSteppingOnKeyword.connect(e(this,this.onChloeSteppingOnKeyword)));this._disposer.add(this._pageSignals.onKeywordActivated.connect(e(this,this.onKeywordActivated)));this._cosmo=this._chloe.owner._compMap.Cosmo_39;this._wanda=this._chloe.owner._internal_getFromChildren("Wanda_21");this._chloe.sprite.set_visible(!1);this._disposer.add(this._pageSignals.onFinishedPageFlipping.connect(e(this,
this.onFinishedPageFlipping)));this._textAnimation=this.owner._compMap.TextActivationAnimation_34},onFinishedPageFlipping:function(){m.callWithDelay(t.root,new n(e(this,this.onShowChloe)),0.25);m.callWithDelay(t.root,new n(e(this,this.onShowCosmo)),0.75);m.callWithDelay(t.root,new n(e(this,this.onShowWanda)),0.75)},onShowChloe:function(){this._chloe.sprite.set_visible(!0);this.playChloePoof()},onShowCosmo:function(){this._cosmo.animation.sprite.set_visible(!0);this.playPoof(this._cosmo.animation.owner,
0,0);this._commonSfx.playSfx("poof")},onShowWanda:function(){this._wanda.animation.sprite.set_visible(!0);this.playPoof2(this._wanda.animation.owner,0,0);this._chloe.set_state(o.NORMAL);this._commonSfx.playSfx("poof")},setupLevelSfx:function(a){this._levelSfx=a;a=new k;this.owner.addChild(a);a.add(this._levelSfx)},onChloeSteppingOnKeyword:function(a){this._steppingOnTextSprite=a;if(null!=a){var b=this._pageFields.keywordIds.get(a._text);this.onChloeSteppingOnKeyVariable(new Wd(a,b,!0,!0))}},onChloeSteppingOnKeyVariable:function(){},
onKeyDown:function(){null==this._steppingOnTextSprite&&!this._doorIsActivated&&(this._chloe.set_state(o.ON_ANIMATION_TRANSITION),this._chloe.get_animationManager().moviePlayerChloe.playOnce("chloe_shrugs",e(this,this.onFinishedShrug)),this._commonSfx.playSfx("chloe_shrug"))},onKeywordActivated:function(){},setupDoor:function(){if(null==this._door){var a=new G(this._storyManagerFields.assetPack,"animations/door");this._door=new le(a);this._storyManagerFields.backgroundLayer.addChild((new k).add(this._door));
this._door.sprite.x.set__(0.835*i.get_scaledStageWidth());this._door.sprite.y.set__(0.835*i.get_scaledStageHeight())}},playChloeEnterDoor:function(a){this.setChloeState(o.ON_ANIMATION_TRANSITION);this._chloe.sprite.x.animateTo(this._door.sprite.x._value+0*this._door.getNaturalWidth(),0.515);this._chloe.get_animationManager().moviePlayerChloe.loop("chloe_walk");m.callWithDelay(this.owner,new n(a),0.515);m.callWithDelay(this.owner,new n((ha=this._door,e(ha,ha.closeDoor))),0.515+0.2);m.callWithDelay(this.owner,
new n(e(this,this.onHideChloe)),0.815);this._door.openDoor();this._commonSfx.playSfx("door_open")},onHideChloe:function(){this._chloe.getSprite().set_visible(!1);this._chloe.sprite.scaleX.set__(this._chloe.getSprite().scaleX._value)},onFinishedDoorOpenAnimation:function(){this.playChloeEnterAnimation(e(this,this.onFinishedChloeEnterAnimation))},onFinishedChloeEnterAnimation:function(){this._commonSfx.playSfx("door_close");var a=this._storyManagerFields.currentLevelNumber%3,b=this._storyManagerFields,
c=b.currentLevelNumber;b.set_currentLevelNumber(c+1);c;this.processWhereScreenToGo(a)},processWhereScreenToGo:function(a){0==a?m.callWithDelay(this.owner,new n((ha=Z.getInstance(),e(ha,ha.endGame))),1):m.callWithDelay(this.owner,new n((ha=Z.getInstance(),e(ha,ha.exitGame))),1)},playChloeEnterAnimation:function(a){this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.playOnce("chloe_enter_door",a)},setChloeState:function(a){this._chloe.set_state(a);this._chloe.state==o.NORMAL&&
(this.owner._internal_getFromChildren("ChloeAnimation_46").moveState=fa.STATIC)},onFinishedShrug:function(){this._chloe.set_state(o.NORMAL)},onShowDoorAndPoofChloeToTheDoor:function(){this.setChloeState(o.ON_ANIMATION_TRANSITION);this.setupDoor();this.onCosmoAndWandaPoofChloeToTheDoor()},onCosmoAndWandaPoofChloeToTheDoor:function(){this._cosmo.playPoof(e(this,this.onFinishedPoof));this._wanda.playPoof()},onFinishedPoof:function(){this.playChloePoof();this.onHideChloe();this._commonSfx.playSfx("FOP_showtheme_endstingerv1a");
m.callWithDelay(this.owner,new n(e(this,this.onHideCosmoAndWanda)),0.25);m.callWithDelay(this.owner,new n(e(this,this.onShowChloeOnDoor)),0.5)},onHideCosmoAndWanda:function(){this.playChloePoof(-1.25*this._chloe.getSprite().scaleX._value,-1);this.playChloePoof2(-2.5*this._chloe.getSprite().scaleX._value,-1);this._cosmo.setVisible(!1);this._wanda.setVisible(!1);this._commonSfx.playSfx("poof")},playChloePoof:function(a,b){null==b&&(b=-0.5);null==a&&(a=0);var c=this._chloe.sprite.x._value+this._chloe.getNaturalWidth()*
a,f=this._chloe.sprite.y._value+this._chloe.getNaturalHeight()*b;this.playAnimationSfx1("generic_poof",c,f);this._commonSfx.playSfx("poof")},playChloePoof2:function(a,b){null==b&&(b=-0.5);null==a&&(a=0);var c=this._chloe.sprite.x._value+this._chloe.getNaturalWidth()*a,f=this._chloe.sprite.y._value+this._chloe.getNaturalHeight()*b;this.playAnimationSfx2("generic_poof",c,f);this._commonSfx.playSfx("poof")},onShowChloeOnDoor:function(){this._chloe.sprite.setXY(this._door.sprite.x._value,this._door.sprite.y._value);
this._chloe.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1.set_visible(!0);this.playChloePoof();this.playChloeEnterDoor(e(this,this.onFinishedDoorOpenAnimation))},playChloeCheeringAnimationThenShowDoor:function(a){this._pageSignals.onChloeCheering.emit();this.setChloeState(o.ON_ANIMATION_TRANSITION);this.onCosmoAndWandaPlayHappy();var b=new na,a=new oa([new n(e(this,this.onChloeCheer)),new L(1),new n(e(this,this.onChloeCheer)),new L(1),new n(e(this,this.onChloeCheer)),new L(1),new n(e(this,
this.onShowDoorAndPoofChloeToTheDoor)),new n(a)]);b.run(a);this.owner.addChild((new k).add(b))},onCosmoAndWandaPlayHappy:function(){this._cosmo.animation.loop("cosmo_happy");this._wanda.animation.loop("wanda_happy")},onChloeCheer:function(){this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.playOnce("chloe_cheer")},playAnimationSfx1:function(a,b,c,f){a=new xa(a,b,c,f);this._pageSignals.onPlayAnimationSfx1.emit(a);return a},playAnimationSfx2:function(a,b,c,f){this._pageSignals.onPlayAnimationSfx2.emit(new xa(a,
b,c,f))},playChloeThinking:function(){this.setChloeState(o.ON_ANIMATION_TRANSITION);var a=this._chloe.get_animationManager().moviePlayerChloe;1==this._chloe.getSprite().scaleX._value?a.playOnce("chloe_thinking",e(this,this.onFinishedThinking)):a.playOnce("chloe_thinking_inverted",e(this,this.onFinishedThinking));this._commonSfx.playSfx("chloe_qmark")},onFinishedThinking:function(){this._chloe.get_animationManager().moviePlayerChloe.loop("chloe_idle");this._chloe.set_state(o.NORMAL)},loopChloeAnimation:function(a){this._chloe.get_animationManager().moviePlayerChloe.loop(a)},
loopChloeAnimationWithTimer:function(a,b,c){this._chloe.get_animationManager().moviePlayerChloe.loop(a);m.callWithDelay(this.owner,new n(b),c)},playChloeAnimation:function(a,b){this._chloe.get_animationManager().moviePlayerChloe.playOnce(a,b)},playPoof:function(a,b,c){a=a._compMap.BaseMoviePlayer_6;b=a.sprite.x._value+a.getNaturalWidth()*b;c=a.sprite.y._value+a.getNaturalHeight()*c;this.playAnimationSfx1("generic_poof",b,c)},playPoof2:function(a,b,c){a=a._compMap.BaseMoviePlayer_6;b=a.sprite.x._value+
a.getNaturalWidth()*b;c=a.sprite.y._value+a.getNaturalHeight()*c;this.playAnimationSfx2("generic_poof",b,c)},onCosmoPlayDenied:function(){this.playCosmoPoof();this._commonSfx.playSfx("poof");this._cosmo.setVisible(!1);this.playDenySfx();m.callWithDelay(this.owner,new n(e(this,this.poofCosmoInFrontOfChloeDenyAndBack)),0.25)},poofCosmoInFrontOfChloeDenyAndBack:function(){this._commonSfx.playSfx("cosmo_head_shook");this._cosmo.enablePositionTracker(!1);this._cosmo.setVisible(!0);var a=this._chloe.getSprite().scaleX._value;
this._cosmo.animation.sprite.x.set__(this._chloe.sprite.x._value+1.25*this._chloe.getNaturalWidth()*a);this.playCosmoPoof();this._commonSfx.playSfx("poof");this._cosmo.deny(1.5);m.callWithDelay(this.owner,new n(e(this,this.poofOutCosmo)),1.5);m.callWithDelay(this.owner,new n(e(this,this.onGoBackToBehindChloe)),1.75)},poofOutCosmo:function(){this._commonSfx.playSfx("poof");this.playCosmoPoof();this._cosmo.setVisible(!1)},onGoBackToBehindChloe:function(){this._cosmo.setVisible(!0);var a=this._chloe.getSprite().scaleX._value;
this._cosmo.animation.sprite.x.set__(this._chloe.sprite.x._value+-1.25*this._chloe.getNaturalWidth()*a);this._commonSfx.playSfx("poof");this.playCosmoPoof();this._cosmo.enablePositionTracker(!0)},playCosmoPoof:function(){this.playPoof(this._cosmo.animation.owner,0,0)},onChloeHoldingItemSad:function(){this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.loop("chloe_idle_holding_sad")},onChloeSad:function(){this._chloe.get_animationManager().moviePlayerChloe.loop("chloe_idle_sad")},
onChloeIdle:function(){this._chloe.get_animationManager().moviePlayerChloe.loop("chloe_idle")},setChloeNormalState:function(){this.setChloeState(o.NORMAL)},emitMoveInterrupted:function(){this._pageSignals.onChloeMovementInterrupted.emit()},playCollidedToEnemySfx:function(){switch(Math.floor(3*Math.random())){case 0:this._commonSfx.playSfx("cosmo- its totally wrong and super creepy");break;case 1:this._commonSfx.playSfx("wanda- okay");break;case 2:this._commonSfx.playSfx("wanda- uh oh")}},playDenySfx:function(){switch(Math.floor(3*
Math.random())){case 0:this._commonSfx.playSfx("cosmo- oh no");break;case 1:this._commonSfx.playSfx("cosmo- this is terrible!");break;case 2:this._commonSfx.playSfx("wanda- its against the rules")}},onFinishedGame:function(){var a=this;this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0})},onGameResume:function(){},dispose:function(){h.prototype.dispose.call(this);this._disposer.dispose();this._storyManagerFields=this._pageFields=this._pageSignals=this._disposer=null;null!=
this._levelSfx&&this._levelSfx.owner.dispose();this._levelSfx=null;null!=this._door&&(this._door.owner.dispose(),this._door=null);this._textAnimation=this._wanda=this._cosmo=this._commonSfx=this._chloe=this._cloudSprite=this._steppingOnTextSprite=null},__class__:s});var he=function(){h.call(this)};g["game.game.components.level_interaction.LevelInteractionManager"]=he;he.__name__=["game","game","components","level_interaction","LevelInteractionManager"];he.__super__=h;he.prototype=l(h.prototype,{get_name:function(){return"LevelInteractionManager_9"},
onAdded:function(){h.prototype.onAdded.call(this);this._storyManagerFields=this.owner._compMap.StoryManagerFields_42;this.setupLevelInteractionLevel()},setupLevelInteractionLevel:function(){switch(this._storyManagerFields.currentLevelNumber){case 1:this.owner.add(new me);break;case 2:this.owner.add(new Lc);break;case 3:this.owner.add(new ne);break;case 4:this.owner.add(new oe);break;case 5:this.owner.add(new pe);break;case 6:this.owner.add(new qe);break;case 7:this.owner.add(new re);break;case 8:this.owner.add(new se);
break;case 9:this.owner.add(new te);break;case 10:this.owner.add(new ue);break;case 11:this.owner.add(new ve);break;case 12:this.owner.add(new we);break;case 13:this.owner.add(new xe);break;case 14:this.owner.add(new ye);break;case 15:this.owner.add(new ze)}},onStart:function(){h.prototype.onStart.call(this)},dispose:function(){h.prototype.dispose.call(this);this._storyManagerFields=null},__class__:he});var le=function(a){j.call(this,a);this._arrow=new Ae(a);this._doorBehind=new Be(a)};g["game.game.components.levels.Door"]=
le;le.__name__=["game","game","components","levels","Door"];le.__super__=j;le.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this.sprite.x.set__(0.5*i.get_scaledStageWidth());this.sprite.y.set__(0.5*i.get_scaledStageHeight());this._moviePlayer.loop("door_opened");this._moviePlayer.loop("door_opening");this._moviePlayer.loop("door_closing");this._moviePlayer.loop("door_closed")},onStart:function(){j.prototype.onStart.call(this);this.setupDoorBehind();this.setupDoorArrow()},
setupDoorBehind:function(){this._moviePlayer.owner.addChild((new k).add(this._doorBehind),!1)},setupDoorArrow:function(){this._moviePlayer.owner.addChild((new k).add(this._arrow));this._arrow.sprite.y.set__(-1*this.getNaturalHeight()+-0.5*this._arrow.getNaturalHeight())},onFinishedOpening:function(){this.loop("door_opened")},onFinishedClosing:function(){this._moviePlayer.loop("door_closed")},openDoor:function(){this._moviePlayer.playOnce("door_opening",e(this,this.onFinishedOpening))},closeDoor:function(){this._moviePlayer.playOnce("door_closing",
e(this,this.onFinishedClosing))},__class__:le});var Ae=function(a){j.call(this,a)};g["game.game.components.levels.DoorArrow"]=Ae;Ae.__name__=["game","game","components","levels","DoorArrow"];Ae.__super__=j;Ae.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("arrow_exit")},__class__:Ae});var Be=function(a){j.call(this,a)};g["game.game.components.levels.DoorBehind"]=Be;Be.__name__=["game","game","components","levels","DoorBehind"];Be.__super__=j;Be.prototype=
l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("door_behind")},__class__:Be});var Ga=function(a){h.call(this);this._assetPack=a};g["game.game.components.levels.Spawn"]=Ga;Ga.__name__=["game","game","components","levels","Spawn"];Ga.__super__=h;Ga.prototype=l(h.prototype,{get_name:function(){return"Spawn_13"},onAdded:function(){h.prototype.onAdded.call(this);this.setupSprite()},setupSprite:function(){this.sprite=new q;this.owner.add(this.sprite)},dispose:function(){h.prototype.dispose.call(this);
this._assetPack=null},__class__:Ga});var x=function(){h.call(this);this._assetPack=Z.getInstance().get_gameAssetPack()};g["game.game.components.levels.SpawnManager"]=x;x.__name__=["game","game","components","levels","SpawnManager"];x.__super__=h;x.prototype=l(h.prototype,{get_name:function(){return"SpawnManager_11"},onAdded:function(){h.prototype.onAdded.call(this);this._chloe=this.owner._internal_getFromChildren("Chloe_41");this._pageFields=this.owner._compMap.PageFields_45;this._storyManagerFields=
this.owner._compMap.StoryManagerFields_42},dispose:function(){h.prototype.dispose.call(this);this._chloe=this._storyManagerFields=this._pageFields=this._assetPack=null},disposeComponent:function(a){null!=a&&null!=a.owner&&a.owner.dispose()},__class__:x});var me=function(){this._roachActivated=!1;this._currentKeywordIdActivated=-1;this._sunIsActivated=this._chloeCollidesWithEnemy=this._chloeStepOutsideEnemyCollision=!1;s.call(this)};g["game.game.components.levels.level_1.LevelInteraction1"]=me;me.__name__=
"game,game,components,levels,level_1,LevelInteraction1".split(",");me.__super__=s;me.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupLevelSfx(new Ce);this.setupTutorialManager()},setupTutorialManager:function(){this._tutorialManager=new De;this.owner.add(this._tutorialManager)},onStart:function(){s.prototype.onStart.call(this);this.setupListeners()},onUpdate:function(a){s.prototype.onUpdate.call(this,a);this.onUpdateRoachFacing();if(null!=this._roach&&(a=this._roach.sprite,
0!=(a._flags&2)&&a.x._value<this._pageFields.startingX)){var b=this.owner._compMap.AnimationFX1_25,c=new xa("enemy_poof",a.x._value,a.y._value-0.5*this._roach.rect.height);a.set_visible(!1);b.playAnimationFX2(c);this._commonSfx.playSfx("poof")}null!=this._roach&&null!=this._chloe&&this._chloe.state!=o.ON_ANIMATION_TRANSITION&&(this._chloe.collidesWith(this._roach.collider.boxCollider)?(this._chloeStepOutsideEnemyCollision=!1,this._chloeCollidesWithEnemy||(this.setCollisionAnimation(),this._chloeCollidesWithEnemy=
!0)):(this._chloeCollidesWithEnemy=!1,this._chloeStepOutsideEnemyCollision||(this.setNotCollidingAnimation(),this._chloeStepOutsideEnemyCollision=!0)))},onUpdateRoachFacing:function(){if(null!=this._roach&&!this._sunIsActivated){var a=this._roach.sprite;this._pageFields.chloe.sprite.x._value>a.x._value-0.5*a.getNaturalWidth()?a.scaleX.set__(-1):a.scaleX.set__(1)}},setCollisionAnimation:function(){this.playCollidedToEnemySfx();var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 5:this._chloe.set_state(o.CAREFUL_HOLDING_ITEM);
a.moviePlayerChloe.loop("chloe_careful_holding_walk");break;case 0:this._chloe.set_state(o.CAREFUL),this._chloe.get_moveManager().isMoving()?a.moviePlayerChloe.loop("chloe_careful"):a.moviePlayerChloe.loop("chloe_careful_idle")}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=0.1*i.get_scaledStageWidth()},setNotCollidingAnimation:function(){var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 7:this._chloe.set_state(o.HOLDING_ITEM);a.moviePlayerChloe.loop("chloe_holding_walk");
break;case 6:this._chloe.set_state(o.NORMAL),a.moviePlayerChloe.loop("chloe_walk")}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=0.4*i.get_scaledStageWidth()},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:if(this._roachActivated)break;if(a.textSprite.x._value>this._chloe.sprite.x._value)break;this._tutorialManager.set_roachActivated(!0);this.setChloeState(o.ON_ANIMATION_TRANSITION);this._roachActivated=!0;this.setupRoach(a.textSprite);this.playRoachPoof();var b=a.textSprite.x._value+
0.5*a.textSprite.getNaturalWidth();this._pageSignals.onChloeMovementInterrupted.emit();this._pageSignals.onChloeStepBack.emit(b,this._roach.getNaturalWidth());this._pageSignals.onChloeSetAnimation.emit("chloe_grossed",!1);m.callWithDelay(this.owner,new ma(e(this,this.setChloeState),o.NORMAL),1);m.callWithDelay(this.owner,new n(e(this,this.emitMoveInterrupted)),1);this._commonSfx.playSfx("poof");this._levelSfx.playSfx("cockroach_laugh");this._textAnimation.playGlowText(a.textSprite)}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,
a);this.onActivateKeyword(a)},onActivateKeyword:function(a){if(!this._sunIsActivated)switch(this._currentKeywordIdActivated=a.id,a.id){case 1:break;case 2:this._roachActivated?(this._commonSfx.playSfx("object_pop_in"),this.setChloeState(o.ON_ANIMATION_TRANSITION),this._pageSignals.onChloeSetAnimation.emit("chloe_holding_idle",!0),this._pageSignals.onChloeChangeItem.emit("flyswapper",!1),this._tutorialManager.set_swatActivated(!0),this.onCosmoPlayDenied(),this._textAnimation.playGlowText(a.textSprite),
m.callWithDelay(this.owner,new n(e(this,this.onRoachLaughAtChloe)),1),m.callWithDelay(this.owner,new n(e(this,this.onChloeHoldingItemSad)),1),m.callWithDelay(this.owner,new n(e(this,this.onShowTutorial)),3),m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),3),m.callWithDelay(this.owner,new ma(e(this,this.setChloeState),o.NORMAL),3.25)):this.playChloeThinking();break;case 3:if(!this._tutorialManager.swatActivated)break;this._tutorialManager.set_sunActivated(!0);this._roachActivated?(this._sunIsActivated=
!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.setupDay(),this.setupRay(),this._day.alpha.animateTo(1,1),this._day.y.animateTo(0.2*i.get_scaledStageHeight(),1),this._ray.y.animateTo(0.2*i.get_scaledStageHeight(),1),this._levelSfx.playSfx("sunrise"),this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,new n(e(this,this.onSunFinishedAppearing)),1)):this.playChloeThinking();break;default:null}},onShowTutorial:function(){this._tutorialManager.showTutorial()},setupRoach:function(a){this._roach=
new Td;this.owner.add(this._roach);this._roach.setXY(a.x._value,a.y._value)},setupDay:function(){this._day=new F(this._storyManagerFields.assetPack.getTexture("chapter_1/objects/asset_sun"));this._day.centerAnchor();this._day.x.set__(0.5*i.get_scaledStageWidth());this._day.y.set__(0.5*i.get_scaledStageHeight());this._storyManagerFields.backgroundLayer.addChild((new k).add(this._day));this._day.alpha.set__(0)},setupRay:function(){this._ray=new F(this._storyManagerFields.assetPack.getTexture("chapter_1/objects/asset_rays"));
this._ray.centerAnchor();this._ray.x.set__(0.5*i.get_scaledStageWidth());this._ray.y.set__(0.5*i.get_scaledStageHeight());this._storyManagerFields.backgroundLayer.addChild((new k).add(this._ray));this._ray.alpha.set__(0);var a=new oa([new ea(this._ray.alpha,1,0.5,T.linear),new ea(this._ray.alpha,0,0.5,T.linear)]),a=new Ea(a),b=new na;b.run(a);this._ray.owner.add(b)},setupListeners:function(){this._disposer.add(this._pageSignals.onContinuationNextPage.connect(e(this,this.onNextPage)));this._disposer.add(this._pageSignals.onContinuationPreviousPage.connect(e(this,
this.onPreviousPage)))},onKeyDown:function(a){s.prototype.onKeyDown.call(this,a)},onRoachLaughAtChloe:function(){this._roach.playLaughAnimationOnce();m.callWithDelay(this.owner,new n(e(this,this.roachLaugh)),0.25)},roachLaugh:function(){this._levelSfx.playSfx("cockroach_laugh")},onSunFinishedAppearing:function(){this._sunIsActivated=!0;this.setRoachFacingTheSun();this._tutorialManager.isMobile||(this.playPoof(this._wanda.animation.owner,0,-0.5),this._wanda.animation.sprite.set_visible(!1),m.callWithDelay(this.owner,
new n(e(this,this.onShowWandaInDefaultPosition)),0.25));this._roach.playShocked(e(this,this.onFinishedPlayingShockedAnimation));this._levelSfx.playSfx("cockroach_scream")},onShowWandaInDefaultPosition:function(){this._wanda.setDefaultOwnerAndPosition();this.onShowWanda();this.setChloeState(o.ON_ANIMATION_TRANSITION)},setRoachFacingTheSun:function(){this._roach.sprite.x._value>0.5*i.get_scaledStageWidth()?this._roach.sprite.scaleX.set__(1):this._roach.sprite.scaleX.set__(-1)},onFinishedPlayingShockedAnimation:function(){var a=
this;this.onRoackRunAway();this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0;a._roach.dispose();a._roach=null})},onRoackRunAway:function(){this._roach.moviePlayer.loop("cockroach_run");this._roach.sprite.x.animateBy(-1*i.get_scaledStageWidth(),1)},playRoachPoof:function(){var a=this._roach.sprite.x._value+0.25*this._roach.sprite.getNaturalWidth(),b=this._roach.sprite.y._value+-0.5*this._roach.getNaturalHeight();this._pageSignals.onPlayAnimationSfx1.emit(new xa("enemy_poof",
a,b))},onNextPage:function(){m.callWithDelay(this.owner,new n(e(this,this.showAlreadyActivatedObjects)),0.75)},onPreviousPage:function(){m.callWithDelay(this.owner,new n(e(this,this.showAlreadyActivatedObjects)),0.75)},showAlreadyActivatedObjects:function(){},dispose:function(){s.prototype.dispose.call(this);null!=this._day&&this._day.owner.dispose();null!=this._ray&&this._ray.owner.dispose();null!=this._tutorialManager&&this._tutorialManager.dispose();null!=this._levelSfx&&this._levelSfx.owner.dispose();
this._levelSfx=this._pageSignals=this._pageFields=this._tutorialManager=this._day=this._ray=null},__class__:me});var Ce=function(){y.call(this);this.ASSET_PATH="chapter_1/sfx/"};g["game.game.components.levels.level_1.LevelSoundFx1"]=Ce;Ce.__name__="game,game,components,levels,level_1,LevelSoundFx1".split(",");Ce.__super__=y;Ce.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:Ce});var ue=
function(){this._isBunnyActivated=this._isDancingActivated=this._isStormActivated=this._isRainActivated=this._isFoxActivated=this._isTurtleActivated=this._isDuckActivated=this._isDeerActivated=!1;s.call(this)};g["game.game.components.levels.level_10.LevelInteraction10"]=ue;ue.__name__="game,game,components,levels,level_10,LevelInteraction10".split(",");ue.__super__=s;ue.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new ga)},
setupSpawnManager:function(){this._spawnManager=new Ee;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite;switch(a.id){case 1:if(!this._isBunnyActivated){this._isBunnyActivated=!0;this._currentLevelBGM=this._levelSfx.playSfx(ga.BUNNY,!0);var c=b.x._value+0.5*b.getNaturalWidth(),b=b.y._value;this._spawnManager.setupParade();this._spawnManager.setupBunny(c,
b);this.playPoof(this._spawnManager.bunny.owner,0,-0.5);this._commonSfx.playSfx("object_pop_in");this._textAnimation.playGlowText(a.textSprite);this._pageSignals.onChloeMovementInterrupted.emit();this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.bunny.getNaturalWidth());C.instance(this.owner._compMap.LevelSoundFx_12,pa).stopBgm()}break;case 2:this._isBunnyActivated?this._isDancingActivated||(this._isDancingActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.chloeDance()):this.playChloeThinking();
break;case 3:this._isStormActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._isStormActivated=!0,null!=this._spawnManager.storm?this._spawnManager.storm.sprite.set_visible(!0):this._spawnManager.setupStorm(b.x._value+0.5*b.getNaturalWidth(),b.y._value),this._levelSfx.playSfx(ga.STORM),this._textAnimation.playGlowText(a.textSprite),this.onCosmoPlayDenied(),m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1),m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),2.25),m.callWithDelay(this.owner,
new n(e(this,this.onStormLoop)),2.15));break;case 4:this._isRainActivated||(this._isRainActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),a=b.x._value+0.5*b.getNaturalWidth(),b=b.y._value,this._spawnManager.setupRain(a,b),this._spawnManager.setupFoop(a,b),this.playPoof(this._spawnManager.foop.owner,0,0),this._commonSfx.playSfx("object_pop_in"),this._spawnManager.rain.playOnce("raincloud_form",e(this,this.onRaining)),m.callWithDelay(this.owner,new n(e(this,this.onChloeDrenched)),0.75));break;
case 5:this._isBunnyActivated?this._isDeerActivated||(c=b.x._value+0.5*b.getNaturalWidth(),b=b.y._value,this._isFoxActivated?this._isFoxActivated&&!this._isTurtleActivated?(this._levelSfx.stopSfx(ga.FOX),this._currentLevelBGM=this._levelSfx.playSfx(ga.TURTLE,!0),this._isTurtleActivated=!0,this._spawnManager.setupTurtle(c,b),this.playPoof(this._spawnManager.turtle.owner,0,0),this._pageSignals.onChloeMovementInterrupted.emit(),this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.turtle.getNaturalWidth())):
this._isTurtleActivated&&!this._isDuckActivated?(this._levelSfx.stopSfx(ga.TURTLE),this._currentLevelBGM=this._levelSfx.playSfx(ga.DUCK,!0),this._isDuckActivated=!0,this._spawnManager.setupDuck(c,b),this.playPoof(this._spawnManager.duck.owner,0,0),this._pageSignals.onChloeMovementInterrupted.emit(),this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.duck.getNaturalWidth())):this._isDuckActivated&&!this._isDeerActivated&&(this._levelSfx.stopSfx(ga.DUCK),this._currentLevelBGM=this._levelSfx.playSfx(ga.DEER,
!0),this._isDeerActivated=!0,this._spawnManager.setupDeer(c,b),this.playPoof(this._spawnManager.deer.owner,0,0),this._pageSignals.onChloeMovementInterrupted.emit(),this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.deer.getNaturalWidth())):(this._isFoxActivated=!0,this._levelSfx.stopSfx(ga.BUNNY),this._currentLevelBGM=this._levelSfx.playSfx(ga.FOX,!0),this._spawnManager.setupFox(c,b),this.playPoof(this._spawnManager.fox.owner,0,0),this._pageSignals.onChloeMovementInterrupted.emit(),this._pageSignals.onChloeStepBack.emit(c,
this._spawnManager.fox.getNaturalWidth())),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},onRaining:function(){this._levelSfx.playSfx(ga.RAIN)},onStormEnd:function(){this._spawnManager.storm.sprite.set_visible(!1);this._isStormActivated=!1;this.setChloeState(o.NORMAL)},onChloeDrenched:function(){this.loopChloeAnimation("chloe_idle_wet");m.callWithDelay(this.owner,new n(e(this,this.onFoopLaugh)),0.2)},onFoopLaugh:function(){this._spawnManager.foop.loop("foop_laughing");
this._commonSfx.playSfx("foop- evil laugh");m.callWithDelay(this.owner,new n(e(this,this.onFoopOut)),1)},onFoopOut:function(){this._commonSfx.playSfx("poof");this._spawnManager.foop.playOnce("foop_poof_out",e(this,this.onCosmoGrantWish));this._spawnManager.rain.playOnce("raincloud_disappear",e(this,this.onRainDisappear))},onCosmoGrantWish:function(){this._spawnManager.foop.sprite.set_visible(!1);this._cosmo.animation.playOnce("cosmo_grant_wish",e(this,this.onFinishedCosmoGrantWish))},onFinishedCosmoGrantWish:function(){this._isRainActivated=
!1;this.playDryPoof();this._commonSfx.playSfx("object_pop_in");this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle")},onStormLoop:function(){this._spawnManager.storm.playOnce("stormcloud_disappear",e(this,this.onStormEnd))},onRainDisappear:function(){this._spawnManager.rain.sprite.set_visible(!1)},playDryPoof:function(){var a=this._chloe.sprite.x._value,b=this._chloe.sprite.y._value+-0.4*this._chloe.getNaturalHeight();this.playAnimationSfx1("generic_poof",a,b);this._commonSfx.playSfx("object_pop_in")},
chloeDance:function(){this._isBunnyActivated&&this._isDeerActivated?(this.loopChloeAnimationWithTimer("chloe_dancing",e(this,this.bunnyWalk),2.5),m.callWithDelay(this.owner,new n(e(this,this.onPreGameFinished)),4.5)):1==this._chloe.getSprite().scaleX._value?this.playChloeAnimation("chloe_dancing_music_note",e(this,this.onFinishedThink)):-1==this._chloe.getSprite().scaleX._value&&this.playChloeAnimation("chloe_dancing_music_note_inverted",e(this,this.onFinishedThink))},bunnyWalk:function(){this._spawnManager.bunnyToChloe(0.5)},
onFinishedThink:function(){this._isDancingActivated=!1;this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle")},onPreGameFinished:function(){this._spawnManager.stopFollowing();this._levelSfx.stopSfx(ga.DEER);this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle");this.onHideEveryone();this.onFinishedGame()},onHideEveryone:function(){this._spawnManager.bunny.sprite.set_visible(!1);this._spawnManager.fox.sprite.set_visible(!1);this._spawnManager.turtle.sprite.set_visible(!1);this._spawnManager.duck.sprite.set_visible(!1);
this._spawnManager.deer.sprite.set_visible(!1);this.playPoof(this._spawnManager.bunny.owner,0,-0.5);this.playPoof2(this._spawnManager.duck.owner,0,-0.5);this._commonSfx.playSfx("object_pop_in")},onGameResume:function(a){a?null!=this._currentLevelBGM&&this._currentLevelBGM.set_paused(!1):null!=this._currentLevelBGM&&this._currentLevelBGM.set_paused(!0)},dispose:function(){s.prototype.dispose.call(this);this._currentLevelBGM=this._spawnManager=null},__class__:ue});var ga=function(){y.call(this);this.ASSET_PATH=
"chapter_4/sfx/"};g["game.game.components.levels.level_10.SoundFX10"]=ga;ga.__name__="game,game,components,levels,level_10,SoundFX10".split(",");ga.__super__=y;ga.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:ga});var Ee=function(){this._isFollowChloe=this._isFoxFollowing=!1;x.call(this)};g["game.game.components.levels.level_10.SpawnManager10"]=Ee;Ee.__name__="game,game,components,levels,level_10,SpawnManager10".split(",");
Ee.__super__=x;Ee.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_4/animations")},setupBunny:function(a,b){this.bunny.sprite.setXY(a,b);this.bunny.sprite.set_visible(!0)},setupStorm:function(a,b){this.storm=new Fe(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.storm));this.storm.sprite.setXY(a,b+1.25*this.storm.getNaturalHeight())},setupParade:function(){this.deer=new Ge(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.deer));
this.deer.sprite.set_visible(!1);this.duck=new He(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.duck));this.duck.sprite.set_visible(!1);this.turtle=new Ie(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.turtle));this.turtle.sprite.set_visible(!1);this.fox=new Je(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.fox));this.fox.sprite.set_visible(!1);this.bunny=new Ke(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.bunny));
this.bunny.sprite.set_visible(!1)},setupFox:function(a,b){this.fox.sprite.setXY(a,b);this.fox.sprite.set_visible(!0);this._isFollowChloe=!0},setupTurtle:function(a,b){this.turtle.sprite.setXY(a,b);this.turtle.sprite.set_visible(!0)},setupDuck:function(a,b){this.duck.sprite.setXY(a,b);this.duck.sprite.set_visible(!0)},setupDeer:function(a,b){this.deer.sprite.setXY(a,b);this.deer.sprite.set_visible(!0)},setupRain:function(a,b){this.rain=new Le(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.rain));
this.rain.sprite.setXY(a,b+0.15*this.rain.getNaturalHeight())},setupFoop:function(a,b){this.foop=new Me(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.foop));-1==this._chloe.getSprite().scaleX._value?this.foop.sprite.setXY(a-2*this.foop.getNaturalWidth(),b-2*this.foop.getNaturalHeight()):1==this._chloe.getSprite().scaleX._value&&(this.foop.sprite.setXY(a+2*this.foop.getNaturalWidth(),b-2*this.foop.getNaturalHeight()),this.foop.sprite.scaleX.set__(-1))},onUpdate:function(a){x.prototype.onUpdate.call(this,
a);this._isFollowChloe&&(null!=this.fox&&(this._isFoxFollowing=this.fox.follow(this._chloe,a)),null!=this.turtle&&this.turtle.follow(this._chloe,a,this._isFoxFollowing),null!=this.duck&&this.duck.follow(this._chloe,a,this._isFoxFollowing),null!=this.deer&&this.deer.follow(this._chloe,a,this._isFoxFollowing))},stopFollowing:function(){this._isFollowChloe=!1},bunnyToChloe:function(a){this.bunny.sprite.x.animateTo(this._chloe.sprite.x._value+-0.9*this._chloe.getNaturalWidth(),a);this.bunny.loopWithDuration("bunny_walk",
e(this,this.onBunnyWalkFinished),a)},onBunnyWalkFinished:function(){this.bunny.loop("bunny_dance")},dispose:function(){x.prototype.dispose.call(this);null!=this.bunny&&this.bunny.owner.dispose();null!=this.fox&&this.fox.owner.dispose();null!=this.turtle&&this.turtle.owner.dispose();null!=this.duck&&this.duck.owner.dispose();null!=this.deer&&this.deer.owner.dispose();null!=this.rain&&this.rain.owner.dispose();null!=this.storm&&this.storm.owner.dispose();this._assetLib=this.storm=this.rain=this.deer=
this.duck=this.turtle=this.fox=this.bunny=null},__class__:Ee});var Ke=function(a){j.call(this,a)};g["game.game.components.levels.level_10.spawns.Bunny"]=Ke;Ke.__name__="game,game,components,levels,level_10,spawns,Bunny".split(",");Ke.__super__=j;Ke.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("bunny_dance")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Ke});var Ge=function(a){this._moveAnimationIsPlaying=
!1;this.currentChloeLaneNumber=1;j.call(this,a)};g["game.game.components.levels.level_10.spawns.Deer"]=Ge;Ge.__name__="game,game,components,levels,level_10,spawns,Deer".split(",");Ge.__super__=j;Ge.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("deer_idle")},follow:function(a,b,c){if(c){a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&(a.get_moveManager().currentLineNumberStandingOn>this.currentChloeLaneNumber?this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1):
this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var f=a.sprite.x._value+-4.25*a.getNaturalWidth(),c=a.sprite.x._value+4.25*a.getNaturalWidth();this.sprite.x._value<f&&(f=this.sprite.x,f.set__(f._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=
!0,this._moviePlayer.loop("deer_walk")));this.sprite.x._value>c&&(c=this.sprite.x,c.set__(c._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("deer_walk")))}else this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("deer_idle"))},__class__:Ge});var He=function(a){this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=1;j.call(this,
a)};g["game.game.components.levels.level_10.spawns.Duck"]=He;He.__name__="game,game,components,levels,level_10,spawns,Duck".split(",");He.__super__=j;He.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("duck_idle")},follow:function(a,b,c){if(c){a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&(a.get_moveManager().currentLineNumberStandingOn>this.currentChloeLaneNumber?this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1):
this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var f=a.sprite.x._value+-3.5*a.getNaturalWidth(),c=a.sprite.x._value+3.5*a.getNaturalWidth();this.sprite.x._value<f&&(f=this.sprite.x,f.set__(f._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=
!0,this._moviePlayer.loop("duck_walk")));this.sprite.x._value>c&&(c=this.sprite.x,c.set__(c._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("duck_walk")))}else this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("duck_idle"))},__class__:He});var Me=function(a){j.call(this,a)};g["game.game.components.levels.level_10.spawns.Foop"]=
Me;Me.__name__="game,game,components,levels,level_10,spawns,Foop".split(",");Me.__super__=j;Me.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("foop_idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Me});var Je=function(a){this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=1;j.call(this,a)};g["game.game.components.levels.level_10.spawns.Fox"]=Je;Je.__name__="game,game,components,levels,level_10,spawns,Fox".split(",");
Je.__super__=j;Je.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("fox_idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1);this.sprite.disablePointer()},follow:function(a,b){if(null==this.collider)return!1;if(a.collidesWith(this.collider.boxCollider))return this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("fox_idle")),!1;a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&
(this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var c=a.sprite.x._value+-1*a.getNaturalWidth(),f=a.sprite.x._value+a.getNaturalWidth();this.sprite.x._value<c&&(c=this.sprite.x,c.set__(c._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1));this.sprite.x._value>f&&(f=this.sprite.x,f.set__(f._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1));
this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("fox_walk"));return!0},__class__:Je});var Le=function(a){j.call(this,a)};g["game.game.components.levels.level_10.spawns.Rain"]=Le;Le.__name__="game,game,components,levels,level_10,spawns,Rain".split(",");Le.__super__=j;Le.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("raincloud_rain")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Le});
var Fe=function(a){j.call(this,a)};g["game.game.components.levels.level_10.spawns.Storm"]=Fe;Fe.__name__="game,game,components,levels,level_10,spawns,Storm".split(",");Fe.__super__=j;Fe.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("stormcloud_loop");this._moviePlayer.playOnce("stormcloud_form")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Fe});var Ie=function(a){this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=
1;j.call(this,a)};g["game.game.components.levels.level_10.spawns.Turtle"]=Ie;Ie.__name__="game,game,components,levels,level_10,spawns,Turtle".split(",");Ie.__super__=j;Ie.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("turtle_idle")},follow:function(a,b,c){if(c){a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&(this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),
this.sprite.y.set__(a.sprite.y._value));var f=a.sprite.x._value+-2.25*a.getNaturalWidth(),c=a.sprite.x._value+2.25*a.getNaturalWidth();this.sprite.x._value<f&&(f=this.sprite.x,f.set__(f._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("turtle_walk")));this.sprite.x._value>c&&(c=this.sprite.x,c.set__(c._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),
this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("turtle_walk")))}else this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("turtle_idle"))},__class__:Ie});var ve=function(){this._keywordActivatedEnabled=!0;this._turtleActivated=this._tripActivated=this._othersActivated=this._winActivated=this._cheatActivated=!1;s.call(this)};g["game.game.components.levels.level_11.LevelInteraction11"]=ve;ve.__name__="game,game,components,levels,level_11,LevelInteraction11".split(",");
ve.__super__=s;ve.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new Va)},setupSpawnManager:function(){this._spawnManager=new Ne;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:this._keywordActivatedEnabled=!1,m.callWithDelay(this.owner,new n(e(this,this.onKeywordActivatedEnabled)),
3),this._turtleActivated||(this._turtleActivated=!0,this._spawnManager.spawnTurtle(),this._spawnManager.turtleGoToDestination(e(this,this.onFinishedInTheMiddle),2),this._spawnManager.spawnOthersAtStartingLineAndRunToGetOutOfScreen(3),this.owner._compMap.GameTextSprite_35.moveTextLayerOnTopOfBgLayer(),this._textAnimation.playGlowText(a.textSprite),this._levelSfx.playSfx(Va.STARTING_PISTOL))}},onKeywordActivatedEnabled:function(){this._keywordActivatedEnabled=!0},onFinishedInTheMiddle:function(){},
onWordActivated:function(a){if(this._keywordActivatedEnabled)switch(a.id){case 3:this._turtleActivated&&!this._othersActivated&&(this._othersActivated=!0,this.playOtherTeasingTurtle(),this._textAnimation.playGlowText(a.textSprite));break;case 4:this._cheatActivated&&this._winActivated&&this._othersActivated?this._tripActivated||(this._tripActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._textAnimation.playGlowText(a.textSprite),this._spawnManager.spawnHammock(),this.playSparkles(),
this._spawnManager.fadeOutTrees(),this.owner._compMap.GameTextSprite_35.moveTextLayerOnTopOfBgLayer(),m.callWithDelay(this.owner,new n(e(this,this.onPlayTurtleExcited)),2)):this.playChloeThinking();break;case 5:this._turtleActivated?this._cheatActivated||(this._cheatActivated=!0,this._levelSfx.playSfx(Va.SPEEDUP),this.onPlayCheating(a,"turtle_stand_skateboard",1.25),m.callWithDelay(this.owner,new n(e(this,this.playOtherTeasingTurtle)),1.25)):this.playChloeThinking();break;case 2:this._turtleActivated?
this._winActivated||(this._winActivated=!0,this._levelSfx.playSfx(Va.SPEEDUP),this.onPlayCheating(a,"turtle_run",1.25),m.callWithDelay(this.owner,new n(e(this,this.playOtherTeasingTurtle)),1.25)):this.playChloeThinking()}},playSparkles:function(){var a=this.owner._compMap.Sparkles_37,b=this._spawnManager.hammock.sprite.x._value,c=this._spawnManager.hammock.sprite.y._value-0.65*this._spawnManager.hammock.getNaturalHeight();a.playSparkleAt(b,c,13)},onCosmoGrantWish:function(){this._cosmo.animation.playOnce("cosmo_grant_wish")},
onPlayTurtleExcited:function(){m.callWithDelay(this.owner,new n(e(this,this.onCosmoGrantWish)),0.9);this._spawnManager.turtle.loopWithDuration("turtle_excited",e(this,this.onFinishedTurtleExcited),2)},onFinishedTurtleExcited:function(){this.onPoofOutTurtle();m.callWithDelay(this.owner,new n(e(this,this.onTurtleLayDownInHammock)),0.25);m.callWithDelay(this.owner,new n(e(this,this.playOtherTeasingTurtle)),1.25);m.callWithDelay(this.owner,new n(e(this,this.onViewTurtle)),2.75);m.callWithDelay(this.owner,
new n(e(this,this.onTurtleThumbsUp)),3);m.callWithDelay(this.owner,new n(e(this,this.onHideHammock)),9)},onTurtleThumbsUp:function(){this._spawnManager.hammock.loopWithDuration("tree_hammock_turtle_thumbsup",e(this,this.onFinishedTurtleThumbsUp),1.5)},onFinishedTurtleThumbsUp:function(){this._spawnManager.hammock.loopWithDuration("tree_hammock_turtle_topsun",e(this,this.onOthersGoOffscreen),1.5);this._spawnManager.othersGoOffscreen(2);this.onPlayOthersRunning()},onOthersGoOffscreen:function(){this._spawnManager.hammock.loop("tree_hammock_turtle_topsun");
this.onFinishedGame()},onPlayOthersRunning:function(){this._spawnManager.bunny.loop("bunny_runforward_envy");this._spawnManager.fox.loop("fox_runforward_envy");this._spawnManager.raccoon.loop("racoon_runforward_envy");this._spawnManager.bunny.setMovieScaleX(-1);this._spawnManager.fox.setMovieScaleX(-1);this._spawnManager.raccoon.setMovieScaleX(-1)},onViewTurtle:function(){this._spawnManager.viewTurtle();this._spawnManager.playOthersEnvyAnimation()},playOtherTeasingTurtle:function(){this.setChloeState(o.ON_ANIMATION_TRANSITION);
this._spawnManager.othersTeaseTurtle(e(this,this.onArriving),e(this,this.onFinishedTeasing),e(this,this.onOutOfScreen));this._spawnManager.bunny.loop("bunny_runback");this._spawnManager.fox.loop("fox_runback");this._spawnManager.raccoon.loop("racoon_runback")},onPoofOutTurtle:function(){this._spawnManager.turtle.sprite.set_visible(!1);this.playPoof(this._spawnManager.turtle.owner,0,-0.5);this._commonSfx.playSfx("poof")},onTurtleLayDownInHammock:function(){this._commonSfx.stopBgm();this._levelSfx.playSfx(Va.TRIP);
this._spawnManager.hammock.loop("tree_hammock_turtle");this.playPoof(this._spawnManager.hammock.owner,0,-0.5);this._commonSfx.playSfx("poof")},onPlayCheating:function(a,b,c){this.setChloeState(o.ON_ANIMATION_TRANSITION);this.onCosmoPlayDenied();this._textAnimation.playGlowText(a.textSprite);this._spawnManager.scrollingTreeManager.setScrollingSpeed(0.3);this._spawnManager.turtle.loopWithDuration(b,e(this,this.onTurtleFinishedRunning),c);this.playPoof2(this._spawnManager.turtle.owner,0,-0.5);this._commonSfx.playSfx("poof");
m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1);m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),2.25)},onTurtleFinishedRunning:function(){this._spawnManager.scrollingTreeManager.setScrollingSpeed(0.05);this._spawnManager.turtle.loop("turtle_run_slow");this.playPoof2(this._spawnManager.turtle.owner,0,-0.5);this._commonSfx.playSfx("poof")},onOutOfScreen:function(){this._tripActivated||this.setChloeNormalState()},onArriving:function(){this._tripActivated||(this._spawnManager.bunny.loopWithDuration("bunny_runback_laugh",
null,1),this._spawnManager.fox.loopWithDuration("fox_runback_laugh",null,1),this._spawnManager.raccoon.loopWithDuration("racoon_runback_laugh",null,1),this._levelSfx.playSfx(Va.LAUGH))},onFinishedTeasing:function(){this._tripActivated||this._spawnManager.playOthersForwardAnimation()},onHideHammock:function(){this.playPoof(this._spawnManager.hammock.owner,0,-0.5);this._spawnManager.hammock.sprite.set_visible(!1);this._commonSfx.playSfx("poof")},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=
null},__class__:ve});var Oe=function(a,b){this.startScrolling=!1;this._timeMultiplier=1;this._spawnTimer=0;this.onSetScrollingSpeed=new E;h.call(this);this._lib=a;this._layerToSpawn=b;this.setupTreeLayer()};g["game.game.components.levels.level_11.ScrollingTreeManager"]=Oe;Oe.__name__="game,game,components,levels,level_11,ScrollingTreeManager".split(",");Oe.__super__=h;Oe.prototype=l(h.prototype,{get_name:function(){return"ScrollingTreeManager_19"},set_startScrolling:function(a){a&&this.spawnTree();
return this.startScrolling=a},onAdded:function(){h.prototype.onAdded.call(this);this._durationToSpawn=5+-3*Math.random()},setupTreeLayer:function(){this._treeLayer=(new k).add(new q);this._layerToSpawn.addChild(this._treeLayer,!1)},onUpdate:function(a){h.prototype.onUpdate.call(this,a);this.startScrolling&&(this._spawnTimer+=a*this._timeMultiplier,this._spawnTimer>this._durationToSpawn&&(this._spawnTimer-=this._durationToSpawn,this._durationToSpawn=5+-3*Math.random(),this.spawnTree()))},spawnTree:function(){this._treeLayer.addChild((new k).add(new Yb(this._lib)))},
fadeOutTrees:function(){this._treeLayer._compMap.Sprite_1.alpha.animateTo(0,1)},setScrollingSpeed:function(a){this.onSetScrollingSpeed.emit(a);this._timeMultiplier=a/0.05},dispose:function(){this.onSetScrollingSpeed.emit(0.05);h.prototype.dispose.call(this);this._treeLayer.dispose();this._treeLayer=null},__class__:Oe});var Va=function(){y.call(this);this.ASSET_PATH="chapter_4/sfx/"};g["game.game.components.levels.level_11.SoundFX11"]=Va;Va.__name__="game,game,components,levels,level_11,SoundFX11".split(",");
Va.__super__=y;Va.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:Va});var Ne=function(){x.call(this)};g["game.game.components.levels.level_11.SpawnManager11"]=Ne;Ne.__name__="game,game,components,levels,level_11,SpawnManager11".split(",");Ne.__super__=x;Ne.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_4/animations")},
spawnTurtle:function(){this.turtle=new Pe(this._assetLib);this._storyManagerFields.middleLayer.addChild((new k).add(this.turtle));this.turtle.sprite.setXY(i.get_scaledStageWidth()+this.turtle.getNaturalWidth(),0.9*i.get_scaledStageHeight());this.setupScrollingTreeManager()},turtleGoToDestination:function(a,b){null==b&&(b=2);this.turtle.sprite.x.animateTo(0.5*i.get_scaledStageWidth(),b);m.callWithDelay(this.owner,new n(a),b)},spawnHammock:function(){this.hammock=new Qe(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.hammock));
this.hammock.sprite.setXY(0.55*i.get_scaledStageWidth(),0.875*i.get_scaledStageHeight())},othersTeaseTurtle:function(a,b,c){this._funcToCallAfterArriving=a;this._funcToCallAfterTeasing=b;this._funcToCallWhenFinished=c;this._teasingBehavior=new Re(e(this,this.onArriving),e(this,this.onFinishedTeasing),e(this,this.onOutOfScreen));this._othersLayer=(new k).add(new q).add(this._teasingBehavior);this._storyManagerFields.middleLayer.addChild(this._othersLayer);this.setupBunny();this.setupRaccoon();this.setupFox()},
onArriving:function(){this._funcToCallAfterArriving()},onFinishedTeasing:function(){this._funcToCallAfterTeasing()},onOutOfScreen:function(){this._funcToCallWhenFinished();this.disposeOthers()},disposeOthers:function(){null!=this._othersLayer&&(this._othersLayer.dispose(),this.raccoon=this.fox=this.bunny=this._othersLayer=null)},setupBunny:function(){this.bunny=new Se(this._assetLib);this._othersLayer.addChild((new k).add(this.bunny));this.bunny.setMovieScaleX(1)},setupRaccoon:function(){this.raccoon=
new Te(this._assetLib);this.bunny.owner.addChild((new k).add(this.raccoon),!1);this.raccoon.sprite.x.set__(this.bunny.getNaturalWidth());this.raccoon.setMovieScaleX(1)},setupFox:function(){this.fox=new Ue(this._assetLib);this.bunny.owner.addChild((new k).add(this.fox),!1);this.fox.sprite.x.set__(-1*this.bunny.getNaturalWidth());this.fox.setMovieScaleX(1)},setupScrollingTreeManager:function(){this.scrollingTreeManager=new Oe(this._assetLib,this._storyManagerFields.middleLayer);this.owner.add(this.scrollingTreeManager);
this.scrollingTreeManager.set_startScrolling(!0)},playOthersForwardAnimation:function(){this.bunny.loop("bunny_runforward");this.raccoon.loop("racoon_runforward");this.fox.loop("fox_runforward");this.bunny.setMovieScaleX(-1);this.raccoon.setMovieScaleX(-1);this.fox.setMovieScaleX(-1);this._teasingBehavior.moveForward()},playOthersEnvyAnimation:function(){this.bunny.loop("bunny_envy");this.raccoon.loop("racoon_envy");this.fox.loop("fox_envy")},viewTurtle:function(){this.bunny.setMovieScaleX(1);this.raccoon.setMovieScaleX(1);
this.fox.setMovieScaleX(1)},fadeOutTrees:function(){this.scrollingTreeManager.fadeOutTrees()},othersGoOffscreen:function(a){null==a&&(a=2);this._teasingBehavior.moveForward(a)},spawnOthersAtStartingLineAndRunToGetOutOfScreen:function(a){this._othersLayer=new k;this._storyManagerFields.middleLayer.addChild(this._othersLayer);this.setupBunny();this.setupRaccoon();this.setupFox();this.bunny.setMovieScaleX(-1);this.fox.setMovieScaleX(-1);this.raccoon.setMovieScaleX(-1);this.bunny.sprite.x.set__(i.get_scaledStageWidth()+
this.bunny.getNaturalWidth());this.bunny.sprite.y.set__(this.turtle.sprite.y._value);this.bunny.sprite.x.animateTo(-0.1*i.get_scaledStageWidth(),a);m.callWithDelay(this.owner,new n(e(this,this.disposeOthers)),a);this._storyManagerFields.middleLayer.addChild(this.turtle.owner)},dispose:function(){x.prototype.dispose.call(this);this._assetLib=null;this.disposeComponent(this.scrollingTreeManager);this.disposeComponent(this.turtle);this.disposeComponent(this.hammock);this.disposeComponent(this.raccoon);
this.disposeComponent(this.bunny);this.disposeComponent(this.fox);this.disposeComponent(this._teasingBehavior);this._funcToCallAfterArriving=this._funcToCallAfterTeasing=this._funcToCallWhenFinished=this._othersLayer=this._teasingBehavior=this.fox=this.bunny=this.raccoon=this.hammock=this.turtle=this.scrollingTreeManager=null},__class__:Ne});var Se=function(a){j.call(this,a)};g["game.game.components.levels.level_11.spawns.Bunny"]=Se;Se.__name__="game,game,components,levels,level_11,spawns,Bunny".split(",");
Se.__super__=j;Se.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("bunny_runback");this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1)},__class__:Se});var Ue=function(a){j.call(this,a)};g["game.game.components.levels.level_11.spawns.Fox"]=Ue;Ue.__name__="game,game,components,levels,level_11,spawns,Fox".split(",");Ue.__super__=j;Ue.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("fox_runback");
this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1)},__class__:Ue});var Qe=function(a){j.call(this,a)};g["game.game.components.levels.level_11.spawns.Hammock"]=Qe;Qe.__name__="game,game,components,levels,level_11,spawns,Hammock".split(",");Qe.__super__=j;Qe.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("tree_hammock_idle")},__class__:Qe});var Te=function(a){j.call(this,a)};g["game.game.components.levels.level_11.spawns.Raccoon"]=Te;Te.__name__=
"game,game,components,levels,level_11,spawns,Raccoon".split(",");Te.__super__=j;Te.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("racoon_runback");this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1)},__class__:Te});var Re=function(a,b,c){h.call(this);this._funcToCallAfterArriving=a;this._funcToCallAfterTeasing=b;this._funcToCallWhenOutOfScreen=c};g["game.game.components.levels.level_11.spawns.TeasingTurtleBehavior"]=Re;Re.__name__="game,game,components,levels,level_11,spawns,TeasingTurtleBehavior".split(",");
Re.__super__=h;Re.prototype=l(h.prototype,{get_name:function(){return"TeasingTurtleBehavior_18"},onAdded:function(){h.prototype.onAdded.call(this);this._sprite=this.owner._compMap.Sprite_1;this._sprite.setXY(-0.2*i.get_scaledStageWidth(),0.9*i.get_scaledStageHeight());this._sprite.x.animateTo(0.35*i.get_scaledStageWidth(),1.5,T.expoOut);m.callWithDelay(this.owner,new n(e(this,this.onArriving)),1.5);m.callWithDelay(this.owner,new n(e(this,this.onFinishedTeasingTurtle)),2.5)},onArriving:function(){this._funcToCallAfterArriving()},
onFinishedTeasingTurtle:function(){this._funcToCallAfterTeasing()},moveForward:function(a){null==a&&(a=0);0==a?(this._sprite.x.animateTo(-0.2*i.get_scaledStageWidth(),0.75),m.callWithDelay(this.owner,new n(e(this,this.onOutOfScreen)),0.75)):(this._sprite.x.animateTo(-0.2*i.get_scaledStageWidth(),a),m.callWithDelay(this.owner,new n(e(this,this.onOutOfScreen)),a))},onOutOfScreen:function(){this._funcToCallWhenOutOfScreen()},__class__:Re});var Yb=function(a){this._visible=!0;j.call(this,a)};g["game.game.components.levels.level_11.spawns.Tree"]=
Yb;Yb.__name__="game,game,components,levels,level_11,spawns,Tree".split(",");Yb.__super__=j;Yb.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);switch(Math.floor(3*Math.random())){case 0:this._moviePlayer.loop("tree");break;case 1:this._moviePlayer.loop("tree2");break;case 2:this._moviePlayer.loop("tree3")}this.sprite.setXY(0.25*i.get_scaledStageWidth(),0.9*i.get_scaledStageHeight())},onStart:function(){j.prototype.onStart.call(this);this._disposer=new R;this._disposer.add(this.owner._internal_getFromParents("ScrollingTreeManager_19").onSetScrollingSpeed.connect(e(this,
this.onSetScrollingSpeed)))},onSetScrollingSpeed:function(a){Yb.SCROLL_SPEED=a},onUpdate:function(a){j.prototype.onUpdate.call(this,a);if(null!=this.sprite){var b=this.sprite.x;b.set__(b._value+i.get_scaledStageWidth()*Yb.SCROLL_SPEED*a);this._visible&&this.sprite.x._value>0.7*i.get_scaledStageWidth()&&(this._visible=!1,this.sprite.alpha.animateTo(0,1),m.callWithDelay(this.owner,new n((ha=this.owner,e(ha,ha.dispose))),1))}},dispose:function(){j.prototype.dispose.call(this);this._disposer.dispose();
this._disposer=null},__class__:Yb});var Pe=function(a){j.call(this,a)};g["game.game.components.levels.level_11.spawns.Turtle"]=Pe;Pe.__name__="game,game,components,levels,level_11,spawns,Turtle".split(",");Pe.__super__=j;Pe.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("turtle_run_slow");this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1)},__class__:Pe});var we=function(){this._isSuperWishActive=this._isRacoonActive=this._isPresentActive=
this._isPresentLarge=this._collidedWithRacoon=!1;s.call(this)};g["game.game.components.levels.level_12.LevelInteraction12"]=we;we.__name__="game,game,components,levels,level_12,LevelInteraction12".split(",");we.__super__=s;we.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new oc)},setupSpawnManager:function(){this._spawnManager=new Ve;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,
a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite;switch(a.id){case 1:if(!this._isRacoonActive){this._isRacoonActive=!0;var c=b.x._value+0.5*b.getNaturalWidth();this._spawnManager.setupRacoon(c,b.y._value);this.playPoof(this._spawnManager.racoon.owner,0,0);this._commonSfx.playSfx("object_pop_in");this._textAnimation.playGlowText(a.textSprite);this._pageSignals.onChloeMovementInterrupted.emit();this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.racoon.getNaturalWidth())}break;
case 2:this._isPresentActive?this._isPresentLarge||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._cosmo.animation.playOnce("cosmo_grant_wish",e(this,this.spawnGift)),m.callWithDelay(this.owner,new n(e(this,this.grantWishSFX)),0.25),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 3:!this._isSuperWishActive&&!this._isPresentActive&&(this.setChloeState(o.ON_ANIMATION_TRANSITION),this.onCosmoPlayDenied(),this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,
new n(e(this,this.onChloeSad)),1),m.callWithDelay(this.owner,new n(e(this,this.onChloeToIdle)),2.25),m.callWithDelay(this.owner,new n(e(this,this.onCosmoFinished)),2.25));break;case 4:this._isRacoonActive?this._isPresentActive||(this._isPresentActive=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._cosmo.animation.playOnce("cosmo_grant_wish",e(this,this.spawnGift)),m.callWithDelay(this.owner,new n(e(this,this.grantWishSFX)),0.25),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();
break;default:this.onChloeToIdle()}},spawnGift:function(){this._giftSize==o.HAS_GIFT_XSMALL?(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._giftSize=o.HAS_GIFT_SMALL,this.loopChloeAnimation("chloe_idle_hold_gift_medium"),this.jumpRacoon(),m.callWithDelay(this.owner,new n(e(this,this.onRacoonJump)),0.7),this.poofChloe()):this._giftSize==o.HAS_GIFT_SMALL?(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._giftSize=o.HAS_GIFT_MEDIUM,this.loopChloeAnimation("chloe_idle_hold_gift_medium2"),this.jumpRacoon(),
m.callWithDelay(this.owner,new n(e(this,this.jumpRacoon)),0.7),m.callWithDelay(this.owner,new n(e(this,this.onRacoonJump)),1.4),this.poofChloe()):this._giftSize==o.HAS_GIFT_MEDIUM?(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._giftSize=o.HAS_GIFT_LARGE,this.loopChloeAnimation("chloe_idle_hold_gift_large"),this.poofChloe(),this._isPresentLarge=!0,this.jumpRacoon(),m.callWithDelay(this.owner,new n(e(this,this.jumpRacoon)),0.7),m.callWithDelay(this.owner,new n(e(this,this.jumpRacoon)),1.4),m.callWithDelay(this.owner,
new n(e(this,this.onRacoonJump)),2.1)):(this.setChloeState(o.HAS_GIFT_XSMALL),this._giftSize=this._chloe.state,this.loopChloeAnimation("chloe_idle_hold_gift_small"),this.poofChloe())},grantWishSFX:function(){this._commonSfx.playSfx("cosmo- tada")},jumpRacoon:function(){this._spawnManager.racoon.playOnce(ya.JUMP);this._levelSfx.playSfx(oc.SURPRISED)},poofChloe:function(){var a=this._chloe.sprite.x._value,b=this._chloe.sprite.y._value+-0.4*this._chloe.getNaturalHeight();this.playAnimationSfx1("generic_poof",
a,b);this._commonSfx.playSfx("object_pop_in")},onKeyDown:function(a){this._isPresentActive||s.prototype.onKeyDown.call(this,a)},onRacoonJump:function(){this._giftSize!=o.HAS_GIFT_LARGE&&this._spawnManager.racoon.loop(ya.WAITING);this._giftSize==o.HAS_GIFT_LARGE&&this._spawnManager.racoon.loop(ya.EXCITED);this.onChloeToIdle()},onChloeToIdle:function(){this._isPresentActive?(this._chloe.set_state(this._giftSize),this._chloe.state==o.HAS_GIFT_XSMALL?this.loopChloeAnimation("chloe_idle_hold_gift_small"):
this._chloe.state==o.HAS_GIFT_SMALL?this.loopChloeAnimation("chloe_idle_hold_gift_medium"):this._chloe.state==o.HAS_GIFT_MEDIUM?this.loopChloeAnimation("chloe_idle_hold_gift_medium2"):this._chloe.state==o.HAS_GIFT_LARGE&&this.loopChloeAnimation("chloe_idle_hold_gift_large")):(this.setChloeState(o.NORMAL),this.loopChloeAnimation("chloe_idle"))},onUpdate:function(a){s.prototype.onUpdate.call(this,a);this._isPresentActive&&this.updateCollisionToRacoonInteraction()},updateCollisionToRacoonInteraction:function(){this._spawnManager.collides(this._chloe.collider,
this._spawnManager.racoon)?this._collidedWithRacoon||(this._collidedWithRacoon=!0,this.collideWithRacoon(),this._pageSignals.onChloeMovementInterrupted.emit()):this._collidedWithRacoon&&(this._collidedWithRacoon=!1)},collideWithRacoon:function(){this.setChloeState(o.ON_ANIMATION_TRANSITION);this._giftSize==o.HAS_GIFT_XSMALL?(this.playChloeAnimation("chloe_interact_gift_small",e(this,this.onChloeToIdle)),this.onGiveGift()):this._giftSize==o.HAS_GIFT_SMALL?(this.playChloeAnimation("chloe_interact_gift_medium",
e(this,this.onChloeToIdle)),this.onGiveGift()):this._giftSize==o.HAS_GIFT_MEDIUM?(this.playChloeAnimation("chloe_interact_gift_medium2",e(this,this.onChloeToIdle)),this.onGiveGift()):this._giftSize==o.HAS_GIFT_LARGE&&(this._isPresentActive=!1,this.playChloeAnimation("chloe_interact_gift_large",e(this,this.onChloeIdle)),m.callWithDelay(this.owner,new n(e(this,this.onGiveGift)),0.4))},onGiveGift:function(){(this._giftSize==o.HAS_GIFT_SMALL||this._giftSize==o.HAS_GIFT_MEDIUM||this._giftSize==o.HAS_GIFT_XSMALL)&&
this._spawnManager.racoon.playOnce(ya.REJECT);this._giftSize==o.HAS_GIFT_LARGE&&this._spawnManager.racoon.playOnce(ya.RECIEVE,e(this,this.runRacoon))},runRacoon:function(){m.callWithDelay(this.owner,new n(e(this,this.onRacoonPoofOut)),0.625);m.callWithDelay(this.owner,new n(e(this,this.onFinishedGame)),0.7);this._spawnManager.racoon.runAway(0.7)},onRacoonPoofOut:function(){this.playPoof(this._spawnManager.racoon.owner,0,0);this._commonSfx.playSfx("object_pop_in");this._spawnManager.racoon.sprite.set_visible(!1)},
onCosmoFinished:function(){this._isSuperWishActive=!1},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:we});var oc=function(){y.call(this);this.ASSET_PATH="chapter_4/sfx/"};g["game.game.components.levels.level_12.SoundFX12"]=oc;oc.__name__="game,game,components,levels,level_12,SoundFX12".split(",");oc.__super__=y;oc.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},
__class__:oc});var Ve=function(){x.call(this)};g["game.game.components.levels.level_12.SpawnManager12"]=Ve;Ve.__name__="game,game,components,levels,level_12,SpawnManager12".split(",");Ve.__super__=x;Ve.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_4/animations")},setupRacoon:function(a,b){this.racoon=new ya(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.racoon));this.racoon.sprite.setXY(a,
b-0.5*this.racoon.getNaturalHeight())},onUpdate:function(){null!=this.racoon&&this.racoon.follow(this._chloe)},collides:function(a,b){return null!=b&&null!=b.collider&&a.collidesWith(b.collider.boxCollider)?!0:!1},dispose:function(){x.prototype.dispose.call(this);null!=this.racoon&&this.racoon.owner.dispose();this._assetLib=this.racoon=null},__class__:Ve});var ya=function(a){this._isChloeFacingMe=!1;j.call(this,a)};g["game.game.components.levels.level_12.spawns.Racoon"]=ya;ya.__name__="game,game,components,levels,level_12,spawns,Racoon".split(",");
ya.__super__=j;ya.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop(ya.WAITING)},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(2.2,1);this.collider.setXY(this.collider.x._value,this.collider.y._value+0.5*this.getNaturalHeight());this.sprite.disablePointer()},follow:function(a){a.sprite.x._value<this.sprite.x._value?(this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._isChloeFacingMe=1==a.getSprite().scaleX._value?!0:
!1):a.sprite.x._value>this.sprite.x._value+this.getNaturalWidth()&&(this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this._isChloeFacingMe=-1==a.getSprite().scaleX._value?!0:!1)},runAway:function(a){var b=this.sprite.x._value-5*this.getNaturalWidth();this.sprite.scaleX.set__(-1);this.loop(ya.RUN);this.sprite.x.animateTo(b,a)},__class__:ya});var xe=function(){this._mouseActivated=this._lostActivated=this._toothFairyActivated=this._toothFairyActivatedAgain=!1;s.call(this)};g["game.game.components.levels.level_13.LevelInteraction13"]=
xe;xe.__name__="game,game,components,levels,level_13,LevelInteraction13".split(",");xe.__super__=s;xe.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new We)},setupSpawnManager:function(){this._spawnManager=new Xe;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite,c=b.x._value+
0.5*b.getNaturalWidth(),b=b.y._value;switch(a.id){case 1:this._mouseActivated||(this._levelSfx.playSfx("mouse_spawn"),this._mouseActivated=!0,this._spawnManager.setupMouse(c,b),this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.mouse.getNaturalWidth()),this.playPoof(this._spawnManager.mouse.owner,0,0),this._commonSfx.playSfx("poof"),this._textAnimation.playGlowText(a.textSprite));break;case 5:this._mouseActivated?this._toothFairyActivated?this._lostActivated&&!this._toothFairyActivatedAgain&&
(this.onChloeStepBack(c),this._toothFairyActivatedAgain=!0,m.callWithDelay(this.owner,new ma(e(this,this.setChloeState),o.ON_ANIMATION_TRANSITION),0.2),this._spawnManager.toothFairy.playOnce("toothfairy_thumbs_up",e(this,this.onFinishedFairyThumbsUp)),this._textAnimation.playGlowText(a.textSprite)):(this._toothFairyActivated=!0,this._spawnManager.setupToothFairy(c,b),this._pageSignals.onChloeStepBack.emit(c,0.75*this._spawnManager.toothFairy.getNaturalWidth()),this.playPoof(this._spawnManager.toothFairy.owner,
0,-0.5),this._commonSfx.playSfx("poof"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 2:this._toothFairyActivated?this._lostActivated?this._toothFairyActivatedAgain&&(this.setChloeState(o.ON_ANIMATION_TRANSITION),this.playChloeAnimation("chloe_granting_wish",e(this,this.onFinishedSuccessGrantWish)),this._textAnimation.playGlowText(a.textSprite),this._spawnManager.chloeSetViewToMouseDirection()):(this._lostActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),
this.playChloeAnimation("chloe_granting_wish",e(this,this.onFinishedFailedGrantWish)),this._textAnimation.playGlowText(a.textSprite),this._spawnManager.chloeSetViewToMouseDirection()):this._lostActivated||this.playChloeThinking();break;case 4:this._mouseActivated?(this.showTeethThenDisposeCosmoDeny(c+1.5*this._chloe.getNaturalWidth()*this._chloe.getSprite().scaleX._value,b),this._spawnManager.teeth.setupMoreTeeth(),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 3:this._mouseActivated?
(this.showTeethThenDisposeCosmoDeny(c+1.5*this._chloe.getNaturalWidth()*this._chloe.getSprite().scaleX._value,b),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 6:this.setChloeState(o.ON_ANIMATION_TRANSITION);this._spawnManager.spawnMoneyBagAt(c,b);var f=this._spawnManager.moneyBag,b=this.playAnimationSfx1("generic_poof",c+0*f.getNaturalWidth(),b+-0.5*f.getNaturalHeight()),f=this._spawnManager.moneyBag.getNaturalWidth();this._pageSignals.onChloeStepBack.emit(c,
f);this._levelSfx.playSfx("cash_spawn");this._commonSfx.playSfx("object_pop_in");this.onCosmoPlayDenied();this._textAnimation.playGlowText(a.textSprite);m.callWithDelay(this.owner,new ma(e(this,this.loopChloeAnimation),"chloe_idle_sad"),1);m.callWithDelay(this.owner,new ma(e(this,this.onRemovedMoney),b),1.25);m.callWithDelay(this.owner,new n(e(this,this.onBackToNormal)),2.5)}},onChloeStepBack:function(a){this._pageSignals.onChloeStepBack.emit(a,0.75*this._spawnManager.toothFairy.getNaturalWidth())},
onRemovedMoney:function(a){this._pageSignals.onPlayAnimationSfx1.emit(a);this._spawnManager.disposeMoneyBag();this._commonSfx.playSfx("object_pop_in")},onBackToNormal:function(){this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle")},showTeethThenDisposeCosmoDeny:function(a,b){this.setChloeState(o.ON_ANIMATION_TRANSITION);this._spawnManager.setupTeeth(a,b);this.playPoof2(this._spawnManager.teeth.owner,0,-0.5);this._commonSfx.playSfx("poof");this.onCosmoPlayDenied();m.callWithDelay(this.owner,
new n(e(this,this.onDisposeTeeth)),2.5);m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),3)},onDisposeTeeth:function(){this.playPoof2(this._spawnManager.teeth.owner,0,-0.5);this._commonSfx.playSfx("poof");this._spawnManager.disposeTeeth()},onFinishedSuccessGrantWish:function(){this._spawnManager.mouse.playOnce("mouse_teeth_pop",e(this,this.onFinishedFailedChloeToothPop));this.playPoof(this._spawnManager.mouse.owner,-0.2,-0.25);this._commonSfx.playSfx("poof");m.callWithDelay(this.owner,
new n(e(this,this.onPlayMousePopSucceeded)),1.85)},onPlayMousePopSucceeded:function(){this._levelSfx.playSfx("mouse_happy");this._spawnManager.mouse.playOnce("mouse_celebrate",e(this,this.onFinishedMouseCelebrate))},onFinishedMouseCelebrate:function(){this._spawnManager.mouse.loop("mouse_sparkling_teeth");m.callWithDelay(this.owner,new n(e(this,this.poofOUtAllSpawnedCharacters)),1);m.callWithDelay(this.owner,new n(e(this,this.onFinishedGame)),1)},poofOUtAllSpawnedCharacters:function(){this._spawnManager.toothFairy.sprite.set_visible(!1);
this.playPoof(this._spawnManager.toothFairy.owner,0,-0.5);this._commonSfx.playSfx("poof");m.callWithDelay(this.owner,new n(e(this,this.onPoofOutMouse)),0.25)},onPoofOutMouse:function(){this._spawnManager.mouse.sprite.set_visible(!1);this.playPoof(this._spawnManager.mouse.owner,0,0);this._commonSfx.playSfx("poof")},onFinishedFairyThumbsUp:function(){this._spawnManager.toothFairyLookingAtChloe=!1;this._spawnManager.toothFairy.loop("toothfairy_idle");this.playAnimationSfx1("generic_poof",this._spawnManager.toothFairy.sprite.x._value,
this._spawnManager.toothFairy.sprite.y._value);this._spawnManager.toothFairyFollowChloe(-4,-1.25);this.setChloeNormalState();this._commonSfx.playSfx("poof")},onFinishedFailedGrantWish:function(){this._spawnManager.mouse.playOnce("mouse_teeth_pop",e(this,this.onFinishedFailedChloeToothPop));this.playPoof(this._spawnManager.mouse.owner,-0.2,-0.25);this._commonSfx.playSfx("poof");m.callWithDelay(this.owner,new n(e(this,this.onPlayMousePopFailed)),1.85)},onPlayMousePopFailed:function(){this.playPoof(this._spawnManager.mouse.owner,
-0.2,-0.25);this._commonSfx.playSfx("poof");this.playChloeAnimation("chloe_idle_sad",e(this,this.onFinishedChloeSadAnimation));this.onPlayToothFairyNo()},onFinishedChloeSadAnimation:function(){this.loopChloeAnimation("chloe_idle")},onFinishedFailedChloeToothPop:function(){},onPlayToothFairyNo:function(){this._spawnManager.toothFairy.loopWithDuration("toothfairy_no",e(this,this.onFinishedToothFairyNo),2)},onFinishedToothFairyNo:function(){this._spawnManager.toothFairy.loop("toothfairy_idle2");this.setChloeNormalState()},
dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:xe});var We=function(){y.call(this);this.ASSET_PATH="chapter_5/sfx/"};g["game.game.components.levels.level_13.LevelSoundFx13"]=We;We.__name__="game,game,components,levels,level_13,LevelSoundFx13".split(",");We.__super__=y;We.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:We});var Xe=function(){this.toothFairyLookingAtChloe=
!0;x.call(this)};g["game.game.components.levels.level_13.SpawnManager13"]=Xe;Xe.__name__="game,game,components,levels,level_13,SpawnManager13".split(",");Xe.__super__=x;Xe.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_5/animations")},onUpdate:function(a){x.prototype.onUpdate.call(this,a);null!=this.toothFairy&&this.toothFairyLookingAtChloe&&(this._chloe.sprite.x._value>this.toothFairy.sprite.x._value?this.toothFairy.setMovieScaleX(-1):
this.toothFairy.setMovieScaleX(1))},setupMouse:function(a,b){this.mouse=new Ye(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.mouse));this.mouse.sprite.setXY(a,b+-0.5*this.mouse.getNaturalHeight())},setupToothFairy:function(a,b){this.toothFairy=new Ze(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.toothFairy));this.toothFairy.sprite.setXY(a+0.1*this.toothFairy.getNaturalWidth(),b+-0.6*this.toothFairy.getNaturalHeight())},toothFairyFollowChloe:function(a,
b){this.toothFairy.setPositionTrackerVariables(this._chloe,a,b,-this._chloe.getSprite().scaleX._value)},setupTeeth:function(a,b){this.teeth=new $e(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.teeth));this.teeth.sprite.setXY(a,b+-0.5*this.teeth.getNaturalHeight())},spawnMoneyBagAt:function(a,b){this.moneyBag=new Nc(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.moneyBag));this.moneyBag.sprite.setXY(a+0*this.moneyBag.getNaturalWidth(),
b)},disposeMoneyBag:function(){null!=this.moneyBag&&(this.disposeComponent(this.moneyBag),this.moneyBag=null)},disposeTeeth:function(){null!=this.teeth&&(this.teeth.owner.dispose(),this.teeth=null)},chloeSetViewToMouseDirection:function(){this._chloe.sprite.x._value>this.mouse.sprite.x._value?this._chloe.getSprite().scaleX.set__(-1):this._chloe.getSprite().scaleX.set__(1)},dispose:function(){x.prototype.dispose.call(this);this._assetLib=null;this.disposeComponent(this.mouse);this.disposeComponent(this.toothFairy);
this.disposeComponent(this.teeth);this.disposeComponent(this.moneyBag);this.moneyBag=this.teeth=this.toothFairy=this.mouse=null},__class__:Xe});var Ye=function(a){j.call(this,a)};g["game.game.components.levels.level_13.spawns.Mouse"]=Ye;Ye.__name__="game,game,components,levels,level_13,spawns,Mouse".split(",");Ye.__super__=j;Ye.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("mouse_sad")},__class__:Ye});var $e=function(a){j.call(this,a);this._lib=
a};g["game.game.components.levels.level_13.spawns.Teeth"]=$e;$e.__name__="game,game,components,levels,level_13,spawns,Teeth".split(",");$e.__super__=j;$e.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("mouse_floatingtooth")},setupMoreTeeth:function(){var a=new pc(this._lib);this.owner.addChild((new k).add(a));a.sprite.setXY(-1.5*a.getNaturalWidth(),-0.25*a.getNaturalHeight());var b=new pc(this._lib);this.owner.addChild((new k).add(b));b.sprite.setXY(1.4*
b.getNaturalWidth(),-0.35*b.getNaturalHeight());b=new pc(this._lib);this.owner.addChild((new k).add(b));b.sprite.setXY(1.2*a.getNaturalWidth(),-1.25*b.getNaturalHeight())},__class__:$e});var pc=function(a){j.call(this,a)};g["game.game.components.levels.level_13.spawns.Tooth"]=pc;pc.__name__="game,game,components,levels,level_13,spawns,Tooth".split(",");pc.__super__=j;pc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("mouse_floatingtooth")},__class__:pc});
var Ze=function(a){j.call(this,a)};g["game.game.components.levels.level_13.spawns.ToothFairy"]=Ze;Ze.__name__="game,game,components,levels,level_13,spawns,ToothFairy".split(",");Ze.__super__=j;Ze.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("wanda_poof");this._moviePlayer.playOnce("wanda_poof",e(this,this.onFinishedPoof));this.owner.add(new Lb)},onFinishedPoof:function(){this.loopWithDuration("toothfairy_hold_out_hand",e(this,this.onFinishedHoldOutHand),
1)},onFinishedHoldOutHand:function(){this.loop("toothfairy_idle2");this.setupBobbingAnimation()},setupBobbingAnimation:function(){null!=this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null,this._script.owner.dispose(),this._script=null);var a=this.sprite.y._value+-0.2*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a);this._script=new na;this._bobbingAction=this._script.run(a);this.owner.addChild((new k).add(this._script))},
setPositionTrackerVariables:function(a,b,c,f){this.owner._compMap.PositionTracker_40.setVariables(this.sprite,a,b,c,f,e(this,this.setupBobbingAnimation))},__class__:Ze});var ye=function(){this._isBeaverSnubActive=this._isDuckSnubActive=this._isCloneOne=!1;this._numberOfClones=0;this._isClonesActive=this._isBeaverActive=this._isDuckActive=this._isRoomActive=!1;s.call(this)};g["game.game.components.levels.level_14.LevelInteraction14"]=ye;ye.__name__="game,game,components,levels,level_14,LevelInteraction14".split(",");
ye.__super__=s;ye.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new Wa)},setupSpawnManager:function(){this._spawnManager=new af;this.owner.add(this._spawnManager)},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:this._isClonesActive||(this._isClonesActive=!0,this._spawnManager.setupClones(),this.playPoof(this._spawnManager.duckClone1.owner,0.5,-0.5),this.playPoof2(this._spawnManager.duckClone2.owner,0.5,-0.5),this._commonSfx.playSfx("object_pop_in"),
this._textAnimation.playGlowText(a.textSprite),this._numberOfClones=4)}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite;switch(a.id){case 2:if(!this._isBeaverActive){this._levelSfx.playSfx(Wa.BEAVER);this._isBeaverActive=!0;var c=b.x._value+0.5*b.getNaturalWidth();this._spawnManager.setupBeaver(c,b.y._value);this.playPoof(this._spawnManager.beaver.owner,0,-0.5);this._commonSfx.playSfx("object_pop_in");
this._textAnimation.playGlowText(a.textSprite);this._pageSignals.onChloeMovementInterrupted.emit();this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.beaver.getNaturalWidth())}break;case 3:this._isDuckActive||(this._levelSfx.playSfx(Wa.DUCK),this._isDuckActive=!0,c=b.x._value+0.5*b.getNaturalWidth(),this._spawnManager.setupDuck(c,b.y._value),this.playPoof(this._spawnManager.duck.owner,0,-0.5),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite),this._pageSignals.onChloeStepBack.emit(c,
this._spawnManager.duck.getNaturalWidth()));break;case 4:this._isDuckActive&&this._isBeaverActive?this._isRoomActive||(this._isRoomActive=!0,this._spawnManager.showRooms(),this.playPoof(this._spawnManager.beaver.owner,0,-0.5),this.playPoof2(this._spawnManager.duck.owner,0,-0.5),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},onUpdate:function(a){s.prototype.onUpdate.call(this,a);this._isClonesActive&&this.updateClonesInteraction()},
updateClonesInteraction:function(){this._isBeaverActive&&(this.collides(this._chloe.collider,this._spawnManager.beaver)&&(this._spawnManager.followDuck1||this._spawnManager.followDuck2)?this._isBeaverSnubActive||(this._isBeaverSnubActive=!0,this._spawnManager.beaver.loop("beaver_idlesnub")):this._isBeaverSnubActive&&(this._isBeaverSnubActive=!1,this._isRoomActive?this._spawnManager.beaver.loop("beaver_idlehappy"):this._spawnManager.beaver.loop("beaver_idlegrumpy")),this.collides(this._chloe.collider,
this._spawnManager.beaver)&&this._spawnManager.followBeaver1&&(this._spawnManager.followBeaver1=!1,this._spawnManager.beaverClone1.loop("beaver_idleclone"),this._isRoomActive&&(this._levelSfx.playSfx(Wa.HIGH_FIVE),this._pageSignals.onChloeStepBack.emit(this._chloe.sprite.x._value,3*this._chloe.getNaturalWidth()),this.loopChloeAnimation("chloe_idle"),this.onCosmoAndWandaPlayHappy(),this._spawnManager.beaverClone1.isActive=!1,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.beaverClone1.sprite.set_visible(!1),
this._spawnManager.beaver.setMovieScaleX(-1),this._isCloneOne=!1,this._spawnManager.beaver.playOnce("beaver_highfivev2",e(this,this.onHighFiveFinished)),m.callWithDelay(this.owner,new n(e(this,this.onBeaverPoof)),0.7))),this.collides(this._chloe.collider,this._spawnManager.beaver)&&this._spawnManager.followBeaver2&&(this._spawnManager.followBeaver2=!1,this._spawnManager.beaverClone2.loop("beaver_idleclone"),this._isRoomActive&&(this._levelSfx.playSfx(Wa.HIGH_FIVE),this._pageSignals.onChloeStepBack.emit(this._chloe.sprite.x._value,
3*this._chloe.getNaturalWidth()),this.loopChloeAnimation("chloe_idle"),this.onCosmoAndWandaPlayHappy(),this._spawnManager.beaverClone2.isActive=!1,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.beaverClone2.sprite.set_visible(!1),this._spawnManager.beaver.setMovieScaleX(1),this._isCloneOne=!0,this._spawnManager.beaver.playOnce("beaver_highfivev2",e(this,this.onHighFiveFinished)),m.callWithDelay(this.owner,new n(e(this,this.onBeaverPoof)),0.7))));this._isDuckActive&&(this.collides(this._chloe.collider,
this._spawnManager.duck)&&(this._spawnManager.followBeaver1||this._spawnManager.followBeaver2)?this._isDuckSnubActive||(this._isDuckSnubActive=!0,this._spawnManager.duck.loop("duck_idlesnub")):this._isDuckSnubActive&&(this._isDuckSnubActive=!1,this._isRoomActive?this._spawnManager.duck.loop("duck_idlehappy"):this._spawnManager.duck.loop("duck_idlegrumpy")),this.collides(this._chloe.collider,this._spawnManager.duck)&&this._spawnManager.followDuck2&&(this._spawnManager.followDuck2=!1,this._spawnManager.duckClone2.loop("duck_idleclone"),
this._isRoomActive&&(this._levelSfx.playSfx(Wa.HIGH_FIVE),this._pageSignals.onChloeStepBack.emit(this._chloe.sprite.x._value,5*-this._chloe.getNaturalWidth()),this._chloe.getSprite().scaleX.set__(-1),this.loopChloeAnimation("chloe_idle"),this.onCosmoAndWandaPlayHappy(),this._spawnManager.duckClone2.isActive=!1,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.duckClone2.sprite.set_visible(!1),this._isCloneOne=!1,this._spawnManager.duck.setMovieScaleX(1),this._spawnManager.duck.playOnce("duck_highfive",
e(this,this.onHighFiveFinished)),m.callWithDelay(this.owner,new n(e(this,this.onDuckPoof)),0.7))),this.collides(this._chloe.collider,this._spawnManager.duck)&&this._spawnManager.followDuck1&&(this._spawnManager.followDuck1=!1,this._spawnManager.duckClone1.loop("duck_idleclone"),this._isRoomActive&&(this._levelSfx.playSfx(Wa.HIGH_FIVE),this._pageSignals.onChloeStepBack.emit(this._chloe.sprite.x._value,3*-this._chloe.getNaturalWidth()),this._chloe.getSprite().scaleX.set__(-1),this.loopChloeAnimation("chloe_idle"),
this.onCosmoAndWandaPlayHappy(),this._spawnManager.duckClone1.isActive=!1,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.duckClone1.sprite.set_visible(!1),this._isCloneOne=!0,this._spawnManager.duck.setMovieScaleX(-1),this._spawnManager.duck.playOnce("duck_highfive",e(this,this.onHighFiveFinished)),m.callWithDelay(this.owner,new n(e(this,this.onDuckPoof)),0.7))));this._isRoomActive&&(!this._spawnManager.followBeaver1&&this._spawnManager.beaverClone1.isActive&&this.collides(this._chloe.collider,
this._spawnManager.beaverClone1)&&(this._spawnManager.followBeaver1=!0,this._spawnManager.followBeaver2=!1,this._spawnManager.followDuck1=!1,this._spawnManager.followDuck2=!1),!this._spawnManager.followDuck2&&this._spawnManager.duckClone2.isActive&&this.collides(this._chloe.collider,this._spawnManager.duckClone2)&&(this._spawnManager.followBeaver1=!1,this._spawnManager.followBeaver2=!1,this._spawnManager.followDuck1=!1,this._spawnManager.followDuck2=!0),!this._spawnManager.beaverClone1.isActive&&
!this._spawnManager.followDuck1&&this._spawnManager.duckClone1.isActive&&this.collides(this._chloe.collider,this._spawnManager.duckClone1)&&(this._spawnManager.followBeaver1=!1,this._spawnManager.followBeaver2=!1,this._spawnManager.followDuck1=!0,this._spawnManager.followDuck2=!1),!this._spawnManager.duckClone2.isActive&&!this._spawnManager.followBeaver2&&this._spawnManager.beaverClone2.isActive&&this.collides(this._chloe.collider,this._spawnManager.beaverClone2)&&(this._spawnManager.followBeaver2=
!0,this._spawnManager.followBeaver1=!1,this._spawnManager.followDuck1=!1,this._spawnManager.followDuck2=!1))},onBeaverPoof:function(){this._isCloneOne?this.playPoof(this._spawnManager.beaver.owner,0.8,-0.5):this.playPoof(this._spawnManager.beaver.owner,-0.8,-0.5);this._commonSfx.playSfx("object_pop_in")},onDuckPoof:function(){this._isCloneOne?this.playPoof(this._spawnManager.duck.owner,-0.8,-0.5):this.playPoof(this._spawnManager.duck.owner,0.8,-0.5);this._commonSfx.playSfx("object_pop_in")},onHighFiveFinished:function(){this.setChloeNormalState();
this._cosmo.animation.loop("cosmo_worried");this._wanda.animation.loop("wanda_worried");this._numberOfClones--;this._pageSignals.onChloeMovementInterrupted.emit();0==this._numberOfClones&&(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.beaver.loop("beaver_idle_cheer"),this._spawnManager.duck.loop("duck_idlecheer"));m.callWithDelay(this.owner,new n(e(this,this.onNoClones)),1.5)},onNoClones:function(){0==this._numberOfClones&&(this._spawnManager.beaver.sprite.set_visible(!1),this._spawnManager.duck.sprite.set_visible(!1),
this._spawnManager.beaverRoom.sprite.set_visible(!1),this._spawnManager.duckRoom.sprite.set_visible(!1),this.playPoof(this._spawnManager.beaver.owner,0,-0.5),this.playPoof2(this._spawnManager.duck.owner,0,-0.5),this._commonSfx.playSfx("object_pop_in"),this.onFinishedGame())},collides:function(a,b){return null!=b&&null!=b.collider&&a.collidesWith(b.collider.boxCollider)?!0:!1},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:ye});var Wa=function(){y.call(this);this.ASSET_PATH=
"chapter_5/sfx/"};g["game.game.components.levels.level_14.SoundFX14"]=Wa;Wa.__name__="game,game,components,levels,level_14,SoundFX14".split(",");Wa.__super__=y;Wa.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:Wa});var af=function(){this.followDuck1=this.followDuck2=this.followBeaver1=this.followBeaver2=!1;x.call(this)};g["game.game.components.levels.level_14.SpawnManager14"]=af;af.__name__=
"game,game,components,levels,level_14,SpawnManager14".split(",");af.__super__=x;af.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_5/animations");this.duckRoom=new bf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.duckRoom));this.beaverRoom=new cf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.beaverRoom))},setupClones:function(){this.beaverClone1=new Oc(this._assetLib);
this._storyManagerFields.backgroundLayer.addChild((new k).add(this.beaverClone1));this.beaverClone2=new Oc(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.beaverClone2));this.duckClone1=new Pc(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.duckClone1));this.duckClone2=new Pc(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.duckClone2));var a=this._pageFields.textSprites[0],b=this._pageFields.textSprites[this._pageFields.textSprites.length-
1];this.duckClone1.sprite.setXY(a.x._value+0.5*a.getNaturalWidth()-0.5*this.duckClone1.getNaturalWidth(),a.y._value);this.duckClone2.sprite.setXY(b.x._value+0.5*b.getNaturalWidth()-0.5*this.duckClone2.getNaturalWidth(),b.y._value);this.beaverClone1.sprite.setXY(a.x._value+0.5*a.getNaturalWidth()+0.25*this.beaverClone1.getNaturalWidth(),a.y._value);this.beaverClone2.sprite.setXY(b.x._value+0.5*b.getNaturalWidth()+0.25*this.beaverClone2.getNaturalWidth(),b.y._value)},setupBeaver:function(a,b){this.beaverRoom.sprite.set_visible(!1);
this.beaver=new df(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.beaver));this.beaver.sprite.setXY(a,b)},setupDuck:function(a,b){this.duckRoom.sprite.set_visible(!1);this.duck=new ef(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.duck));this.duck.sprite.setXY(a,b)},showRooms:function(){this.duckRoom.sprite.setXY(this.duck.sprite.x._value,this.duck.sprite.y._value);this.beaverRoom.sprite.setXY(this.beaver.sprite.x._value,this.beaver.sprite.y._value);
this.duckRoom.sprite.set_visible(!0);this.duckRoom.playOnce("hous2pop");this.beaverRoom.sprite.set_visible(!0);this.beaverRoom.playOnce("house1pop");this.duck.loop("duck_idlehappy");this.beaver.loop("beaver_idlehappy")},onUpdate:function(a){null!=this.beaverClone1&&this.followBeaver1&&(this.beaverClone1.follow(this._chloe,a),this.beaverClone1.currentChloeLaneNumber=this._chloe.get_moveManager().currentLineNumberStandingOn,null!=this.beaver&&this.beaver.setMovieScaleX(-1));null!=this.beaverClone2&&
this.followBeaver2&&(this.beaverClone2.follow(this._chloe,a),this.beaverClone2.currentChloeLaneNumber=this._chloe.get_moveManager().currentLineNumberStandingOn,null!=this.beaver&&this.beaver.setMovieScaleX(1));null!=this.duckClone2&&this.followDuck2&&(this.duckClone2.follow(this._chloe,a),this.duckClone2.currentChloeLaneNumber=this._chloe.get_moveManager().currentLineNumberStandingOn,null!=this.duck&&this.duck.setMovieScaleX(1));null!=this.duckClone1&&this.followDuck1&&(this.duckClone1.follow(this._chloe,
a),this.duckClone1.currentChloeLaneNumber=this._chloe.get_moveManager().currentLineNumberStandingOn,null!=this.duck&&this.duck.setMovieScaleX(-1))},dispose:function(){x.prototype.dispose.call(this);null!=this.duckClone1&&this.duckClone1.owner.dispose();this.duckClone1=null;null!=this.duckClone2&&this.duckClone2.owner.dispose();this.duckClone2=null;null!=this.duck&&this.duck.owner.dispose();this.duck=null;null!=this.duckRoom&&this.duckRoom.owner.dispose();this.duckRoom=null;null!=this.beaverClone1&&
this.beaverClone1.owner.dispose();this.beaverClone1=null;null!=this.beaverClone2&&this.beaverClone2.owner.dispose();this.beaverClone2=null;null!=this.beaver&&this.beaver.owner.dispose();this.beaver=null;null!=this.beaverRoom&&this.beaverRoom.owner.dispose();this._assetLib=this.beaverRoom=null},__class__:af});var df=function(a){j.call(this,a)};g["game.game.components.levels.level_14.spawns.Beaver"]=df;df.__name__="game,game,components,levels,level_14,spawns,Beaver".split(",");df.__super__=j;df.prototype=
l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("beaver_idlegrumpy")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1.5,1);this.sprite.disablePointer()},__class__:df});var Oc=function(a){this.isActive=this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=1;j.call(this,a)};g["game.game.components.levels.level_14.spawns.BeaverClone"]=Oc;Oc.__name__="game,game,components,levels,level_14,spawns,BeaverClone".split(",");Oc.__super__=j;
Oc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("beaver_idleclone");this.isActive=!0},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1.2,1);this.sprite.disablePointer()},follow:function(a,b){if(null!=this.collider)if(a.collidesWith(this.collider.boxCollider))this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("beaver_idleclone"));else{a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&
(this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var c=a.sprite.x._value+-1*a.getNaturalWidth(),f=a.sprite.x._value+a.getNaturalWidth();this.sprite.x._value<c&&(c=this.sprite.x,c.set__(c._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("beaver_walk")));
this.sprite.x._value>f&&(f=this.sprite.x,f.set__(f._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("beaver_walk")))}},__class__:Oc});var cf=function(a){j.call(this,a)};g["game.game.components.levels.level_14.spawns.BeaverRoom"]=cf;cf.__name__="game,game,components,levels,level_14,spawns,BeaverRoom".split(",");cf.__super__=j;cf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);
this._moviePlayer.loop("house1idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1);this.sprite.disablePointer()},__class__:cf});var ef=function(a){j.call(this,a)};g["game.game.components.levels.level_14.spawns.Duck"]=ef;ef.__name__="game,game,components,levels,level_14,spawns,Duck".split(",");ef.__super__=j;ef.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("duck_idlegrumpy")},onStart:function(){j.prototype.onStart.call(this);
this.setupCollider(1,1);this.sprite.disablePointer()},__class__:ef});var Pc=function(a){this.isActive=this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=1;j.call(this,a)};g["game.game.components.levels.level_14.spawns.DuckClone"]=Pc;Pc.__name__="game,game,components,levels,level_14,spawns,DuckClone".split(",");Pc.__super__=j;Pc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("duck_idleclone");this.isActive=!0},onStart:function(){j.prototype.onStart.call(this);
this.setupCollider(2,1);this.sprite.disablePointer()},follow:function(a,b){if(null!=this.collider)if(a.collidesWith(this.collider.boxCollider))this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("duck_idleclone"));else{a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&(this.currentChloeLaneNumber=a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var c=a.sprite.x._value+
-0.8*a.getNaturalWidth(),f=a.sprite.x._value+0.8*a.getNaturalWidth();this.sprite.x._value<c&&(c=this.sprite.x,c.set__(c._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1),this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("duck_walk")));this.sprite.x._value>f&&(f=this.sprite.x,f.set__(f._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1),this._moveAnimationIsPlaying||
(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("duck_walk")))}},__class__:Pc});var bf=function(a){j.call(this,a)};g["game.game.components.levels.level_14.spawns.DuckRoom"]=bf;bf.__name__="game,game,components,levels,level_14,spawns,DuckRoom".split(",");bf.__super__=j;bf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("hous2idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1);this.sprite.disablePointer()},__class__:bf});
var ze=function(){this._foopActivated=this._daRuleBookActivated=!1;s.call(this)};g["game.game.components.levels.level_15.LevelInteraction15"]=ze;ze.__name__="game,game,components,levels,level_15,LevelInteraction15".split(",");ze.__super__=s;ze.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new qc)},setupSpawnManager:function(){this._spawnManager=new ff;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,
a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite,c=b.x._value+0.5*b.getNaturalWidth(),b=b.y._value;switch(a.id){case 1:this._foopActivated||(this._foopActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.playChloeAnimation("chloe_shocked",e(this,this.onFinishedchloeShocked)),this._spawnManager.setupFoop(c,b),this._spawnManager.foop.setupBobbingAnimation(),this._spawnManager.foop.playOnce("foop_spawn",e(this,this.onFinishedFoopSpawn)),
this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.foop.getNaturalWidth()),this._commonSfx.playSfx("poof"),this._textAnimation.playGlowText(a.textSprite));break;case 2:this.setChloeState(o.ON_ANIMATION_TRANSITION);this._commonSfx.playSfx("poof");this.onCosmoPlayDenied();m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),3);this._textAnimation.playGlowText(a.textSprite);break;case 3:this.setChloeState(o.ON_ANIMATION_TRANSITION);this._commonSfx.playSfx("poof");this.onCosmoPlayDenied();
m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),3);this._textAnimation.playGlowText(a.textSprite);break;case 4:this._foopActivated?this._spawnManager.maxFairyNumberHasReached()?this._daRuleBookActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._daRuleBookActivated=!0,this._spawnManager.setupDaRuleBook(c,b),this._pageSignals.onChloeStepBack.emit(c,this._spawnManager.daRuleBook.getNaturalWidth()),this._commonSfx.playSfx("object_pop_in"),this.playPoof(this._spawnManager.daRuleBook.owner,
0,-0.5),c=0.5*i.get_scaledStageWidth(),b=0.4*i.get_scaledStageHeight(),this._spawnManager.foop.disposeBobAnimation(),this._spawnManager.foop.sprite.x.animateTo(c,1),this._spawnManager.foop.sprite.y.animateTo(b,1),m.callWithDelay(this.owner,new ma(e(this,this.onApproachFoop),2),1),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking():this.playChloeThinking();break;case 5:this._foopActivated?this._spawnManager.maxFairyNumberHasReached()||(this.setChloeState(o.ON_ANIMATION_TRANSITION),
this._spawnManager.addFairy(c,b),this.playPoof(this._spawnManager.fairies[this._spawnManager.fairies.length-1].owner,0,-0.5),this._commonSfx.playSfx("poof"),m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),1),this._cosmo.animation.loop("cosmo_happy"),this._wanda.animation.loop("wanda_happy"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},onFoopPanic:function(){this._levelSfx.playSfx(qc.SCARED);this._spawnManager.foop.playOnce("foop_fear",e(this,this.onFinishedFoopFear))},
onFinishedFoopFear:function(){var a=this._spawnManager.foop;a.loop("foop_idle");a.sprite.scaleX.set__(-1);var b=-0.2*i.get_scaledStageWidth(),c=-0.2*i.get_scaledStageHeight();a.disposeBobAnimation();a.sprite.x.animateTo(b,1);a.sprite.y.animateTo(c,1);m.callWithDelay(this.owner,new n(e(this,this.onPoofOutAllFairiesOneByOne)),1)},onPoofOutAllFairiesOneByOne:function(){for(var a=this,b=0,c=this._spawnManager.fairies.length;b<c;){var f=[b++];m.callWithDelay(this.owner,new n(function(b){return function(){var c=
a._spawnManager.fairies[b[0]];c.sprite.set_visible(!1);a.playPoof(c.owner,0,-0.5);a._commonSfx.playSfx("poof")}}(f)),0.25*f[0])}m.callWithDelay(this.owner,new n(e(this,this.onFinishedGame)),3)},onApproachFoop:function(a){var b=this._spawnManager.foop.sprite.x._value,c=this._spawnManager.foop.sprite.y._value;this._spawnManager.foop.getNaturalWidth();this._spawnManager.foop.getNaturalHeight();for(var f=2*this._spawnManager.foop.getNaturalWidth(),d=this._spawnManager.fairies.length,g=360/d,i=0;i<d;){var h=
i++,j=Fd.getViewVector(g*h);j.normalize();h=this._spawnManager.fairies[h];h.disposeBobAnimation();var k=c+j.y*f;h.sprite.x.animateTo(b+j.x*f,a);h.sprite.y.animateTo(k,a);h.viewX(b);m.callWithDelay(this.owner,new n(e(h,h.setupBobbingAnimation)),a+0.1)}m.callWithDelay(this.owner,new n(e(this,this.onFoopPanic)),a+1);this.onChloeViewPoof();this._spawnManager.foop.setupBobbingAnimation()},onChloeViewPoof:function(){this._spawnManager.foop.sprite.x._value<this._chloe.sprite.x._value?this._chloe.getSprite().scaleX.set__(-1):
this._chloe.getSprite().scaleX.set__(1)},onFinishedchloeShocked:function(){this.loopChloeAnimation("chloe_idle")},onFinishedFoopSpawn:function(){this._commonSfx.playSfx("foop- evil laugh");this._spawnManager.foop.loopWithDuration("foop_laughing",e(this,this.onFinishedFoopLaughing),1.5)},onFinishedFoopLaughing:function(){this.setChloeNormalState();this._spawnManager.foop.loop("foop_idle")},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:ze});var qc=function(){y.call(this);
this.ASSET_PATH="chapter_5/sfx/"};g["game.game.components.levels.level_15.SoundFX15"]=qc;qc.__name__="game,game,components,levels,level_15,SoundFX15".split(",");qc.__super__=y;qc.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:qc});var ff=function(){this._fairiesCount=0;this.fairies=[];x.call(this)};g["game.game.components.levels.level_15.SpawnManager15"]=ff;ff.__name__="game,game,components,levels,level_15,SpawnManager15".split(",");
ff.__super__=x;ff.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_5/animations")},setupFoop:function(a,b){this.foop=new gf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.foop));this.foop.sprite.setXY(a,b+-0.75*this.foop.getNaturalHeight())},setupDaRuleBook:function(a,b){this.daRuleBook=new hf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.daRuleBook));this.daRuleBook.sprite.setXY(a,
b+-0.5*this.daRuleBook.getNaturalHeight())},addFairy:function(a,b){var c=new jf(this._assetLib,++this._fairiesCount);this._storyManagerFields.backgroundLayer.addChild((new k).add(c));var f=a;if(0<this.fairies.length){var f=this.fairies[this._fairiesCount-2],d=this._fairiesCount-1;8<=d?(f=8==d?this._chloe.sprite.x._value-c.getNaturalWidth():f.sprite.x._value-c.getNaturalWidth(),c.setMovieScaleX(-1)):f=f.sprite.x._value+f.getNaturalWidth()}else f=a+c.getNaturalWidth();c.sprite.setXY(f,b+-0.5*c.getNaturalHeight());
c.setupBobbingAnimation();this.fairies.push(c)},maxFairyNumberHasReached:function(){return 11<=this._fairiesCount?!0:!1},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.foop);this.disposeComponent(this.daRuleBook);this._assetLib=this.fairies=this.daRuleBook=this.foop=null},__class__:ff});var hf=function(a){j.call(this,a)};g["game.game.components.levels.level_15.spawns.DaRuleBook"]=hf;hf.__name__="game,game,components,levels,level_15,spawns,DaRuleBook".split(",");hf.__super__=
j;hf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this.loop("da_rules")},__class__:hf});var jf=function(a,b){this._viewX=-1;j.call(this,a);this._fairyNumber=b};g["game.game.components.levels.level_15.spawns.Fairy"]=jf;jf.__name__="game,game,components,levels,level_15,spawns,Fairy".split(",");jf.__super__=j;jf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this.loop("fairy"+this._fairyNumber)},onUpdate:function(a){j.prototype.onUpdate.call(this,
a);-1!=this._viewX&&(this.sprite.x._value<this._viewX?this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1):this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1))},disposeBobAnimation:function(){null!=this._bobDisposable&&(this._bobDisposable.dispose(),this._bobDisposable=null,this._script.owner.dispose(),this._script=null)},setupBobbingAnimation:function(){this.disposeBobAnimation();var a=this.sprite.y._value+-0.2*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,
a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a);this._script=new na;this._bobDisposable=this._script.run(a);this.owner.addChild((new k).add(this._script))},viewX:function(a){this._viewX=a},__class__:jf});var gf=function(a){j.call(this,a)};g["game.game.components.levels.level_15.spawns.Foop"]=gf;gf.__name__="game,game,components,levels,level_15,spawns,Foop".split(",");gf.__super__=j;gf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this.loop("foop_idle")},disposeBobAnimation:function(){null!=
this._bobDisposable&&(this._bobDisposable.dispose(),this._bobDisposable=null,this._script.owner.dispose(),this._script=null)},setupBobbingAnimation:function(){this.disposeBobAnimation();var a=this.sprite.y._value+-0.2*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a);this._script=new na;this._bobDisposable=this._script.run(a);this.owner.addChild((new k).add(this._script))},__class__:gf});var Lc=function(){this._isSetCarefulIdleFirst=
!0;this._chloeCollidesWithEnemy=this._chloeStepOutsideEnemyCollision=!1;this._currentItemTextActivated=null;this._currentItemIdActivated=-1;this._gameOver=!1;this.frogPlayInteract=new K;this._frogIsActivated=this._axeIsActivated=this._kissIsActivated=!1;s.call(this)};g["game.game.components.levels.level_2.LevelInteraction2"]=Lc;Lc.__name__="game,game,components,levels,level_2,LevelInteraction2".split(",");Lc.__super__=s;Lc.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);
this.owner.add(new rc);this.setupLevelSfx(new kf)},onStart:function(){s.prototype.onStart.call(this);this.setupListeners()},onUpdate:function(a){s.prototype.onUpdate.call(this,a);null!=this._frog&&null!=this._chloe&&this._chloe.state!=o.ON_ANIMATION_TRANSITION&&(this._chloe.collidesWith(this._frog.collider.boxCollider)?(this._chloeStepOutsideEnemyCollision=!1,this._chloeCollidesWithEnemy||(this.setCollisionAnimation(),this._chloeCollidesWithEnemy=!0)):(this._chloeCollidesWithEnemy=!1,this._chloeStepOutsideEnemyCollision||
(this.setNotCollidingAnimation(),this._chloeStepOutsideEnemyCollision=!0)));if(null!=this._frog&&0!=(this._frog._flags&2)&&this._frog.x._value>this._pageFields.lineLimitWidth1){var a=this.owner._compMap.AnimationFX1_25,b=new xa("enemy_poof",this._frog.x._value,this._frog.y._value-0.5*this._frog.getNaturalHeight());this._frog.set_visible(!1);a.playAnimationFX2(b);this._commonSfx.playSfx("poof")}},setCollisionAnimation:function(){if(this._chloe.state!=o.ON_ANIMATION_TRANSITION){this.playCollidedToEnemySfx();
var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 5:this._chloe.set_state(o.CAREFUL_HOLDING_ITEM);a.moviePlayerChloe.loop("chloe_careful_holding_walk");break;case 2:this._chloe.set_state(o.HAS_GUITAR_CAREFUL);a.moviePlayerChloe.loop("chloe_careful_guitar");break;case 0:this._chloe.set_state(o.CAREFUL),this._isSetCarefulIdleFirst?a.moviePlayerChloe.loop("chloe_careful"):(a.moviePlayerChloe.loop("chloe_careful_idle"),this._isSetCarefulIdleFirst=!0)}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=
0.1*i.get_scaledStageWidth()}},setNotCollidingAnimation:function(){if(this._chloe.state!=o.ON_ANIMATION_TRANSITION){var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 3:this._chloe.set_state(o.HAS_GUITAR);a.moviePlayerChloe.loop("chloe_walk_guitar");break;case 6:this._chloe.set_state(o.NORMAL),a.moviePlayerChloe.loop("chloe_walk")}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=0.4*i.get_scaledStageWidth()}},onActivateKeyword:function(a){var b;b=this.owner._internal_getFromChildren("Chloe_41");
var c=this._pageFields.keywordIds.get(a.textSprite._text);switch(c){case 2:this._axeIsActivated||(this._frogIsActivated?(this._axeIsActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._pageSignals.onChloeChangeItem.emit(null,!0),b.pageSignals.onChloeSetAnimation.emit("chloe_idle_guitar",!0),this.setChloeState(o.HAS_GUITAR),this._currentItemIdActivated=c,this._currentItemTextActivated=a.textSprite._text,this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):
this.playChloeThinking());break;case 3:this._kissIsActivated||(this._axeIsActivated?(this._kissIsActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.chloeFaceFrog(),this._currentItemIdActivated=c,this._currentItemTextActivated=a.textSprite._text,this._pageSignals.onChloeSetAnimation.emit("chloe_interact_guitar",!0),m.callWithDelay(this.owner,new n(e(this,this.onFrogInteract)),2),this._levelSfx.playSfx("guitar",!0),this._textAnimation.playGlowText(a.textSprite),this._commonSfx.stopBgm()):
this.playChloeThinking())}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onActivateKeyword(a)},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:if(a.textSprite.x._value>this._chloe.sprite.x._value)break;this._frogIsActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._chloe.get_moveManager().stopMoving(),this._frogIsActivated=this._isSetCarefulIdleFirst=!0,this._pageSignals.onShowFrog.emit(a.textSprite),this.playFrogPoof(),
this._pageSignals.onChloeStepBack.emit(a.textSprite.x._value+0.5*a.textSprite.getNaturalWidth(),this._frog.getNaturalWidth()),this._pageSignals.onChloeSetAnimation.emit("chloe_grossed",!1),m.callWithDelay(this.owner,new ma(e(this,this.setChloeState),o.NORMAL),1),m.callWithDelay(this.owner,new n(e(this,this.emitMoveInterrupted)),1),this._commonSfx.playSfx("poof"),this._textAnimation.playGlowText(a.textSprite))}},onKeyDown:function(a){this._axeIsActivated||s.prototype.onKeyDown.call(this,a)},setupListeners:function(){this._pageSignals=
this.owner._compMap.PageSignals_44;this._disposer.add(this._pageSignals.onContinuationPreviousPage.connect(e(this,this.onContinuationPreviousPage)));this._disposer.add(this._pageSignals.onContinuationNextPage.connect(e(this,this.onContinuationNextPage)))},frogRunAway:function(){var a=this;this._pageSignals.onChloeChangeItem.emit(null,!0);this._pageSignals.onFrogRunAway.emit();this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0})},onContinuationPreviousPage:function(){this._gameOver||
(this.owner._compMap.LevelSprite2_52.dispose(),this.owner.add(new rc),this._pageSignals.onChloePlayIdle.emit(),m.callWithDelay(this.owner,new n(e(this,this.onShowAlreadyActivatedKeywords)),0.75))},onContinuationNextPage:function(){this._gameOver||(this.owner._compMap.LevelSprite2_52.dispose(),this.owner.add(new rc),this._pageSignals.onChloePlayIdle.emit(),m.callWithDelay(this.owner,new n(e(this,this.onShowAlreadyActivatedKeywords)),0.85))},onShowAlreadyActivatedKeywords:function(){for(var a=this._pageFields.getActivatedTextSprites(),
b=0;b<a.length;){var c=a[b];++b;switch(this._pageFields.keywordIds.get(c._text)){case 1:this._pageSignals.onShowFrog.emit(c);this.playFrogPoof();this._chloe.pageSignals.onChloeStepBack.emit(this._frog.x._value,this._frog.getNaturalWidth());break;case 2:this._pageSignals.onChloeChangeItem.emit(null,!0),this._pageSignals.onChloeSetAnimation.emit("chloe_idle_guitar",!0),this.setChloeState(o.HAS_GUITAR)}}},playFrogPoof:function(){this._frog=this.owner._internal_getFromChildren("Sprite_1",mc);var a=this._frog.x._value+
0.5*this._frog.getNaturalWidth(),b=this._frog.y._value+-0.25*this._frog.getNaturalHeight();this._pageSignals.onPlayAnimationSfx1.emit(new xa("enemy_poof",a,b))},chloeFaceFrog:function(){this._pageFields.chloe.sprite.x._value>this._frog.x._value?this._pageFields.chloe.getSprite().scaleX.set__(-1):this._pageFields.chloe.getSprite().scaleX.set__(1)},onFrogInteract:function(){this._frog.moviePlayer.loop("frog_interact");this._levelSfx.playSfx("heart_pop",!0);m.callWithDelay(this.owner,new n(e(this,this.onFinishedFrogInteract)),
2)},onFinishedFrogInteract:function(){m.callWithDelay(this.owner,new n(e(this,this.onChloePlayFlyingKiss)),2)},onChloePlayFlyingKiss:function(){m.callWithDelay(this.owner,new n(e(this,this.playChloeKiss)),0.3);this._levelSfx.stopSfx("guitar");this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.playOnce("chloe_flyingkiss",e(this,this.onFlyingKissFinished))},playChloeKiss:function(){this._levelSfx.playSfx("frog_kiss")},onFlyingKissFinished:function(){this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.loop("chloe_idle");
this._frog.moviePlayer.playOnce("frog_in_loved",e(this,this.onFinishedPlayingFrogInLoved))},onFinishedPlayingFrogInLoved:function(){this._levelSfx.stopSfx("heart_pop");this.frogRunAway()},dispose:function(){this.owner._compMap.LevelSprite2_52.dispose();s.prototype.dispose.call(this);this._frog=this.frogPlayInteract=null},__class__:Lc});var kf=function(){y.call(this);this.ASSET_PATH="chapter_1/sfx/"};g["game.game.components.levels.level_2.LevelSoundFx2"]=kf;kf.__name__="game,game,components,levels,level_2,LevelSoundFx2".split(",");
kf.__super__=y;kf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:kf});var rc=function(){h.call(this)};g["game.game.components.levels.level_2.LevelSprite2"]=rc;rc.__name__="game,game,components,levels,level_2,LevelSprite2".split(",");rc.__super__=h;rc.prototype=l(h.prototype,{get_name:function(){return"LevelSprite2_52"},onAdded:function(){h.prototype.onAdded.call(this);this._storyManagerFields=
this.owner._internal_getFromParents("StoryManagerFields_42");this.setupFrog()},setupFrog:function(){var a=new k;this._storyManagerFields.backgroundLayer.addChild(a);a.add(new mc)},dispose:function(){this.owner._internal_getFromChildren("Sprite_1",mc).owner.dispose();h.prototype.dispose.call(this)},__class__:rc});var ne=function(){this._currentlyInteractingWithBear=this._chloeCollidesWithEnemy=this._chloeStepOutsideEnemyCollision=!1;this._currentItemTextActivated=null;this._currentItemId=-1;this._bearIsActivated=
this._tickleIsActivated=this._tickleAnimationIsActivated=this._newspaperIsActivated=!1;s.call(this)};g["game.game.components.levels.level_3.LevelInteraction3"]=ne;ne.__name__="game,game,components,levels,level_3,LevelInteraction3".split(",");ne.__super__=s;ne.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.initializeBear();this.setupLevelSfx(new lf)},onStart:function(){s.prototype.onStart.call(this);this.setupListeners()},onUpdate:function(a){s.prototype.onUpdate.call(this,
a);if(null!=this._bear&&!this._currentlyInteractingWithBear&&null==this._door&&this._chloe.collidesWith(this._bear.collider.boxCollider))switch(a=this.owner._compMap.PageSignals_44,this._currentItemId){case 2:this._currentlyInteractingWithBear=!0;this.poofItemOut();this.setChloeState(o.ON_ANIMATION_TRANSITION);this._chloe.pageSignals.onChloeSetAnimation.emit("chloe_idle",!0);m.callWithDelay(this.owner,new n(e(this,this.onBearInteract)),0.2);this._pageSignals.onChloeMovementInterrupted.emit();break;
case 3:this._tickleAnimationIsActivated||(this._tickleAnimationIsActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.owner._internal_getFromChildren("ItemAnimation_47").onItemDisappear(),a.onRemovedActivatedKey.emit(this._currentItemTextActivated),this._currentItemTextActivated=null,this._chloeAnimation=this.owner._internal_getFromChildren("ChloeAnimation_46"),this._chloeAnimation.moviePlayerChloe.playOnce("interact_feather",e(this,this.onFinishedFeatherInteractAnimation)),m.callWithDelay(this.owner,
new n(e(this,this.onPlayBearTickleSfx)),0.4),this._pageSignals.onChloeMovementInterrupted.emit())}null!=this._bear&&0!=(this._bear.bearSprite._flags&2)&&null==this._door&&(this._chloe.collidesWith(this._bear.collider.boxCollider)&&-1==this._currentItemId?(this._chloeStepOutsideEnemyCollision=!1,this._chloeCollidesWithEnemy||(this.setCollisionAnimation(),this._chloeCollidesWithEnemy=!0)):(this._chloeCollidesWithEnemy=!1,this._chloeStepOutsideEnemyCollision||(this.setNotCollidingAnimation(),this._chloeStepOutsideEnemyCollision=
!0)));if(null!=this._bear&&0!=(this._bear.bearSprite._flags&2)&&this._bear.bearSprite.x._value<this._chloe.pageFields.startingX){var a=this.owner._compMap.AnimationFX1_25,b=new xa("enemy_poof",this._bear.bearSprite.x._value,this._bear.bearSprite.y._value-0.5*this._bear.bearSprite.getNaturalHeight());this._bear.bearSprite.set_visible(!1);a.playAnimationFX2(b);this._commonSfx.playSfx("poof")}},onPlayBearTickleSfx:function(){this._levelSfx.playSfx("bear_tickle")},setCollisionAnimation:function(){this.playCollidedToEnemySfx();
var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 0:this._chloe.set_state(o.CAREFUL),a.moviePlayerChloe.loop("chloe_careful")}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=0.1*i.get_scaledStageWidth()},setNotCollidingAnimation:function(){var a=this._chloe.owner._compMap.ChloeAnimation_46;switch(this._chloe.state[1]){case 6:this._chloe.set_state(o.NORMAL),a.moviePlayerChloe.loop("chloe_walk")}this._chloe.owner._compMap.ChloeMoveManager_43.horizontalSpeed=
0.4*i.get_scaledStageWidth()},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:this._bearIsActivated||(this._bearIsActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.setupBear(a.textSprite),this.stepBackChloe(),this._bear.bearSprite.moviePlayer.playOnce(Fa.ROAR),this.playEnemyPoof(a.textSprite.x._value+0.5*this._bear.bearSprite.getNaturalWidth(),a.textSprite.y._value+-0.5*this._bear.bearSprite.getNaturalHeight()),this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.playOnce("chloe_scared",
e(this,this.onChloeScaredAnimationWithOutItemFinished)),this._commonSfx.playSfx("poof"),this._levelSfx.playSfx("bear_roar"),m.callWithDelay(this.owner,new ma(e(this,this.setChloeState),o.NORMAL),1),this._pageSignals.onChloeMovementInterrupted.emit(),this._textAnimation.playGlowText(a.textSprite))}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onActivateKeyword(a)},onActivateKeyword:function(a){var b=this.owner._compMap.PageSignals_44,c;
c=this.owner._internal_getFromChildren("ItemAnimation_47");if(a.activated)switch(a.id){case 2:this._bearIsActivated?!this._newspaperIsActivated&&this._tickleIsActivated&&-1==this._currentItemId&&(this._newspaperIsActivated=!0,b.onChloeChangeItem.emit(null,!0),c.moviePlayerItems.loop("newspaper"),c.movieSpriteItems.set_visible(!0),this._currentItemId=a.id,this.setChloeState(o.HOLDING_ITEM),this._currentItemTextActivated=a.textSprite._text,this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):
this.playChloeThinking();break;case 3:this._bearIsActivated?this._tickleIsActivated||(this._tickleIsActivated=!0,b.onChloeChangeItem.emit(null,!0),c.moviePlayerItems.loop("feather"),c.movieSpriteItems.set_visible(!0),this._currentItemId=a.id,this.setChloeState(o.HOLDING_ITEM),this._currentItemTextActivated=a.textSprite._text,this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},initializeBear:function(){this._bear=new Ld;this._storyManagerFields.backgroundLayer.add(this._bear);
this._bear.bearSprite.set_visible(!1)},onBearInteract:function(){var a=this.owner._compMap.AnimationFX1_25,b=this._bear.bearSprite.x._value+0.15*this._bear.bearSprite.getNaturalWidth(),c=this._bear.bearSprite.y._value+-0.4*this._bear.bearSprite.getNaturalHeight(),b=new xa("generic_poof",b,c);a.onPlayGenericPoof(b);this._bear.bearSprite.moviePlayer.playOnce(Fa.INTERACT,e(this,this.onFinishedBearInteractAnimation));this._levelSfx.playSfx("bear_newspaperget");this._commonSfx.playSfx("object_pop_in")},
onFinishedBearInteractAnimation:function(){var a=this;this._bear.bearSprite.moviePlayer.loop(Fa.WALK);this._bear.chloe=null;var b=this._bear.bearSprite;b.x._value>i.get_scaledStageWidth()?(b.scaleX.set__(-1),b.x.animateBy(0.7*i.get_scaledStageWidth(),5)):(b.scaleX.set__(1),b.x.animateBy(-0.7*i.get_scaledStageWidth(),5));this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0})},onFinishedFeatherInteractAnimation:function(){this._bear.bearSprite.moviePlayer.playOnce(Fa.ROAR,e(this,
this.onBearBackToNormal));this._levelSfx.playSfx("bear_roar");m.callWithDelay(this.owner,new n(e(this,this.onChloePlayScaredAnimation)),0.1);m.callWithDelay(this.owner,new n(e(this,this.poofItemOut)),0.1);m.callWithDelay(this.owner,new n(e(this,this.stepBackChloe)),0.5)},poofItemOut:function(){this._chloe.pageSignals.onChloeChangeItem.emit(null,!0);this._commonSfx.playSfx("object_pop_in")},onChloePlayScaredAnimation:function(){this.owner._internal_getFromChildren("ChloeAnimation_46").moviePlayerChloe.playOnce("chloe_scared",
e(this,this.onChloeScaredAnimationWithOutItemFinished));this._levelSfx.playSfx("chloe- ah")},onChloeScaredAnimationWithOutItemFinished:function(){var a;a=this.owner._internal_getFromChildren("ChloeAnimation_46");this.setChloeState(o.NORMAL);a.moveState=fa.STATIC;this._chloe.pageSignals.onChloeSetAnimation.emit("chloe_idle",!0)},onBearBackToNormal:function(){this._bear.bearSprite.moviePlayer.loop(Fa.IDLE)},setupListeners:function(){},onKeyDown:function(a){!this._newspaperIsActivated&&!this._tickleIsActivated&&
s.prototype.onKeyDown.call(this,a)},playEnemyPoof:function(a,b){this._chloe.pageSignals.onPlayAnimationSfx1.emit(new xa("enemy_poof",a,b,e(this,this.onFinishedEnemyPoof)))},onFinishedEnemyPoof:function(){},stepBackChloe:function(){var a=this._chloe.owner._compMap.Sprite_1,b=this._chloe.getSprite(),c=this._bear.bearSprite.x._value,f=this._bear.bearSprite.getNaturalWidth();this._currentItemId=-1;var d=0;a.x._value>c?(b.scaleX.set__(-1),d=c+f):(b.scaleX.set__(1),d=c-f);d<this._chloe.pageFields.startingX&&
(b.scaleX.set__(-1),d=c+f);d>this._chloe.owner._compMap.ChloeMoveManager_43.getRightLimit()&&(b.scaleX.set__(1),d=c-f);a.x.animateTo(d,0.2)},setupBear:function(a){this._bear.bearSprite.set_visible(!0);this._bear.setXY(a.x._value,a.y._value)},dispose:function(){s.prototype.dispose.call(this);this._chloeAnimation=this._newsPaper=this._bear=null},__class__:ne});var lf=function(){y.call(this);this.ASSET_PATH="chapter_1/sfx/"};g["game.game.components.levels.level_3.LevelSoundFx3"]=lf;lf.__name__="game,game,components,levels,level_3,LevelSoundFx3".split(",");
lf.__super__=y;lf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:lf});var oe=function(){this._clockAlreadyActivated=!1;s.call(this)};g["game.game.components.levels.level_4.LevelInteraction4"]=oe;oe.__name__="game,game,components,levels,level_4,LevelInteraction4".split(",");oe.__super__=s;oe.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupGameObjectManager();
this.setupListeners();this.setupLevelSfx(new mf)},onStart:function(){s.prototype.onStart.call(this)},setupListeners:function(){},setupGameObjectManager:function(){this._spawnManager=new nf;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);this._doorIsActivated||this.activateWord(a)},activateWord:function(a){switch(a.id){case 1:this.operatePancake(a);this._commonSfx.playSfx("object_pop_in");this._textAnimation.playGlowText(a.textSprite);
break;case 2:this._clockAlreadyActivated?this._spawnManager.clock.isLowerOrEqualToTenThirty()||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this.playChloeAnimation("chloe_clock_interact",e(this,this.onFinishedChloePointingAtClock)),this._chloe.get_animationManager().setAnimationDirection(O.RIGHT),this._textAnimation.playGlowText(a.textSprite)):(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._clockAlreadyActivated=!0,this.showClock(a.textSprite.x._value,a.textSprite.y._value),this._commonSfx.playSfx("object_pop_in"),
m.callWithDelay(this.owner,new n(e(this,this.playChloeThinking)),1),this._chloe.get_animationManager().setAnimationDirection(O.RIGHT),this._textAnimation.playGlowText(a.textSprite));break;case 3:null!=this._spawnManager.clockClue&&(this._clockAlreadyActivated?(this._textAnimation.playGlowText(a.textSprite),this.showHideClockClue()):this.playChloeThinking())}},onFinishedCosmoGrantWish:function(){this._levelSfx.playSfx("clock_rewind");this._spawnManager.clock.decreaseTime(e(this,this.onFinishedDecreasingTimeAnimation));
var a=this._spawnManager.clock.sprite,b=this._spawnManager.clock.rect;this.playAnimationSfx1("generic_poof",a.x._value+0*b.width,a.y._value+0*b.height);this._commonSfx.playSfx("object_pop_in")},onFinishedDecreasingTimeAnimation:function(){this.setChloeNormalState()},onFinishedChloePointingAtClock:function(){this.loopChloeAnimation("chloe_idle");this._cosmo.animation.playOnce("cosmo_grant_wish",e(this,this.onFinishedCosmoGrantWish))},operatePancake:function(a){var b=this;this._spawnManager.clock.isLowerOrEqualToTenThirty()?
(this.showPancake(a.textSprite,!1),this._doorIsActivated=!0,this._spawnManager.clockClue.showingClue&&this._spawnManager.clockClue.toggleShowHide(),this.playChloeCheeringAnimationThenShowDoor(function(){b._doorIsActivated=!0;b.onHidePancakes();m.callWithDelay(b.owner,new n(e(b,b.onHideClock)),0.5)})):(this.showPancake(a.textSprite),A.remove(this._pageFields.currentlyUnlockedKeywords,a.textSprite._text),A.remove(this._pageFields.alreadyActivatedKeywords,a.textSprite._text))},showClock:function(){var a=
this._spawnManager.clock.rect;this._spawnManager.clock.sprite.set_visible(!0);var b=this._chloe.sprite.x._value+1.2*this._chloe.rect.width+0.5*a.width,a=this._chloe.sprite.y._value+-0.5*a.height;this._spawnManager.clock.sprite.x.set__(b);this._spawnManager.clock.sprite.y.set__(a);this.playAnimationSfx1("generic_poof",b,a)},onHidePancakes:function(){this.loopChloeAnimation("chloe_idle");this._spawnManager.pancake.sprite.set_visible(!1);this.playAnimationSfx1("generic_poof",this._chloe.sprite.x._value+
1.2*this._chloe.rect.width,this._chloe.sprite.y._value+-0.5*this._spawnManager.pancake.rect.height);this.setChloeState(o.NORMAL);this._commonSfx.playSfx("object_pop_in")},onHideClock:function(){this._spawnManager.clock.sprite.set_visible(!1);this.playAnimationSfx1("generic_poof",this._spawnManager.clock.sprite.x._value,this._spawnManager.clock.sprite.y._value);this._commonSfx.playSfx("object_pop_in")},showPancake:function(a,b){null==b&&(b=!0);var c=this._spawnManager.pancake.sprite;if(0==(c._flags&
2)){this.setChloeState(o.ON_ANIMATION_TRANSITION);this._chloe.getSprite().scaleX.set__(1);var f=this._chloe.sprite.x._value+1.2*this._chloe.rect.width,d=this._chloe.sprite.y._value;c.set_visible(!0);this._spawnManager.pancake.setXY(f,d);this.playAnimationSfx1("generic_poof",f,d+-0.5*this._spawnManager.pancake.rect.height);b&&(this.onCosmoPlayDenied(),m.callWithDelay(this.owner,new ma(e(this,this.loopChloeAnimation),"chloe_idle_sad"),1.5),m.callWithDelay(this.owner,new n(e(this,this.onHidePancakes)),
2.5))}},showHideClockClue:function(){this._clockAlreadyActivated&&(0==(this._spawnManager.clockClue.sprite._flags&2)?(this._chloe.getSprite().scaleX.set__(-1),this._spawnManager.clockClue.toggleShowHide(e(this,this.onFinishedClueIntro),e(this,this.onFinishedClueEnd)),this.setChloeState(o.ON_ANIMATION_TRANSITION)):this._spawnManager.clockClue.toggleShowHide(e(this,this.onFinishedClueIntro),e(this,this.onFinishedClueEnd)))},onFinishedClueIntro:function(){this.setupTapAnywhereCtrl()},onFinishedClueEnd:function(){this.setChloeNormalState()},
setupTapAnywhereCtrl:function(){this._tapSignalConnection=t._platform.getPointer().down.connect(e(this,this.onPlayerRemoveClockClue));t._platform.getKeyboard().get_supported()&&(this._keyboardSignalConnection=t._platform.getKeyboard().down.connect(e(this,this.onKeyboardDown)))},onKeyboardDown:function(){this._spawnManager.clockClue.toggleShowHide(e(this,this.onFinishedClueIntro),e(this,this.onFinishedClueEnd));this.disposeTapAndKeySignalConnection()},onPlayerRemoveClockClue:function(){this._spawnManager.clockClue.toggleShowHide(e(this,
this.onFinishedClueIntro),e(this,this.onFinishedClueEnd));this.disposeTapAndKeySignalConnection()},disposeTapAndKeySignalConnection:function(){null!=this._tapSignalConnection&&(this._tapSignalConnection.dispose(),this._tapSignalConnection=null);t._platform.getKeyboard().get_supported()&&null!=this._keyboardSignalConnection&&(this._keyboardSignalConnection.dispose(),this._keyboardSignalConnection=null)},dispose:function(){s.prototype.dispose.call(this);this._spawnManager.dispose();this._keyboardSignalConnection=
this._tapSignalConnection=this._spawnManager=null},__class__:oe});var mf=function(){y.call(this);this.ASSET_PATH="chapter_2/sfx/"};g["game.game.components.levels.level_4.LevelSoundFx4"]=mf;mf.__name__="game,game,components,levels,level_4,LevelSoundFx4".split(",");mf.__super__=y;mf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:mf});var nf=function(){x.call(this)};g["game.game.components.levels.level_4.SpawnManager4"]=
nf;nf.__name__="game,game,components,levels,level_4,SpawnManager4".split(",");nf.__super__=x;nf.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this.setupClock();this.setupPancake();this.setupClockClue()},setupClock:function(){this.clock=new of(this._assetPack);this._storyManagerFields.backgroundLayer.add(this.clock)},setupPancake:function(){this.pancake=new pf(this._assetPack);this._storyManagerFields.backgroundLayer.add(this.pancake)},setupClockClue:function(){this.clockClue=
new Ka(this._assetPack);this._storyManagerFields.foregroundLayer.addChild((new k).add(this.clockClue));this.clockClue.sprite.setXY(this.clock.sprite.x._value+1.4*this.clock.rect.width,this.clock.sprite.y._value+-0.65*this.clock.rect.height)},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.clock);this.disposeComponent(this.pancake);this.disposeComponent(this.clockClue);this.clockClue=this.pancake=this.clock=null},__class__:nf});var of=function(a){this._currentTimeIndex=
8;this._movieNames=Array(9);h.call(this);this._movieNames[0]="clock_10am";this._movieNames[1]="clock_11-10_loop";this._movieNames[2]="clock_11am";this._movieNames[3]="clock_12-11_loop";this._movieNames[4]="clock_12pm";this._movieNames[5]="clock_1-12_loop";this._movieNames[6]="clock_1pm";this._movieNames[7]="clock_2-1_loop";this._movieNames[8]="clock_2pm";a=new G(a,"chapter_2/animations");this._moviePlayer=new ba(a)};g["game.game.components.levels.level_4.spawns.Clock"]=of;of.__name__="game,game,components,levels,level_4,spawns,Clock".split(",");
of.__super__=h;of.prototype=l(h.prototype,{get_name:function(){return"Clock_15"},onAdded:function(){h.prototype.onAdded.call(this);this.setupMovieSprite()},setupMovieSprite:function(){this.sprite=new q;this.owner.addChild((new k).add(this.sprite));this.sprite.owner.add(this._moviePlayer);this._moviePlayer.loop(this._movieNames[0]);this._moviePlayer.loop(this._movieNames[1]);this._moviePlayer.loop(this._movieNames[2]);this._moviePlayer.loop(this._movieNames[3]);this._moviePlayer.loop(this._movieNames[4]);
this._moviePlayer.loop(this._movieNames[5]);this._moviePlayer.loop(this._movieNames[6]);this._moviePlayer.loop(this._movieNames[7]);this._moviePlayer.loop(this._movieNames[8]);this.rect=q.getBounds(this.sprite.owner);this.sprite.x.set__(0.5*i.get_scaledStageWidth());this.sprite.y.set__(0.5*i.get_scaledStageHeight());this.sprite.set_visible(!1)},decreaseTime:function(a){return 0<this._currentTimeIndex?(this.playMovieTime(--this._currentTimeIndex,a),!0):!1},isLowerOrEqualToTenThirty:function(){return 1>=
this._currentTimeIndex?!0:!1},playMovieTime:function(a,b){var c=this;this._moviePlayer.loop(this._movieNames[a]);this._moviePlayer.playOnce(this._movieNames[a],function(){b();c.onFinishedPlayingClock()})},onFinishedPlayingClock:function(){0<this._currentTimeIndex&&(--this._currentTimeIndex,this._moviePlayer.loop(this._movieNames[this._currentTimeIndex]))},dispose:function(){h.prototype.dispose.call(this);this.sprite.owner.dispose();this._movieNames=this._moviePlayer=this.rect=this.sprite=null},__class__:of});
var Ka=function(a){this.showingClue=!1;this._currentClueIndex=0;j.call(this,new G(a,Ka.ASSET_PATH))};g["game.game.components.levels.level_4.spawns.ClockClue"]=Ka;Ka.__name__="game,game,components,levels,level_4,spawns,ClockClue".split(",");Ka.__super__=j;Ka.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop(Ka.INTRO);this._moviePlayer.loop(Ka.END);this._moviePlayer.loop(Ka.LOOP);this.sprite.set_visible(!1)},setupClueText:function(a){null!=this._clueTextSprite&&
(this.disposeComponent(this._clueTextSprite),this._clueTextSprite=null);this._clueTextSprite=new N(a);this.sprite.owner.addChild((new k).add(this._clueTextSprite));this._clueTextSprite.setWrapWidth(0.9*this.getNaturalWidth());this._clueTextSprite.centerAnchor();this._clueTextSprite.set_align(ja.Center);this._clueTextSprite.x.set__(0.085*this.getNaturalWidth());this._clueTextSprite.y.set__(-0.575*this.getNaturalHeight());this._clueTextSprite.set_visible(!1)},toggleShowHide:function(a,b){0!=(this.sprite._flags&
2)?this.playOutro(b):this.playIntro(a);this.sprite.set_visible(0==(this.sprite._flags&2))},playIntro:function(a){this.playOnce(Ka.INTRO,e(this,this.onFinishedIntro));this._funcToCallIntro=a;this.setupClueText("clue_clock_"+(this._currentClueIndex++%3+1))},playOutro:function(a){this._clueTextSprite.set_visible(!1);this.playOnce(Ka.END,e(this,this.onFinishedOutro));this._funcToCallOutro=a},onFinishedIntro:function(){this.loop(Ka.LOOP);this._funcToCallIntro();this._clueTextSprite.set_visible(!0)},onFinishedOutro:function(){this.sprite.set_visible(!1);
this._funcToCallOutro()},disposeComponent:function(a){null!=a&&null!=a.owner&&a.owner.dispose()},dispose:function(){j.prototype.dispose.call(this)},__class__:Ka});var pf=function(a){h.call(this);a=new G(a,"chapter_2/animations");this._moviePlayer=new ba(a)};g["game.game.components.levels.level_4.spawns.Pancake"]=pf;pf.__name__="game,game,components,levels,level_4,spawns,Pancake".split(",");pf.__super__=h;pf.prototype=l(h.prototype,{get_name:function(){return"Pancake_14"},onAdded:function(){h.prototype.onAdded.call(this);
this.setupMoviePlayer()},setupMoviePlayer:function(){this.sprite=new q;this.owner.addChild((new k).add(this.sprite));this.sprite.owner.add(this._moviePlayer);this._moviePlayer.loop("pancakes");this.rect=q.getBounds(this._moviePlayer.owner);this.sprite.set_visible(!1)},setXY:function(a,b){this.sprite.setXY(a,b)},__class__:pf});var pe=function(){this._valentineIsActivated=this._bridgeIsActivated=this._heartIsActivated=this._dayIsActivated=!1;s.call(this)};g["game.game.components.levels.level_5.LevelInteraction5"]=
pe;pe.__name__="game,game,components,levels,level_5,LevelInteraction5".split(",");pe.__super__=s;pe.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new qf)},setupSpawnManager:function(){this._spawnManager=new rf;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){switch(a.id){case 1:this._valentineIsActivated||
(this._valentineIsActivated=!0,this.showBoyAndGirl(),this._commonSfx.playSfx("poof"),this._levelSfx.playSfx("boy_girl_sigh"),this._textAnimation.playGlowText(a.textSprite));break;case 2:this._valentineIsActivated&&this._dayIsActivated?this._bridgeIsActivated||(this._bridgeIsActivated=!0,this.showBridge(),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 3:this._valentineIsActivated&&this._bridgeIsActivated&&this._dayIsActivated?
this._heartIsActivated||(this._heartIsActivated=!0,this.showHeartBalloon(),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 4:this._valentineIsActivated?this._dayIsActivated||(this._dayIsActivated=!0,0==(this._spawnManager.sun.sprite._flags&2)&&(this._spawnManager.showSun(e(this,this.onFinishedShowingSun)),this._textAnimation.playGlowText(a.textSprite),this._levelSfx.playSfx("sunrise"))):this.playChloeThinking()}},onFinishedShowingSun:function(){},
showBridge:function(){this._spawnManager.showBridge();this.poofBridge()},poofBridge:function(){this.playAnimationSfx1("generic_poof",this._spawnManager.bridge.sprite.x._value,this._spawnManager.bridge.sprite.y._value)},showBoyAndGirl:function(){this._spawnManager.showBoyAndGirl();var a=this._pageFields.startingY+2*this._pageFields.lineHeight;this._spawnManager.boy.sprite.y.set__(a);this._spawnManager.girl.sprite.y.set__(a);this._spawnManager.girl.sprite.scaleX.set__(-1);this.playPoofBoy();this.playPoofGirl()},
showHeartBalloon:function(){this.setChloeState(o.ON_ANIMATION_TRANSITION);this.loopChloeAnimation("chloe_holding_idle");this._spawnManager.showHeartBalloon();this.playPoofBalloon(this._chloe.sprite.x._value,this._chloe.sprite.y._value);m.callWithDelay(this.owner,new n(e(this,this.chloeLetGoBalloon)),0.8)},chloeLetGoBalloon:function(){this._levelSfx.playSfx("balloon_move");this._spawnManager.heartBalloon.sprite.set_visible(!1);this.loopChloeAnimationWithTimer("interact_heartballoon",e(this,this.onChloeFinishedLetGoBalloon),
0.5)},onChloeFinishedLetGoBalloon:function(){this.loopChloeAnimation("chloe_idle");this._spawnManager.heartBalloon.loop("heartballoon_item");this._spawnManager.heartBalloon.sprite.set_visible(!0);this._spawnManager.setBalloonReleasePosition();this._spawnManager.balloonFlyInTheMiddleOfBridge();m.callWithDelay(this.owner,new n(e(this,this.onBoyAndGirlChaseBalloon)),0.9750000000000001)},onBoyAndGirlChaseBalloon:function(){this._spawnManager.playBoyAndGirlWalking();this._spawnManager.boyAndGirlChaseTheHeartBalloon(e(this,
this.onFinishedChasingBalloon))},onFinishedChasingBalloon:function(){this._spawnManager.pauseBoyAndGirlAnimation();m.callWithDelay(this.owner,new n(e(this,this.onPlayBoyAndGirlSeeEachOther)),1)},onPlayBoyAndGirlSeeEachOther:function(){this._commonSfx.stopBgm();this._levelSfx.playSfx("heart_beat",!0);this._spawnManager.resumeNormalBoyAndGirlAnimation();this._spawnManager.playBoyAndGirlSeeEachOther(e(this,this.onFinishedSeeingEachOther))},onFinishedSeeingEachOther:function(){this._spawnManager.playBoyAndGirlEndAnimation(e(this,
this.onFinishedEndAnimation))},onFinishedEndAnimation:function(){var a=this;this._levelSfx.stopSfx("heart_beat");this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0});m.callWithDelay(this.owner,new n(e(this,this.poofOutBalloon)),1);m.callWithDelay(this.owner,new n(e(this,this.poofOutBoyAndGirl)),1.5);m.callWithDelay(this.owner,new n(e(this,this.poofOutBridge)),2)},poofOutBalloon:function(){this.playPoofBalloon(this._spawnManager.heartBalloon.sprite.x._value,this._spawnManager.heartBalloon.sprite.y._value);
this._spawnManager.heartBalloon.sprite.set_visible(!1);this._commonSfx.playSfx("object_pop_in")},poofOutBridge:function(){this.poofBridge();this._spawnManager.bridge.sprite.set_visible(!1);this._commonSfx.playSfx("object_pop_in")},poofOutBoyAndGirl:function(){this.playPoofBoy();this.playPoofGirl();this._spawnManager.boy.sprite.set_visible(!1);this._spawnManager.girl.sprite.set_visible(!1);this._commonSfx.playSfx("poof")},playPoofBoy:function(){this.playAnimationSfx1("generic_poof",this._spawnManager.boy.sprite.x._value,
this._spawnManager.boy.sprite.y._value+-0.5*this._spawnManager.boy.getNaturalHeight())},playPoofGirl:function(){this.playAnimationSfx2("generic_poof",this._spawnManager.girl.sprite.x._value,this._spawnManager.girl.sprite.y._value+-0.5*this._spawnManager.girl.getNaturalHeight())},playPoofBalloon:function(a,b){this.playAnimationSfx2("generic_poof",a+0.15*this._spawnManager.heartBalloon.getNaturalWidth(),b+-0.35*this._spawnManager.heartBalloon.getNaturalHeight())},dispose:function(){s.prototype.dispose.call(this);
this._spawnManager.dispose();this._spawnManager=null},__class__:pe});var qf=function(){y.call(this);this.ASSET_PATH="chapter_2/sfx/"};g["game.game.components.levels.level_5.SoundFX5"]=qf;qf.__name__="game,game,components,levels,level_5,SoundFX5".split(",");qf.__super__=y;qf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:qf});var rf=function(){x.call(this)};g["game.game.components.levels.level_5.SpawnManager5"]=
rf;rf.__name__="game,game,components,levels,level_5,SpawnManager5".split(",");rf.__super__=x;rf.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._lib=new G(this._assetPack,"chapter_2/animations");this.setupSun()},setupSun:function(){this.sun=new sf(this._assetPack);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.sun));this.sun.sprite.x.set__(0.725*i.get_scaledStageWidth());this.sun.sprite.y.set__(i.get_scaledStageHeight()+0.5*this.sun.getNaturalHeight());
this.sun.sprite.set_visible(!1)},setupBridge:function(){this.bridge=new tf(this._assetPack);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.bridge));this.bridge.sprite.x.set__(0.5*i.get_scaledStageWidth());this.bridge.sprite.y.set__(this._pageFields.startingY+2*this._pageFields.lineHeight+-0.4*this.bridge.getNaturalHeight())},setupBoy:function(){this.boy=new Qc(this._assetPack,this._lib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.boy));this.boy.sprite.x.set__(this.bridge.sprite.x._value-
0.675*this.bridge.getNaturalWidth());this.boy.playOnce("boy_sigh")},setupGirl:function(){this.girl=new Qc(this._assetPack,this._lib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.girl));this.girl.sprite.x.set__(this.bridge.sprite.x._value+0.675*this.bridge.getNaturalWidth());this.girl.playOnce("girl_sigh",e(this,this.onFinishedGirlSigh))},onFinishedGirlSigh:function(){this.girl.loop("girl_idle_sad")},setupHeartBalloon:function(){this.heartBalloon=new uf(this._chloe.get_animationManager().assetLib);
this._chloe.owner.addChild((new k).add(this.heartBalloon))},setBalloonReleasePosition:function(){this._storyManagerFields.foregroundLayer.addChild(this.heartBalloon.owner);1==this._chloe.getSprite().scaleX._value?this.heartBalloon.sprite.x.set__(this._chloe.sprite.x._value+0.2725*this._chloe.getNaturalWidth()):this.heartBalloon.sprite.x.set__(this._chloe.sprite.x._value+-1.0425*this._chloe.getNaturalWidth());this.heartBalloon.sprite.y.set__(this._chloe.sprite.y._value+-0.23*this._chloe.getNaturalHeight())},
showSun:function(a){0==(this.sun.sprite._flags&2)&&(this.sun.sprite.set_visible(!0),this.sun.playRayShining(),this.sun.sprite.y.animateTo(0.2*this.sun.getNaturalHeight(),1),m.callWithDelay(this.owner,new n(a),1))},showBridge:function(){null==this.bridge&&this.setupBridge()},showHeartBalloon:function(){null==this.heartBalloon&&this.setupHeartBalloon()},showBoyAndGirl:function(){this.setupBridge();this.bridge.sprite.set_visible(!1);this.setupBoy();this.setupGirl();this.disposeComponent(this.bridge);
this.bridge=null},balloonFlyInTheMiddleOfBridge:function(){this.heartBalloon.sprite.x.animateTo(this.bridge.sprite.x._value+-0.115*this.heartBalloon.getNaturalWidth(),1.5);this.heartBalloon.sprite.y.animateTo(this.bridge.sprite.y._value+-0.175*this.heartBalloon.getNaturalHeight(),1.5)},boyAndGirlChaseTheHeartBalloon:function(a){this.boy.sprite.x.animateTo(this.bridge.sprite.x._value-0.25*this.bridge.getNaturalWidth(),0.5249999999999999);this.boy.sprite.y.animateTo(this.bridge.sprite.y._value-0*this.heartBalloon.getNaturalHeight(),
0.5249999999999999);this.girl.sprite.x.animateTo(this.bridge.sprite.x._value+0.25*this.bridge.getNaturalWidth(),0.5249999999999999);this.girl.sprite.y.animateTo(this.bridge.sprite.y._value-0*this.heartBalloon.getNaturalHeight(),0.5249999999999999);m.callWithDelay(this.owner,new n(a),0.5249999999999999)},playBoyAndGirlWalking:function(){this.boy.loop("boy_walk");this.girl.loop("girl_walk")},playBoyAndGirlSeeEachOther:function(a){this.boy.loop("boy_see");this.girl.loop("girl_see");m.callWithDelay(this.owner,
new n(a),2)},playBoyAndGirlEndAnimation:function(a){this.boy.loop("boy_end");this.girl.loop("girl_end");m.callWithDelay(this.owner,new n(a),2)},pauseBoyAndGirlAnimation:function(){this.boy.owner.add(new Qb(0));this.girl.owner.add(new Qb(0))},resumeNormalBoyAndGirlAnimation:function(){this.boy.owner._compMap.SpeedAdjuster_31.dispose();this.girl.owner._compMap.SpeedAdjuster_31.dispose()},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.sun);this.disposeComponent(this.boy);
this.disposeComponent(this.bridge);this.disposeComponent(this.heartBalloon);this.heartBalloon=this.bridge=this.boy=this.sun=null},__class__:rf});var tf=function(a){Ga.call(this,a)};g["game.game.components.levels.level_5.spawns.Bridge"]=tf;tf.__name__="game,game,components,levels,level_5,spawns,Bridge".split(",");tf.__super__=Ga;tf.prototype=l(Ga.prototype,{onAdded:function(){Ga.prototype.onAdded.call(this);this.setupBridgeSprite()},setupBridgeSprite:function(){this._bridgeSprite=new F(this._assetPack.getTexture("chapter_2/objects/bridge_idle"));
this._bridgeSprite.centerAnchor();this.owner.addChild((new k).add(this._bridgeSprite))},getNaturalWidth:function(){return this._bridgeSprite.getNaturalWidth()},getNaturalHeight:function(){return this._bridgeSprite.getNaturalHeight()},__class__:tf});var Qc=function(a,b){Ga.call(this,a);this._lib=b};g["game.game.components.levels.level_5.spawns.GenericCharacter"]=Qc;Qc.__name__="game,game,components,levels,level_5,spawns,GenericCharacter".split(",");Qc.__super__=Ga;Qc.prototype=l(Ga.prototype,{onAdded:function(){Ga.prototype.onAdded.call(this);
this.setupMoviePlayer()},setupMoviePlayer:function(){this._moviePlayer=new ba(this._lib);this.owner.addChild((new k).add(this._moviePlayer));this._moviePlayer.owner.add(new q);this._moviePlayer.loop("boy_end");this._moviePlayer.loop("girl_end");this._moviePlayer.loop("boy_see");this._moviePlayer.loop("girl_see");this._moviePlayer.loop("boy_sigh");this._moviePlayer.loop("girl_sigh");this._moviePlayer.loop("boy_walk");this._moviePlayer.loop("girl_walk");this._moviePlayer.loop("girl_idle_sad");this._moviePlayer.loop("boy_idle_sad");
this._rect=q.getBounds(this._moviePlayer.owner)},playOnce:function(a,b){this._moviePlayer.playOnce(a,b)},loop:function(a){this._moviePlayer.loop(a)},getNaturalHeight:function(){return this._rect.height},__class__:Qc});var uf=function(a){j.call(this,a)};g["game.game.components.levels.level_5.spawns.HeartBalloon"]=uf;uf.__name__="game,game,components,levels,level_5,spawns,HeartBalloon".split(",");uf.__super__=j;uf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("heartballoon")},
__class__:uf});var sf=function(a){Ga.call(this,a)};g["game.game.components.levels.level_5.spawns.Sun"]=sf;sf.__name__="game,game,components,levels,level_5,spawns,Sun".split(",");sf.__super__=Ga;sf.prototype=l(Ga.prototype,{onAdded:function(){Ga.prototype.onAdded.call(this);this.setupSun();this.setupRay();this.sprite.disablePointer()},setupSun:function(){this._sunSprite=new F(this._assetPack.getTexture("chapter_2/objects/sun/sun"));this._sunSprite.centerAnchor();this.owner.addChild((new k).add(this._sunSprite))},
setupRay:function(){this._raySprite=new F(this._assetPack.getTexture("chapter_2/objects/sun/rays"));this._raySprite.centerAnchor();this.owner.addChild((new k).add(this._raySprite))},playRayShining:function(){var a=new oa([new ea(this._raySprite.alpha,1,1),new ea(this._raySprite.alpha,0,1)]),a=new Ea(a),b=new Ca;this.owner.addChild((new k).add(b));b.run(a)},getNaturalHeight:function(){return this._raySprite.getNaturalHeight()},dispose:function(){Ga.prototype.dispose.call(this);this._sunSprite.owner.dispose();
this._raySprite.owner.dispose();this._raySprite=this._sunSprite=null},__class__:sf});var qe=function(){this._currentlyChloeCarryingCandy=this._currentlyChloeCarryingToy=!1;this._currentIdActivated=-1;this._monkeyIsActivated=this._candyIsActivated=this._collidedToMonkey=this._candyAlreadyGivenToMonkey=this._toyAreadyGivenToMonkey=!1;s.call(this)};g["game.game.components.levels.level_6.LevelInteraction6"]=qe;qe.__name__="game,game,components,levels,level_6,LevelInteraction6".split(",");qe.__super__=
s;qe.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new vf)},onUpdate:function(a){s.prototype.onUpdate.call(this,a);this.updateCollisionToMonkeyInteraction()},updateCollisionToMonkeyInteraction:function(){this._spawnManager.collides(this._chloe.collider,this._spawnManager.monkey)?this._collidedToMonkey||(this._collidedToMonkey=!0,this.collidedToMonkey()):this._collidedToMonkey&&(this._collidedToMonkey=!1);var a=this._spawnManager.monkey;
null!=a&&a.sprite.x._value>this._monkeyHorizontalLimitToDisappear&&(this.playAnimationSfx1("enemy_poof",a.sprite.x._value,a.sprite.y._value),this._spawnManager.disposeMonkey(),this._commonSfx.playSfx("poof"))},collidedToMonkey:function(){switch(this._currentIdActivated){case 2:this.setChloeState(o.ON_ANIMATION_TRANSITION);this._currentIdActivated=-1;this.playChloeGivingBanana(e(this,this.onFinishedGivingBanana));m.callWithDelay(this.owner,new n(e(this,this.onPlayChloeGivingBananaPoof)),0.35);this._candyAlreadyGivenToMonkey=
!0;this._currentlyChloeCarryingCandy=!1;this._chloe.get_moveManager().stopMoving();this._pageSignals.onChloeMovementInterrupted.emit();break;case 3:this.setChloeState(o.ON_ANIMATION_TRANSITION),this.loopChloeAnimation("chloe_idle"),this._currentIdActivated=-1,this._spawnManager.toyMonkey.currentChloeLaneNumber!=this._chloe.get_moveManager().currentLineNumberStandingOn?m.callWithDelay(this.owner,new ma((ha=this._spawnManager,e(ha,ha.toyMonkeyGoToMonkey)),0.5),0.1):this._spawnManager.toyMonkeyGoToMonkey(0.5),
this._storyManagerFields.middleLayer.addChild(this._spawnManager.toyMonkey.owner),m.callWithDelay(this.owner,new n(e(this,this.onMonkeyTakingToy)),0.5),this._levelSfx.stopSfx("monkey_cymbal"),this._currentLevelBGM=null,this._toyAreadyGivenToMonkey=!0,this._currentlyChloeCarryingToy=!1,this._chloe.get_moveManager().stopMoving(),this._pageSignals.onChloeMovementInterrupted.emit()}},onMonkeyTakingToy:function(){this._spawnManager.monkey.playOnce(Pa.SAD_TAKES_TOY,e(this,this.onFinishedTakingToy));m.callWithDelay(this.owner,
new n(e(this,this.onHideToyMonkey)),0.2)},playChloeGivingBanana:function(a){this.playChloeAnimation("interact_candybanana",a);this._spawnManager.banana.sprite.set_visible(!1)},onWordActivated:function(a){switch(a.id){case 1:if(!this._monkeyIsActivated){this._monkeyHorizontalLimitToDisappear=a.textSprite.x._value+a.textSprite.getNaturalWidth();this._currentIdActivated=a.id;this._monkeyIsActivated=!0;var b=a.textSprite.x._value+0.5*a.textSprite.getNaturalWidth();this._spawnManager.spawnMonkeyAt(b,a.textSprite.y._value);
var c=a.textSprite.y._value-0.65*this._spawnManager.monkey.getNaturalHeight();this.playAnimationSfx1("generic_poof",b-0.2*this._spawnManager.monkey.getNaturalWidth(),c);c=this._spawnManager.monkey.getNaturalWidth();this._pageSignals.onChloeStepBack.emit(b,c);this._commonSfx.playSfx("poof");this._levelSfx.playSfx("sad_monkey");m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),0.2);this._textAnimation.playGlowText(a.textSprite)}break;case 2:this._monkeyIsActivated?!this._candyIsActivated&&
!this._candyAlreadyGivenToMonkey&&!this._currentlyChloeCarryingToy&&(this._currentlyChloeCarryingCandy=!0,this._currentIdActivated=a.id,this._candyIsActivated=!0,this._spawnManager.spawnBananaForChloe(),this._chloe.set_state(o.HOLDING_ITEM),c=this._spawnManager.banana,b=a.textSprite.x._value+0.5*a.textSprite.getNaturalWidth()+0.3*c.getNaturalWidth(),-1==this._chloe.getSprite().scaleX._value&&(b-=this._chloe.getNaturalWidth()),c=a.textSprite.y._value+-0.775*c.getNaturalHeight(),this.playAnimationSfx1("generic_poof",
b,c),this._commonSfx.playSfx("object_pop_in"),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 3:this._monkeyIsActivated?!this._toyAreadyGivenToMonkey&&!this._currentlyChloeCarryingToy&&!this._currentlyChloeCarryingCandy&&(this._currentlyChloeCarryingToy=this._toyAreadyGivenToMonkey=!0,this._currentIdActivated=a.id,b=a.textSprite.x._value+0.5*a.textSprite.getNaturalWidth(),this._spawnManager.setupToyMonkey(b,a.textSprite.y._value),this._spawnManager.toyMonkey.getNaturalWidth(),
this._pageSignals.onChloeStepBack.emit(b,this._spawnManager.toyMonkey.getNaturalWidth()),m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),0.2),this.playPoof(this._spawnManager.toyMonkey.owner,0,-0.5),this._commonSfx.playSfx("object_pop_in"),this._currentLevelBGM=this._levelSfx.playSfx("monkey_cymbal",!0,0.15),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 4:if(this._currentlyChloeCarryingToy||this._currentlyChloeCarryingCandy)break;this.setChloeState(o.ON_ANIMATION_TRANSITION);
b=a.textSprite.x._value+0.5*a.textSprite.getNaturalWidth();c=a.textSprite.y._value;this._spawnManager.spawnMoneyBagAt(b,c);var f=this._spawnManager.moneyBag,c=this.playAnimationSfx1("generic_poof",b+0*f.getNaturalWidth(),c+-0.5*f.getNaturalHeight()),f=this._spawnManager.moneyBag.getNaturalWidth();this._pageSignals.onChloeStepBack.emit(b,f);this._levelSfx.playSfx("cash_spawn");this._commonSfx.playSfx("object_pop_in");this.onCosmoPlayDenied();this._textAnimation.playGlowText(a.textSprite);m.callWithDelay(this.owner,
new ma(e(this,this.loopChloeAnimation),"chloe_idle_sad"),1);m.callWithDelay(this.owner,new ma(e(this,this.onRemovedMoney),c),1.25);m.callWithDelay(this.owner,new n(e(this,this.onBackToNormal)),2.5)}},onKeyDown:function(a){!this._currentlyChloeCarryingCandy&&this._chloe.state!=o.ON_ANIMATION_TRANSITION&&s.prototype.onKeyDown.call(this,a)},onHideToyMonkey:function(){this._spawnManager.toyMonkey.sprite.set_visible(!1);this._spawnManager.placeToyMonkeyBelowMonkey();this.playPoof(this._spawnManager.toyMonkey.owner,
0,-0.5);this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle");this._commonSfx.playSfx("object_pop_in")},onFinishedGivingBanana:function(){this.loopChloeAnimation("chloe_idle")},onPlayChloeGivingBananaPoof:function(){this._spawnManager.monkey.playOnce(Pa.SAD_TAKES_BANANA,e(this,this.onFinishedTakingBanana))},onFinishedTakingBanana:function(){if(this.areAllItemsActivated())this.onAfterGettingMonkeyItemFromChloe();else this._spawnManager.showAndPlaceBananaWithMonkey(),this.setChloeNormalState()},
onFinishedTakingToy:function(){this.placeToyMonkeyBesideMonkey();this._spawnManager.toyMonkey.sprite.set_visible(!0);this._spawnManager.toyMonkey.loop("toymonkey_idle");if(this.areAllItemsActivated())this.onAfterGettingMonkeyItemFromChloe()},placeToyMonkeyBesideMonkey:function(){var a=this._spawnManager.monkey.sprite;this._spawnManager.placeToyMonkeyBelowMonkey();this._spawnManager.toyMonkey.sprite.x.set__(a.x._value+-0.1*this._spawnManager.monkey.getNaturalWidth())},onAfterGettingMonkeyItemFromChloe:function(){this.loopChloeAnimation("chloe_idle");
this.setChloeState(o.NORMAL);this._spawnManager.monkey.loopWithDuration(Pa.SMILE,e(this,this.onMonkeyJumpsAway),1);this._spawnManager.disposeToyMonkey();this._spawnManager.disposeCandyBanana();this._levelSfx.playSfx("happy_monkey")},areAllItemsActivated:function(){return this._candyAlreadyGivenToMonkey&&this._toyAreadyGivenToMonkey?!0:!1},onMonkeyJumpsAway:function(){var a=this;this._spawnManager.monkey.loop(Pa.SAD_JUMPS_AWAY);this._spawnManager.monkey.jumpAway();this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=
!0})},setupSpawnManager:function(){this._spawnManager=new wf;this.owner.add(this._spawnManager)},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onRemovedMoney:function(a){this._pageSignals.onPlayAnimationSfx1.emit(a);this._spawnManager.disposeMoneyBag();this._commonSfx.playSfx("object_pop_in")},onBackToNormal:function(){this.setChloeState(o.NORMAL);this.loopChloeAnimation("chloe_idle")},dispose:function(){s.prototype.dispose.call(this);
this._currentLevelBGM=this._spawnManager=null},onGameResume:function(a){a?null!=this._currentLevelBGM&&this._currentLevelBGM.set_paused(!1):null!=this._currentLevelBGM&&this._currentLevelBGM.set_paused(!0)},__class__:qe});var vf=function(){y.call(this);this.ASSET_PATH="chapter_2/sfx/"};g["game.game.components.levels.level_6.LevelSoundFx6"]=vf;vf.__name__="game,game,components,levels,level_6,LevelSoundFx6".split(",");vf.__super__=y;vf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);
this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:vf});var wf=function(){this._goToMonkey=!1;x.call(this)};g["game.game.components.levels.level_6.SpawnManager6"]=wf;wf.__name__="game,game,components,levels,level_6,SpawnManager6".split(",");wf.__super__=x;wf.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this.setupAssetLib()},onUpdate:function(a){x.prototype.onUpdate.call(this,a);null!=this.toyMonkey&&!this._goToMonkey&&this.toyMonkey.follow(this._chloe,
a)},setupAssetLib:function(){this._assetLib=new G(this._assetPack,"chapter_2/animations")},setupMonkey:function(a,b){this.monkey=new Pa(this._assetLib);this._storyManagerFields.middleLayer.addChild((new k).add(this.monkey),!1);this.monkey.sprite.setXY(a,b)},setupBanana:function(a,b){null==b&&(b=!0);null!=this.banana&&(this.banana.owner.dispose(),this.banana=null);this.banana=new Mb(a,b)},setupToyMonkey:function(a,b){this.toyMonkey=new xf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.toyMonkey));
this.toyMonkey.sprite.setXY(a,b);this._goToMonkey=!1},placeToyMonkeyBelowMonkey:function(){this._storyManagerFields.backgroundLayer.addChild(this.toyMonkey.owner)},spawnMonkeyAt:function(a,b){this.setupMonkey(a,b)},spawnBananaForChloe:function(){this.setupBanana(this._chloe.get_animationManager().assetLib);this._chloe.getSprite().owner.addChild((new k).add(this.banana))},spawnBananaForMonkey:function(){this.setupBanana(this._assetLib,!1);this._storyManagerFields.middleLayer.addChild((new k).add(this.banana))},
spawnMoneyBagAt:function(a,b){this.moneyBag=new Nc(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.moneyBag));this.moneyBag.sprite.setXY(a+0*this.moneyBag.getNaturalWidth(),b)},disposeMoneyBag:function(){null!=this.moneyBag&&(this.disposeComponent(this.moneyBag),this.moneyBag=null)},collides:function(a,b){return null!=b&&null!=b.collider&&a.collidesWith(b.collider.boxCollider)?!0:!1},disposeCandyBanana:function(){this.disposeComponent(this.banana);this.banana=null},
disposeToyMonkey:function(){this.disposeComponent(this.toyMonkey);this.toyMonkey=null},showAndPlaceBananaWithMonkey:function(){this.spawnBananaForMonkey();var a=this.monkey.sprite.x._value+-0.35*this.monkey.getNaturalWidth(),b=this.monkey.sprite.y._value+-0.25*this.monkey.getNaturalHeight();this.banana.sprite.setXY(a,b);this.banana.sprite.set_visible(!0)},toyMonkeyGoToMonkey:function(a){this._goToMonkey=!0;this.toyMonkey.sprite.x.animateTo(this.monkey.sprite.x._value+-0.9*this.monkey.getNaturalWidth(),
a)},disposeMonkey:function(){this.disposeComponent(this.monkey);this.monkey=null},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.monkey);this.disposeComponent(this.banana);this.disposeComponent(this.moneyBag);this.disposeComponent(this.toyMonkey);this._assetLib=this.toyMonkey=this.moneyBag=this.banana=this.monkey=null},__class__:wf});var Mb=function(a,b){null==b&&(b=!0);j.call(this,a);this._forChloe=b};g["game.game.components.levels.level_6.spawns.Candy"]=Mb;Mb.__name__=
"game,game,components,levels,level_6,spawns,Candy".split(",");Mb.__super__=j;Mb.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._forChloe?this._moviePlayer.loop(Mb.CANDY_FOR_CHLOE):this._moviePlayer.loop(Mb.CANDY_FOR_MONKEY)},__class__:Mb});var Nc=function(a){j.call(this,a)};g["game.game.components.levels.level_6.spawns.MoneyBag"]=Nc;Nc.__name__="game,game,components,levels,level_6,spawns,MoneyBag".split(",");Nc.__super__=j;Nc.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);
this._moviePlayer.loop("money_bag")},__class__:Nc});var Pa=function(a){j.call(this,a)};g["game.game.components.levels.level_6.spawns.Monkey"]=Pa;Pa.__name__="game,game,components,levels,level_6,spawns,Monkey".split(",");Pa.__super__=j;Pa.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop(Pa.SAD_IDLE)},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1.75,1);this.sprite.disablePointer()},jumpAway:function(){var a=new na;this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1);
var b=this.sprite.y;b.set__(b._value-0*this._rect.height);var b=new fb([new J(this.sprite.x,this._rect.width,0.2),new J(this.sprite.y,-1*this._rect.height,0.2)]),c=new fb([new J(this.sprite.x,this._rect.width,0.2),new J(this.sprite.y,1*this._rect.height,0.2)]),b=new oa([b,c,new L(0.2),b,c,new L(0.2),b,c,new L(0.2)]);a.run(b);this.owner.addChild((new k).add(a))},__class__:Pa});var xf=function(a){this._moveAnimationIsPlaying=!1;this.currentChloeLaneNumber=0;j.call(this,a)};g["game.game.components.levels.level_6.spawns.ToyMonkey"]=
xf;xf.__name__="game,game,components,levels,level_6,spawns,ToyMonkey".split(",");xf.__super__=j;xf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("toymonkey_idle")},follow:function(a,b){if(null!=this.collider)if(a.collidesWith(this.collider.boxCollider))this._moveAnimationIsPlaying&&(this._moveAnimationIsPlaying=!1,this._moviePlayer.loop("toymonkey_idle"));else{a.get_moveManager().currentLineNumberStandingOn!=this.currentChloeLaneNumber&&(this.currentChloeLaneNumber=
a.get_moveManager().currentLineNumberStandingOn,this.sprite.x.set__(a.sprite.x._value),this.sprite.y.set__(a.sprite.y._value));var c=a.sprite.x._value+-1.5*a.getNaturalWidth(),f=a.sprite.x._value+1.5*a.getNaturalWidth();this.sprite.x._value<c&&(c=this.sprite.x,c.set__(c._value+a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1));this.sprite.x._value>f&&(f=this.sprite.x,f.set__(f._value-a.get_moveManager().horizontalSpeed*b),this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1));
this._moveAnimationIsPlaying||(this._moveAnimationIsPlaying=!0,this._moviePlayer.loop("toymonkey_walk"))}},__class__:xf});var re=function(){this._kidIsActivated=!1;s.call(this)};g["game.game.components.levels.level_7.LevelInteraction7"]=re;re.__name__="game,game,components,levels,level_7,LevelInteraction7".split(",");re.__super__=s;re.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager()},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:if(!this._kidIsActivated){this._kidIsActivated=
!0;this.setupDoor();var b=0.835*i.get_scaledStageWidth(),c=0.835*i.get_scaledStageHeight();this._spawnManager.setupKid(b,c);this._spawnManager.setupContainer(b+0.75*this._door.getNaturalWidth(),c);this.playPoof(this._spawnManager.kid.owner,0,-0.5);this._commonSfx.playSfx("poof");this._textAnimation.playGlowText(a.textSprite)}}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){var b=a.textSprite;
switch(a.id){case 2:if(!this._kidIsActivated){this._kidIsActivated=!0;this.setChloeState(o.ON_ANIMATION_TRANSITION);this.setupDoor();var b=0.835*i.get_scaledStageWidth(),c=0.835*i.get_scaledStageHeight();this._spawnManager.setupKid(b,c);this._spawnManager.setupContainer(b+0.75*this._door.getNaturalWidth(),c);this.playPoof(this._spawnManager.kid.owner,0,-0.5);this._commonSfx.playSfx("poof");this._textAnimation.playGlowText(a.textSprite);m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),
0.2)}break;case 3:c=this._spawnManager.kid;null!=c&&c.get_hasBalloon()?(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._spawnManager.setupPin(b.x._value+0.5*b.getNaturalWidth(),b.y._value),this.playPoof(this._spawnManager.pin.owner,0,-0.1),this._commonSfx.playSfx("object_pop_in"),this.onCosmoPlayDenied(),this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,new n(e(this,this.onHidePin)),1.5),m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1),m.callWithDelay(this.owner,
new n(e(this,this.setChloeNormalState)),3),m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),3)):this.playChloeThinking();break;case 4:if(this._kidIsActivated){b=this._spawnManager.kid;if(b.get_hasMaxBalloonNumberReached())break;b.increaseBalloonNumber();var c=b.sprite.x._value+0.25*b.getNaturalWidth(),f=b.sprite.y._value+-0.8*b.getNaturalHeight();this.playAnimationSfx1("generic_poof",c,f);this._commonSfx.playSfx("object_pop_in");b.get_hasMaxBalloonNumberReached()?(b.fly(e(this,this.onFinishedFlying)),
this._spawnManager.container.sprite.set_visible(!1)):this._spawnManager.container.playBalloonContainer(b.balloonIncrementCount+1);this._textAnimation.playGlowText(a.textSprite)}else this.playChloeThinking()}},onFinishedFlying:function(){var a=this;this._spawnManager.kid.sprite.set_visible(!1);this.playPoof(this._spawnManager.kid.owner,0,-0.5);this._commonSfx.playSfx("poof");this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0})},onHidePin:function(){this.playPoof(this._spawnManager.pin.owner,
0,-0.1);this._spawnManager.pin.owner.dispose();this._commonSfx.playSfx("object_pop_in")},setupSpawnManager:function(){this._spawnManager=new yf;this.owner.add(this._spawnManager)},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:re});var yf=function(){x.call(this)};g["game.game.components.levels.level_7.SpawnManager7"]=yf;yf.__name__="game,game,components,levels,level_7,SpawnManager7".split(",");yf.__super__=x;yf.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);
this._assetLib=new G(this._assetPack,"chapter_3/animations")},setupKid:function(a,b){this.kid=new zf(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.kid));this.kid.sprite.setXY(a,b)},setupPin:function(a,b){this.pin=new Af(this._assetLib);this._storyManagerFields.foregroundLayer.addChild((new k).add(this.pin));this.pin.sprite.setXY(a,b)},setupContainer:function(a,b){this.container=new Bf(this._assetLib);this._storyManagerFields.foregroundLayer.addChild((new k).add(this.container));
this.container.sprite.setXY(a,b)},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.kid);this.disposeComponent(this.pin);this.disposeComponent(this.container);this._assetLib=this.container=this.pin=this.kid=null},__class__:yf});var Bf=function(a){j.call(this,a)};g["game.game.components.levels.level_7.spawns.ContainerBalloon"]=Bf;Bf.__name__="game,game,components,levels,level_7,spawns,ContainerBalloon".split(",");Bf.__super__=j;Bf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);
this._moviePlayer.loop("balloon_boxes_1")},playBalloonContainer:function(a){this._moviePlayer.loop("balloon_boxes_"+(a-1))},__class__:Bf});var zf=function(a){this.balloonIncrementCount=1;j.call(this,a)};g["game.game.components.levels.level_7.spawns.Kid"]=zf;zf.__name__="game,game,components,levels,level_7,spawns,Kid".split(",");zf.__super__=j;zf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("aviator_1_balloon")},onStart:function(){j.prototype.onStart.call(this);
this.setupCollider(1,1)},increaseBalloonNumber:function(){if(4>this.balloonIncrementCount)switch(this.balloonIncrementCount++,this.balloonIncrementCount){case 1:this._moviePlayer.loop("aviator_1_balloon");break;case 2:this._moviePlayer.loop("aviator_4_balloon");break;case 3:this._moviePlayer.loop("aviator_6_balloon");break;case 4:this._moviePlayer.loop("aviator_9_balloon")}},fly:function(a){this.sprite.y.animateTo(0.3*i.get_scaledStageHeight(),1.5);m.callWithDelay(this.owner,new n(a),1.5)},get_hasMaxBalloonNumberReached:function(){return 4<=
this.balloonIncrementCount?!0:!1},get_hasBalloon:function(){return 0<this.balloonIncrementCount?!0:!1},__class__:zf});var Af=function(a){j.call(this,a)};g["game.game.components.levels.level_7.spawns.Pin"]=Af;Af.__name__="game,game,components,levels,level_7,spawns,Pin".split(",");Af.__super__=j;Af.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("pin_idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Af});var se=
function(){this._isGirlActivated=this._isSandmanActivated=this._isDreamActivated=this._isNightmareActivated=this._sandmanActivatedWithDream=this._sandmanActivatedWithNightmare=!1;s.call(this)};g["game.game.components.levels.level_8.LevelInteraction8"]=se;se.__name__="game,game,components,levels,level_8,LevelInteraction8".split(",");se.__super__=s;se.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new Cf)},onChloeSteppingOnKeyVariable:function(a){switch(a.id){case 1:if(!this._isGirlActivated){this._isGirlActivated=
!0;var b=0.75*i.get_scaledStageWidth(),c=0.9*i.get_scaledStageHeight();this._spawnManager.setupGirl(b,c);this.playPoof(this._spawnManager.girl.owner,0,-0.5);this._commonSfx.playSfx("poof");this._levelSfx.playSfx("girl_sleeping");this._textAnimation.playGlowText(a.textSprite);this._commonSfx.pauseBgm();m.callWithDelay(this.owner,new n((ha=this._commonSfx,e(ha,ha.resumeBgm))),4)}}},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},
onWordActivated:function(a){switch(a.id){case 2:this._isDreamActivated?this._sandmanActivatedWithDream||(this._sandmanActivatedWithDream=!0,this.setupSandmandDreamAlreadyActivated(a),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 3:this._isGirlActivated?this._isDreamActivated||(this._isDreamActivated=!0,this._spawnManager.girl.playOnce("girl_dream_bubble",e(this,this.onFinishedAnimatingDreamBubble)),this.owner._compMap.GameTextSprite_35.moveTextLayerOnTopOfBgLayer(),
this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking();break;case 4:this._sandmanActivatedWithDream?this._isNightmareActivated||(this._isNightmareActivated=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this._nightmareTextSprite=a.textSprite,this._levelSfx.playSfx("sandman"),this._spawnManager.sandman.playOnce("sandman_grandwish",e(this,this.onSandmanGrantedNightmare)),this._textAnimation.playGlowText(a.textSprite)):(this.setChloeState(o.ON_ANIMATION_TRANSITION),this.onCosmoPlayDenied(),
this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1),m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),3),m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),3));break;case 5:this._isDreamActivated?this._sandmanActivatedWithDream&&this._isNightmareActivated&&!this._sandmanActivatedWithNightmare&&(this._sandmanActivatedWithNightmare=!0,this.setChloeState(o.ON_ANIMATION_TRANSITION),this.playChloeAnimation("chloe_sleeping_girl_bubble",
e(this,this.onFinishedSleepingGirlBubble)),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},onFinishedSleepingGirlBubble:function(){this._spawnManager.sandman.playOnce("sandman_nod",e(this,this.onFinishedSandmanNod))},onFinishedSandmanNod:function(){m.callWithDelay(this.owner,new n(e(this,this.onSandmanGrantNightmare)),0.1)},onSandmanGrantNightmare:function(){this._levelSfx.playSfx("sandman");this._spawnManager.sandman.playOnce("sandman_grandwish",e(this,this.onSandmanGrantedGirlRideNightmare))},
onFinishedGame:function(){var a=this;this._levelSfx.stopSfx("girl_sleeping");this._spawnManager.girl.sprite.set_visible(!1);this.playPoof(this._spawnManager.girl.owner,-0.5,-0.5);this._commonSfx.playSfx("poof");m.callWithDelay(this.owner,new n(e(this,this.onHideSandman)),0.5);this.playChloeCheeringAnimationThenShowDoor(function(){a._doorIsActivated=!0})},onHideSandman:function(){this._spawnManager.sandman.sprite.set_visible(!1);this.playChloePoof2(-4.5*this._chloe.getSprite().scaleX._value,-1.25);
this._commonSfx.playSfx("poof")},onSandmanGrantedGirlRideNightmare:function(){this._spawnManager.nightmare.sprite.set_visible(!1);this.playPoof2(this._spawnManager.nightmare.owner,0,-0.5);this._commonSfx.playSfx("poof");m.callWithDelay(this.owner,new n(e(this,this.onShowGirlRideNightmare)),0.25);m.callWithDelay(this.owner,new n(e(this,this.onFinishedGame)),2.5)},onShowGirlRideNightmare:function(){this._spawnManager.girl.loop("girl_dream_ride");this.playPoof(this._spawnManager.girl.owner,-1,-0.5);
this._commonSfx.playSfx("poof")},onSandmanGrantedNightmare:function(){var a=this._nightmareTextSprite.x._value+0.5*this._nightmareTextSprite.getNaturalWidth();this._spawnManager.setupNightmare(a,this._nightmareTextSprite.y._value);var b=this._spawnManager.nightmare.getNaturalWidth();this._pageSignals.onChloeStepBack.emit(a,b);this.playPoof(this._spawnManager.nightmare.owner,0,-0.5);this._commonSfx.playSfx("poof");this._levelSfx.playSfx("nightmare_horse");m.callWithDelay(this.owner,new n(e(this,this.setChloeNormalState)),
0.2)},onFinishedAnimatingDreamBubble:function(){this._spawnManager.girl.loop("girl_dream_bubble_idle")},setupSandmandDreamAlreadyActivated:function(){this._isSandmanActivated||(this._isSandmanActivated=!0,this._spawnManager.setupSandman(-4.5,-1.25),m.callWithDelay(this.owner,new n(e(this,this.onPlaySandmanPoof)),0.1),this._commonSfx.playSfx("poof"))},onPlaySandmanPoof:function(){this.playPoof(this._spawnManager.sandman.owner,0.1*this._chloe.getSprite().scaleX._value,0)},setupSpawnManager:function(){this._spawnManager=
new Mc;this.owner.add(this._spawnManager)},dispose:function(){this._levelSfx.stopSfx("girl_sleeping");s.prototype.dispose.call(this);this._nightmareTextSprite=this._spawnManager=null},__class__:se});var Cf=function(){y.call(this);this.ASSET_PATH="chapter_3/sfx/"};g["game.game.components.levels.level_8.SoundFX8"]=Cf;Cf.__name__="game,game,components,levels,level_8,SoundFX8".split(",");Cf.__super__=y;Cf.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},
__class__:Cf});var Mc=function(){x.call(this)};g["game.game.components.levels.level_8.SpawnManager8"]=Mc;Mc.__name__="game,game,components,levels,level_8,SpawnManager8".split(",");Mc.__super__=x;Mc.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_3/animations")},setupGirl:function(a,b){this.girl=new Df(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.girl));this.girl.sprite.setXY(a,b)},setupSandman:function(a,
b){this.sandman=new Ef(this._assetLib);this._storyManagerFields.middleLayer.addChild((new k).add(this.sandman));this.sandman.sprite.scaleX.set__(-1);this.sandman.setPositionTrackerVariables(this._chloe,a,b,-1)},setupNightmare:function(a,b){this.nightmare=new Ff(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.nightmare));this.nightmare.sprite.setXY(a,b)},dispose:function(){x.prototype.dispose.call(this);this.disposeComponent(this.girl);this.disposeComponent(this.nightmare);
this.disposeComponent(this.sandman);this._assetLib=this.sandman=this.nightmare=this.girl=null},__class__:Mc});var Df=function(a){j.call(this,a);this._sleepingSign=new Gf(a)};g["game.game.components.levels.level_8.spawns.Girl"]=Df;Df.__name__="game,game,components,levels,level_8,spawns,Girl".split(",");Df.__super__=j;Df.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("girl_sleeping");this.setupSleepingSign()},onStart:function(){j.prototype.onStart.call(this);
this.setupCollider(1,1)},setupSleepingSign:function(){this.owner.addChild((new k).add(this._sleepingSign))},__class__:Df});var Ff=function(a){j.call(this,a)};g["game.game.components.levels.level_8.spawns.Nightmare"]=Ff;Ff.__name__="game,game,components,levels,level_8,spawns,Nightmare".split(",");Ff.__super__=j;Ff.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("nightmare");this.sprite.disablePointer()},onStart:function(){j.prototype.onStart.call(this);
this.setupCollider(1,1)},__class__:Ff});var Ef=function(a){j.call(this,a)};g["game.game.components.levels.level_8.spawns.Sandman"]=Ef;Ef.__name__="game,game,components,levels,level_8,spawns,Sandman".split(",");Ef.__super__=j;Ef.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("sandman_idle");this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1);this.owner.add(new Lb)},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},setPositionTrackerVariables:function(a,
b,c){this.owner._compMap.PositionTracker_40.setVariables(this.sprite,a,b,c,-1,e(this,this.setupBobbingAnimation))},setupBobbingAnimation:function(){null!=this._bobbingAction&&(this._bobbingAction.dispose(),this._bobbingAction=null,this._script.owner.dispose(),this._script=null);var a=this.sprite.y._value+-0.2*this.getNaturalHeight(),b=this.sprite.y._value,a=new oa([new ea(this.sprite.y,a,1),new ea(this.sprite.y,b,1)]),a=new Ea(a);this._script=new na;this._bobbingAction=this._script.run(a);this.owner.addChild((new k).add(this._script))},
__class__:Ef});var Gf=function(a){j.call(this,a)};g["game.game.components.levels.level_8.spawns.SleepingSign"]=Gf;Gf.__name__="game,game,components,levels,level_8,spawns,SleepingSign".split(",");Gf.__super__=j;Gf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("z_sleeping_sign")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},__class__:Gf});var te=function(){this._isOwlActivated=this._isBowActivated=this._isNoteActivated=
!1;s.call(this)};g["game.game.components.levels.level_9.LevelInteraction9"]=te;te.__name__="game,game,components,levels,level_9,LevelInteraction9".split(",");te.__super__=s;te.prototype=l(s.prototype,{onAdded:function(){s.prototype.onAdded.call(this);this.setupSpawnManager();this.setupLevelSfx(new gb)},onUpdate:function(a){s.prototype.onUpdate.call(this,a);a=this._spawnManager.owl;null!=a&&0!=(a.sprite._flags&2)&&a.sprite.x._value<this._pageFields.startingX&&a.sprite.y._value<this._pageFields.startingY&&
(a.sprite.set_visible(!1),this.playPoof(a.owner,0,0),this._commonSfx.playSfx("poof"))},onKeywordActivated:function(a){s.prototype.onKeywordActivated.call(this,a);if(!this._doorIsActivated)this.onWordActivated(a)},onWordActivated:function(a){switch(a.id){case 1:this._isBowActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this.onCosmoPlayDenied(),this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1),m.callWithDelay(this.owner,new n(e(this,
this.onChloeIdle)),2.25),m.callWithDelay(this.owner,new n(e(this,this.onChloeBackControl)),2.25));break;case 2:if(!this._isOwlActivated){this._isOwlActivated=!0;var b=0.8*i.get_scaledStageWidth(),c=0.825*i.get_scaledStageHeight();this._spawnManager.setupOwl(b,c);this.playPoof(this._spawnManager.owl.owner,0,0);this._commonSfx.playSfx("poof");this._levelSfx.playSfx(gb.OWL_SPAWN);this._textAnimation.playGlowText(a.textSprite)}break;case 3:this.setChloeState(o.ON_ANIMATION_TRANSITION);this.onCosmoPlayDenied();
this._textAnimation.playGlowText(a.textSprite);m.callWithDelay(this.owner,new n(e(this,this.onChloeSad)),1);m.callWithDelay(this.owner,new n(e(this,this.onChloeIdle)),2.25);m.callWithDelay(this.owner,new n(e(this,this.onChloeBackControl)),2.25);break;case 4:this._isBowActivated?this._isNoteActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),this._chloe.get_animationManager().setAnimationDirection(O.RIGHT),this.playChloeAnimation("chloe_bow_interact"),b=this._chloe.sprite.x._value+0.4*this._chloe.getNaturalWidth(),
c=this._chloe.sprite.y._value+-0.5*this._chloe.getNaturalHeight(),this.playAnimationSfx1("generic_poof",b,c),this._commonSfx.playSfx("object_pop_in"),this._levelSfx.playSfx(gb.BOW_PULL),this._textAnimation.playGlowText(a.textSprite),m.callWithDelay(this.owner,new n(e(this,this.onArrowReleased)),0.8),m.callWithDelay(this.owner,new n(e(this,this.onFinishedFiringArrowAnimation)),0.8)):this.playChloeThinking();break;case 5:this._isOwlActivated?this._isBowActivated||(this.setChloeState(o.ON_ANIMATION_TRANSITION),
this._isBowActivated=!0,this.playBowPoof(),this.playChloeAnimation("chloe_intro_bow",e(this,this.onFinishedBowIntro)),this._textAnimation.playGlowText(a.textSprite)):this.playChloeThinking()}},onArrowReleased:function(){this._levelSfx.playSfx(gb.ARROW_RELEASE)},onFinishedBowIntro:function(){this.setChloeState(o.HAS_BOW);this.loopChloeAnimation("chloe_idle_bow")},onChloeBackControl:function(){this._isBowActivated?this._chloe.set_state(o.HAS_BOW):this._chloe.set_state(o.NORMAL)},onKeyDown:function(a){this._isBowActivated||
s.prototype.onKeyDown.call(this,a)},onFinishedFiringArrowAnimation:function(){var a=this._chloe.sprite.x._value+0.7*this._chloe.getNaturalWidth(),b=this._chloe.sprite.y._value+-0.35*this._chloe.getNaturalHeight();this._spawnManager.setupArrowNote(a,b);this._spawnManager.arrow.trackTarget(this._spawnManager.owl,e(this,this.onOwlAlreadyTrackedByBullet))},onOwlAlreadyTrackedByBullet:function(){this._spawnManager.owl.playOnce("owl_shocked",e(this,this.onFinishedOwlShocked));this._spawnManager.owl.shocked(0.25);
this._levelSfx.playSfx(gb.OWL_SCARED)},onFinishedOwlShocked:function(){var a=-0.1*i.get_scaledStageWidth(),b=-0.1*i.get_scaledStageHeight();this._spawnManager.owl.flyTo(a,b,1);m.callWithDelay(this.owner,new n(e(this,this.onFinishedGame)),0.75)},playBowPoof:function(){var a=this._chloe.sprite.x._value,b=this._chloe.sprite.y._value+-0.4*this._chloe.getNaturalHeight();this.playAnimationSfx1("generic_poof",a,b);this._commonSfx.playSfx("object_pop_in")},setupSpawnManager:function(){this._spawnManager=
new Hf;this.owner.add(this._spawnManager)},dispose:function(){s.prototype.dispose.call(this);this._spawnManager=null},__class__:te});var gb=function(){y.call(this);this.ASSET_PATH="chapter_3/sfx/"};g["game.game.components.levels.level_9.SoundFX9"]=gb;gb.__name__="game,game,components,levels,level_9,SoundFX9".split(",");gb.__super__=y;gb.prototype=l(y.prototype,{onAdded:function(){y.prototype.onAdded.call(this);this._assetPack=this.owner._internal_getFromParents("PageFields_45").assetPack},__class__:gb});
var Hf=function(){x.call(this)};g["game.game.components.levels.level_9.SpawnManager9"]=Hf;Hf.__name__="game,game,components,levels,level_9,SpawnManager9".split(",");Hf.__super__=x;Hf.prototype=l(x.prototype,{onAdded:function(){x.prototype.onAdded.call(this);this._assetLib=new G(this._assetPack,"chapter_3/animations")},setupOwl:function(a,b){this.owl=new If(this._assetLib);this._storyManagerFields.backgroundLayer.addChild((new k).add(this.owl));this.owl.sprite.setXY(a,b+-0.5*this.owl.getNaturalHeight())},
setupArrowNote:function(a,b){this.arrow=new Jf(this._assetLib);this._storyManagerFields.foregroundLayer.addChild((new k).add(this.arrow));this.arrow.sprite.setXY(a,b)},dispose:function(){x.prototype.dispose.call(this);this._assetLib=null;this.disposeComponent(this.owl);this.disposeComponent(this.arrow);this.arrow=this.owl=null},__class__:Hf});var Jf=function(a){this._point2=new Cb;this._point1=new Cb;this._currentRotationView=0;this._traceTarget=this._viewTarget=!1;this._targetMinDistance=0;this._speed=
0.4;j.call(this,a)};g["game.game.components.levels.level_9.spawns.ArrowNote"]=Jf;Jf.__name__="game,game,components,levels,level_9,spawns,ArrowNote".split(",");Jf.__super__=j;Jf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._speed*=i.get_scaledStageWidth();this._targetMinDistance=0.3*this._speed;this._moviePlayer.loop("arrow_note")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,1)},onUpdate:function(a){j.prototype.onUpdate.call(this,a);if(this._traceTarget){var b=
this.sprite.x._value+-0.5*this.sprite.getNaturalWidth(),c=this.sprite.y._value+0*this.sprite.getNaturalHeight(),f=this._target.sprite.x._value+0*this._target.getNaturalWidth(),d=this._target.sprite.y._value+0*this._target.getNaturalHeight();this._point1.set(b,c);this._targetMinDistance>Math.abs(this._point1.distanceTo(f,d))?(this._traceTarget=!1,this._funcToCallAfterTracing()):(this._point1.x-=f,this._point1.y-=d,this._point2.set(this._point1.x,this._point1.y),this._point2.normalize(),this._viewTarget||
(this._point1.x=-1,this._point1.y=0),this.traceTarget(this._point1,a),this.viewTarget(this._point1,a))}else this.traceTarget(this._point2,a)},traceTarget:function(a,b){a.normalize();var c=this.sprite.x;c.set__(c._value-b*this._speed*a.x);c=this.sprite.y;c.set__(c._value-b*this._speed*a.y)},viewTarget:function(a){a=Fd.getViewRotation(a.x,a.y);this._currentRotationView!=a&&(this._currentRotationView=a,this.sprite.rotation.animateTo(a,0.1))},trackTarget:function(a,b){this._traceTarget=!0;m.callWithDelay(this.owner,
new n(e(this,this.onViewTarget)),0.1);this._target=a;this._funcToCallAfterTracing=b},onViewTarget:function(){this._viewTarget=!0},__class__:Jf});var If=function(a){j.call(this,a)};g["game.game.components.levels.level_9.spawns.Owl"]=If;If.__name__="game,game,components,levels,level_9,spawns,Owl".split(",");If.__super__=j;If.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("owl_idle")},onStart:function(){j.prototype.onStart.call(this);this.setupCollider(1,
1)},shocked:function(a){var b=0.5*this.getNaturalWidth(),c=-0.5*this.getNaturalHeight();this.sprite.x.animateBy(b,a,T.backOut);this.sprite.y.animateBy(c,a,T.backOut)},flyTo:function(a,b,c){this.sprite.x.animateTo(a,c);this.sprite.y.animateTo(b,c)},__class__:If});var ie=function(){this._animationNameMap2=new S;this._animationNameMap1=new S;h.call(this);this._animationNameMap2.set("generic_poof",!0);this._animationNameMap2.set("enemy_poof",!0)};g["game.game.components.sfx.AnimationFX1"]=ie;ie.__name__=
["game","game","components","sfx","AnimationFX1"];ie.__super__=h;ie.prototype=l(h.prototype,{get_name:function(){return"AnimationFX1_25"},onAdded:function(){h.prototype.onAdded.call(this);this.setupAnimationFX2()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupAnimationFX2:function(){var a=new G(this.owner._compMap.StoryManagerFields_42.assetPack,"animations/sfx");this._animations2=new ba(a);this.sprite2=new q;this._animationOwner2=new k;this.owner.addChild(this._animationOwner2);
this._animationOwner2.add(this.sprite2);this._animationOwner2.add(this._animations2);this._animations2.loop("generic_poof");this._animations2.loop("enemy_poof");this.sprite2.x.set__(0.5*i.get_scaledStageWidth());this.sprite2.y.set__(0.5*i.get_scaledStageHeight());this.sprite2.set_visible(!1)},setupListeners:function(){this._disposer=new R;var a=this.owner._compMap.PageSignals_44;this._disposer.add(a.onChloeChangeItem.connect(e(this,this.onChloeChangeItem)));this._disposer.add(a.onPlayAnimationSfx1.connect(e(this,
this.onPlayAnimationSfx)))},onChloeChangeItem:function(a,b){var c;c=this.owner._internal_getFromChildren("Chloe_41");var f=c.sprite.x._value+0.425*c.getNaturalWidth();-1==c.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1.scaleX._value&&(f=c.sprite.x._value+-0.425*c.getNaturalWidth());c=c.sprite.y._value+-0.475*c.getNaturalHeight();this.onPlayAnimationSfx(new xa("generic_poof",f,c));b||(m.callWithDelay(this.owner,new ma(e(this,this.onPlayGenericPoof),null),3.5),m.callWithDelay(this.owner,
new n(e(this,this.playObjectOutSfx)),3.5))},playObjectOutSfx:function(){C.instance(this.owner._compMap.LevelSoundFx_12,pa).playSfx("object_pop_in")},onPlayGenericPoof:function(a){var b;b=this.owner._internal_getFromChildren("Chloe_41");var c=b.sprite.x._value+0.425*b.getNaturalWidth();-1==b.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1.scaleX._value&&(c=b.sprite.x._value+-0.425*b.getNaturalWidth());b=b.sprite.y._value+-0.475*b.getNaturalHeight();c=new xa("generic_poof",c,b);if(null!=
a)this.onPlayAnimationSfx(a);else this.onPlayAnimationSfx(c)},onPlayAnimationSfx:function(a){null!=this._animationNameMap1.get(a.name)&&this.playAnimationFX1(a);null!=this._animationNameMap2.get(a.name)&&this.playAnimationFX2(a)},playAnimationFX1:function(a){var b=this;this.sprite1.setXY(a.x,a.y);this.sprite1.set_visible(!0);this.animations1.playOnce(a.name,function(){null!=a.callAfterAnimationPlay&&a.callAfterAnimationPlay();b.sprite1.set_visible(!1)})},playAnimationFX2:function(a){var b=this;this.sprite2.setXY(a.x,
a.y);this.sprite2.set_visible(!0);this._animations2.playOnce(a.name,function(){null!=a.callAfterAnimationPlay&&a.callAfterAnimationPlay();b.sprite2.set_visible(!1)})},dispose:function(){h.prototype.dispose.call(this);this._animationRect2=this._animationRect1=this._animationOwner2=this._animationOwner1=this.sprite2=this._animations2=this.sprite1=this.animations1=this._animationNameMap2=this._animationNameMap1=null;this._disposer.dispose();this._disposer=null},__class__:ie});var je=function(){this._animationNameMap2=
new S;this._animationNameMap1=new S;h.call(this);this._animationNameMap2.set("generic_poof",!0);this._animationNameMap2.set("enemy_poof",!0)};g["game.game.components.sfx.AnimationFX2"]=je;je.__name__=["game","game","components","sfx","AnimationFX2"];je.__super__=h;je.prototype=l(h.prototype,{get_name:function(){return"AnimationFX2_24"},onAdded:function(){h.prototype.onAdded.call(this);this.setupAnimationFX2()},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupAnimationFX2:function(){var a=
new G(this.owner._compMap.StoryManagerFields_42.assetPack,"animations/sfx");this._animations2=new ba(a);this.sprite2=new q;this._animationOwner2=new k;this.owner.addChild(this._animationOwner2);this._animationOwner2.add(this.sprite2);this._animationOwner2.add(this._animations2);this._animations2.loop("generic_poof");this._animations2.loop("enemy_poof");this.sprite2.x.set__(0.5*i.get_scaledStageWidth());this.sprite2.y.set__(0.5*i.get_scaledStageHeight());this.sprite2.set_visible(!1)},setupListeners:function(){this._disposer=
new R;var a=this.owner._compMap.PageSignals_44;this._disposer.add(a.onChloeChangeItem.connect(e(this,this.onChloeChangeItem)));this._disposer.add(a.onPlayAnimationSfx2.connect(e(this,this.onPlayAnimationSfx)))},onChloeChangeItem:function(a,b){var c;c=this.owner._internal_getFromChildren("Chloe_41");var f=c.sprite.x._value+0.425*c.getNaturalWidth();-1==c.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1.scaleX._value&&(f=c.sprite.x._value+-0.425*c.getNaturalWidth());c=c.sprite.y._value+
-0.475*c.getNaturalHeight();this.onPlayAnimationSfx(new xa("generic_poof",f,c));b||(m.callWithDelay(this.owner,new ma(e(this,this.onPlayGenericPoof),null),3.5),m.callWithDelay(this.owner,new n(e(this,this.playObjectOutSfx)),3.5))},playObjectOutSfx:function(){C.instance(this.owner._compMap.LevelSoundFx_12,pa).playSfx("object_pop_in")},onPlayGenericPoof:function(a){var b;b=this.owner._internal_getFromChildren("Chloe_41");var c=b.sprite.x._value+0.425*b.getNaturalWidth();-1==b.get_animationManager().moviePlayerChloe.owner._compMap.Sprite_1.scaleX._value&&
(c=b.sprite.x._value+-0.425*b.getNaturalWidth());b=b.sprite.y._value+-0.475*b.getNaturalHeight();c=new xa("generic_poof",c,b);if(null!=a)this.onPlayAnimationSfx(a);else this.onPlayAnimationSfx(c)},onPlayAnimationSfx:function(a){null!=this._animationNameMap1.get(a.name)&&this.playAnimationFX1(a);null!=this._animationNameMap2.get(a.name)&&this.playAnimationFX2(a)},playAnimationFX1:function(a){var b=this;this.sprite1.setXY(a.x,a.y);this.sprite1.set_visible(!0);this.animations1.playOnce(a.name,function(){null!=
a.callAfterAnimationPlay&&a.callAfterAnimationPlay();b.sprite1.set_visible(!1)})},playAnimationFX2:function(a){var b=this;this.sprite2.setXY(a.x,a.y);this.sprite2.set_visible(!0);this._animations2.playOnce(a.name,function(){null!=a.callAfterAnimationPlay&&a.callAfterAnimationPlay();b.sprite2.set_visible(!1)})},dispose:function(){h.prototype.dispose.call(this);this._animationRect2=this._animationRect1=this._animationOwner2=this._animationOwner1=this.sprite2=this._animations2=this.sprite1=this.animations1=
this._animationNameMap2=this._animationNameMap1=null;this._disposer.dispose();this._disposer=null},__class__:je});var Rd=function(){this._aniMapName2=new S;h.call(this);this._aniMapName2.set("newspaper",!0);this._aniMapName2.set("newspaper_walk",!0);this._aniMapName2.set("feather",!0);this._aniMapName2.set("feather_walk",!0);this._aniMapName2.set("flyswapper",!0);this._aniMapName2.set("flyswapper_walk",!0)};g["game.game.components.sfx.ItemAnimation"]=Rd;Rd.__name__=["game","game","components","sfx",
"ItemAnimation"];Rd.__super__=h;Rd.prototype=l(h.prototype,{get_name:function(){return"ItemAnimation_47"},onAdded:function(){h.prototype.onAdded.call(this);this._disposer=new R;this._chloe=this.owner._compMap.Chloe_41;this.setupItemPlayer()},onStart:function(){h.prototype.onStart.call(this);this._disposer.add(this._chloe.pageSignals.onChloeChangeItem.connect(e(this,this.onChloeChangeItem)))},setupItemPlayer:function(){var a=new G(this._chloe.pageFields.assetPack,"chapter_1/items");this.moviePlayerItems=
new ba(a);a=new k;this._chloe.get_animationManager().moviePlayerChloe.owner.addChild(a.add(this.moviePlayerItems));this.moviePlayerItems.loop("newspaper");this.moviePlayerItems.loop("newspaper_walk");this.moviePlayerItems.loop("flyswapper");this.moviePlayerItems.loop("flyswapper_walk");this.moviePlayerItems.loop("feather");this.moviePlayerItems.loop("feather_walk");this.movieSpriteItems=new q;a.add(this.movieSpriteItems);a.add(this.moviePlayerItems);this.rect=q.getBounds(this.owner);this.movieSpriteItems.set_visible(!1)},
onChloeChangeItem:function(a,b){null==a?this.movieSpriteItems.set_visible(!1):(this.movieSpriteItems.set_visible(!0),this.moviePlayerItems.loop(a),b||m.callWithDelay(this.owner,new n(e(this,this.onItemDisappear)),3.5))},onItemDisappear:function(){this.movieSpriteItems.set_visible(!1)},dispose:function(){h.prototype.dispose.call(this);this._disposer.dispose();this._chloe=this._disposer=null},__class__:Rd});var xa=function(a,b,c,f){this.name=a;this.x=b;this.y=c;this.callAfterAnimationPlay=f};g["game.game.components.sfx.SfxVariables"]=
xa;xa.__name__=["game","game","components","sfx","SfxVariables"];xa.prototype={__class__:xa};var Kf=function(a,b,c){this._duration=0;j.call(this,a);this._duration=b;this._funcToCallAfter=c};g["game.game.components.sfx.Sparkle"]=Kf;Kf.__name__=["game","game","components","sfx","Sparkle"];Kf.__super__=j;Kf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("sparkle");this.play();this.sprite.disablePointer()},play:function(){-1!=this._duration&&m.callWithDelay(this.owner,
new n(e(this,this.onDispose)),this._duration)},onDispose:function(){null!=this._funcToCallAfter&&this._funcToCallAfter();this.owner.dispose()},dispose:function(){j.prototype.dispose.call(this);this._funcToCallAfter=null},__class__:Kf});var ke=function(){h.call(this)};g["game.game.components.sfx.Sparkles"]=ke;ke.__name__=["game","game","components","sfx","Sparkles"];ke.__super__=h;ke.prototype=l(h.prototype,{get_name:function(){return"Sparkles_37"},onAdded:function(){h.prototype.onAdded.call(this);
this._assetLib=new G(r.preloaderAssetPack,"sparkle");this._sparkleLayer=new k;this.owner.addChild(this._sparkleLayer)},onStart:function(){h.prototype.onStart.call(this);this.setupListeners()},setupListeners:function(){this.owner._compMap.Disposer_49.add(this.owner._compMap.PageSignals_44.onPlaySparkle.connect(e(this,this.onPlaySparkle)))},onPlaySparkle:function(){this.placeOnTop();this.playSparkles1();m.callWithDelay(this.owner,new n(e(this,this.playSparkles2)),0.375);m.callWithDelay(this.owner,new n(e(this,
this.playSparkles3)),0.5625);m.callWithDelay(this.owner,new n(e(this,this.playSparkles4)),0.75)},playSparkles1:function(){this.playSparkleAt(0.9*i.get_scaledStageWidth(),0.15*i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.9*i.get_scaledStageWidth(),0.4*i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.9*i.get_scaledStageWidth(),0.65*i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.9*i.get_scaledStageWidth(),0.8*i.get_scaledStageHeight(),0.75,null)},playSparkles2:function(){this.placeOnTop();
this.playSparkleAt(0.75*i.get_scaledStageWidth(),0.4*i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.6*i.get_scaledStageWidth(),0.65*i.get_scaledStageHeight(),0.375,null)},playSparkles3:function(){this.placeOnTop();this.playSparkleAt(0.45*i.get_scaledStageWidth(),0.15*i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.55*i.get_scaledStageWidth(),0.8*i.get_scaledStageHeight(),0.75,null)},playSparkles4:function(){this.placeOnTop();this.playSparkleAt(0.1*i.get_scaledStageWidth(),0.15*
i.get_scaledStageHeight(),0.75,null);this.playSparkleAt(0.25*i.get_scaledStageWidth(),0.65*i.get_scaledStageHeight(),0.75,null)},placeOnTop:function(){this.owner.removeChild(this._sparkleLayer);this.owner.addChild(this._sparkleLayer)},playSparkleAt:function(a,b,c,f){null==c&&(c=-1);c=new Kf(this._assetLib,c,f);this._sparkleLayer.addChild((new k).add(c));c.sprite.setXY(a,b)},clear:function(){this._sparkleLayer.disposeChildren()},dispose:function(){h.prototype.dispose.call(this);this._sparkleLayer=
this._assetLib=null},__class__:ke});var Lf=function(a){j.call(this,a)};g["game.game.components.tutorial.ArrowTutorial"]=Lf;Lf.__name__=["game","game","components","tutorial","ArrowTutorial"];Lf.__super__=j;Lf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("arrow_indicator")},__class__:Lf});var Mf=function(a){j.call(this,a)};g["game.game.components.tutorial.BubbleText"]=Mf;Mf.__name__=["game","game","components","tutorial","BubbleText"];Mf.__super__=
j;Mf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("word_bubble_intro");this._moviePlayer.loop("word_bubble_disappear");this._moviePlayer.loop("word_bubble_idle");this.sprite.scaleX.set__(-1);this.movieSprite=this._moviePlayer.owner._compMap.Sprite_1},showBubble:function(a){this.sprite.set_visible(!0);this._funcToCallAfterIntro=a;this._moviePlayer.playOnce("word_bubble_intro",e(this,this.onFinishedIntro))},hide:function(){this._moviePlayer.playOnce("word_bubble_disappear",
e(this,this.onFinishedDisappear))},onFinishedDisappear:function(){this.sprite.set_visible(!1)},onFinishedIntro:function(){this._funcToCallAfterIntro();this._moviePlayer.loop("word_bubble_idle")},__class__:Mf});var Nf=function(a){j.call(this,a)};g["game.game.components.tutorial.TouchButton"]=Nf;Nf.__name__=["game","game","components","tutorial","TouchButton"];Nf.__super__=j;Nf.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._moviePlayer.loop("mobile_hand2");this.sprite.disablePointer()},
__class__:Nf});var Of=function(a){this._playingDown=this._playingLeft=this._playingRight=!1;j.call(this,a)};g["game.game.components.tutorial.TutorialButton"]=Of;Of.__name__=["game","game","components","tutorial","TutorialButton"];Of.__super__=j;Of.prototype=l(j.prototype,{onAdded:function(){j.prototype.onAdded.call(this);this._disposer=new R;this._moviePlayer.loop("down_arrow_button_down");this._moviePlayer.loop("down_arrow_button_up")},onStart:function(){j.prototype.onStart.call(this);this._chloe=
this.owner._internal_getFromParents("Chloe_41")},loopDownArrow:function(){if(!this._playingDown){this._playingDown=!0;this._playingRight=this._playingLeft=!1;this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1);this.disposeArrowAction();var a=new oa([new n(e(this,this.onLoopDownArrowDown)),new L(0.5),new n(e(this,this.onLoopDownArrowUp)),new L(0.5)]),a=new Ea(a),b=new na;this._arrowAction=b.run(a);this.owner.addChild((new k).add(b))}},loopLeftArrow:function(){if(!this._playingLeft){this._playingLeft=
!0;this._playingRight=this._playingDown=!1;this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(1);this.disposeArrowAction();var a=new oa([new n(e(this,this.onLoopLeftArrowDown)),new L(0.5),new n(e(this,this.onLoopLeftArrowUp)),new L(0.5)]),a=new Ea(a),b=new na;this._arrowAction=b.run(a);this.owner.addChild((new k).add(b))}},loopRightArrow:function(){if(!this._playingRight){this._playingRight=!0;this._playingLeft=this._playingDown=!1;this._moviePlayer.owner._compMap.Sprite_1.scaleX.set__(-1);this.disposeArrowAction();
var a=new oa([new n(e(this,this.onLoopLeftArrowDown)),new L(0.5),new n(e(this,this.onLoopLeftArrowUp)),new L(0.5)]),a=new Ea(a),b=new na;this._arrowAction=b.run(a);this.owner.addChild((new k).add(b))}},onLoopLeftArrowDown:function(){this._moviePlayer.loop("left_arrow_button_down")},onLoopLeftArrowUp:function(){this._moviePlayer.loop("left_arrow_button_up")},onLoopDownArrowDown:function(){this._moviePlayer.loop("down_arrow_button_down")},onLoopDownArrowUp:function(){this._moviePlayer.loop("down_arrow_button_up")},
disposeArrowAction:function(){null!=this._arrowAction&&(this._arrowAction.dispose(),this._arrowAction=null)},__class__:Of});var De=function(){this._showingArrowTimer=0;this._startTutorial=!1;this.isMobile=!0;this.roachActivated=this.swatActivated=this.sunActivated=!1;h.call(this);this.isMobile=t._platform.getTouch().get_supported()};g["game.game.components.tutorial.TutorialManager"]=De;De.__name__=["game","game","components","tutorial","TutorialManager"];De.__super__=h;De.prototype=l(h.prototype,
{get_name:function(){return"TutorialManager_22"},onAdded:function(){h.prototype.onAdded.call(this);this._chloe=this.owner._internal_getFromChildren("Chloe_41");this._disposer=new R;this._pageFields=this.owner._compMap.PageFields_45},pointArrowAt:function(a){this.arrow.sprite.set_visible(!0);this.arrow.sprite.setXY(a.x._value+0.5*a.getNaturalWidth(),a.y._value)},resetArrowTutorialTime:function(){this._startTutorial=!0;this._showingArrowTimer=0;this.arrow.sprite.set_visible(!1)},detectKeywordTextSprite:function(){for(var a=
0,b=this._pageFields.textSprites;a<b.length;){var c=b[a];++a;for(var f=0,d=this._pageFields.triggerWords;f<d.length;){var e=d[f];++f;if(e==c._text)switch(this._pageFields.keywordIds.get(c._text)){case 2:this._swatTextSprite=c;break;case 3:this._sunTextSprite=c;break;case 1:this._roachTextSprite=c,this.currentTextToActivate=c._text}}}},onStart:function(){h.prototype.onStart.call(this);this._enterLevelSignal=this.owner._compMap.PageSignals_44.onFinishedPageFlipping.connect(e(this,this.onFinishedPageFlipping))},
onUpdate:function(a){h.prototype.onUpdate.call(this,a);this.isMobile?this.updateTouchTutorial():this.updateKeyboardTutorial(a)},updateKeyboardTutorial:function(a){!this.swatActivated&&null!=this._swatTextSprite?this.loopButtonDirection(this._swatTextSprite):!this.sunActivated&&null!=this._sunTextSprite?this.loopButtonDirection(this._sunTextSprite):null!=this._bubbleText&&null!=this._button&&(this._bubbleText.sprite.set_visible(!1),this._button.sprite.set_visible(!1));this.updateTutorialArrow(a)},
updateTutorialArrow:function(a){this._startTutorial&&(this.roachActivated?this.swatActivated?this.sunActivated||(this._showingArrowTimer+=a,5<=this._showingArrowTimer&&(this._startTutorial=!1,this.pointArrowAt(this._sunTextSprite))):(this._showingArrowTimer+=a,5<=this._showingArrowTimer&&(this._startTutorial=!1,this.pointArrowAt(this._swatTextSprite))):(this._showingArrowTimer+=a,5<=this._showingArrowTimer&&(this._startTutorial=!1,this.pointArrowAt(this._roachTextSprite))))},updateTouchTutorial:function(){if(!this.roachActivated&&
null!=this._roachTextSprite){var a=this._roachTextSprite.x._value+0.5*this._roachTextSprite.getNaturalWidth(),b=this._roachTextSprite.y._value+0.9*this._roachTextSprite.getNaturalHeight();this._touchButton.sprite.setXY(a,b)}else!this.swatActivated&&null!=this._swatTextSprite?(a=this._swatTextSprite.x._value+0.5*this._swatTextSprite.getNaturalWidth(),b=this._swatTextSprite.y._value+0.9*this._swatTextSprite.getNaturalHeight(),this._touchButton.sprite.setXY(a,b)):!this.sunActivated&&null!=this._sunTextSprite&&
(a=this._sunTextSprite.x._value+0.5*this._sunTextSprite.getNaturalWidth(),b=this._sunTextSprite.y._value+0.9*this._sunTextSprite.getNaturalHeight(),this._touchButton.sprite.setXY(a,b))},loopButtonDirection:function(a){if(this._chloe.isInside(a))this._button.loopDownArrow();else{var b=this._chloe.sprite.x._value,c=a.x._value+0.5*a.getNaturalWidth();a.lineNumber==this._chloe.get_moveManager().currentLineNumberStandingOn?b>c?this._button.loopLeftArrow():this._button.loopRightArrow():a.lineNumber<this._chloe.get_moveManager().currentLineNumberStandingOn?
this._button.loopLeftArrow():this._button.loopRightArrow()}},onFinishedPageFlipping:function(){this.detectKeywordTextSprite();this.isMobile?this.setupTouchTutorial():this.setupDesktopTutorial()},setupTouchTutorial:function(){this.setupTouchButton(new G(this._pageFields.assetPack,"chapter_1/tutorial"))},setupDesktopTutorial:function(){m.callWithDelay(this.owner,new n(e(this,this.onShowBubble)),1.25);var a=new G(this._pageFields.assetPack,"chapter_1/tutorial");this.setupBubbleText(a);this.setupButton(a);
this.setupArrowTutorial(a);this._wanda=this._chloe.owner._internal_getFromChildren("Wanda_21");this._wanda.setTutorialOwnerAndPosition(zb.RIGHT_LIMIT_WIDTH-0.9*this._bubbleText.getNaturalWidth());this._startTutorial=!0},setupArrowTutorial:function(a){this.arrow=new Lf(a);this.owner.addChild((new k).add(this.arrow));this.arrow.sprite.set_visible(!1)},setupTouchButton:function(a){this._touchButton=new Nf(a);this.owner.addChild((new k).add(this._touchButton))},onShowBubble:function(){this._bubbleText.showBubble(e(this,
this.onFinishedShowBubble))},onFinishedShowBubble:function(){this._button.sprite.set_visible(!0)},setupBubbleText:function(a){this._bubbleText=new Mf(a);this._chloe.owner._internal_getFromChildren("Wanda_21").animation.owner.addChild((new k).add(this._bubbleText));var a=-0.5*this._bubbleText.getNaturalWidth(),b=0.45*this._bubbleText.getNaturalHeight();this._bubbleText.sprite.setXY(a,b);this._bubbleText.sprite.set_visible(!1)},setupButton:function(a){this._button=new Of(a);this._chloe.owner._internal_getFromChildren("Wanda_21");
this._bubbleText.movieSprite.owner.addChild((new k).add(this._button));var a=0.225*this._bubbleText.getNaturalWidth()+0*this._button.getNaturalWidth(),b=-0.25*this._bubbleText.getNaturalHeight()+-0.0*this._button.getNaturalHeight();this._button.sprite.setXY(a,b);this._button.sprite.set_visible(!1);this._button.loopLeftArrow()},set_roachActivated:function(a){a&&(this.isMobile?this.currentTextToActivate=this._swatTextSprite._text:this.resetArrowTutorialTime());return this.roachActivated=a},set_swatActivated:function(a){a&&
(this.isMobile?this.currentTextToActivate=this._sunTextSprite._text:(this._bubbleText.hide(),this._button.sprite.set_visible(!1),this.resetArrowTutorialTime()));return this.swatActivated=a},set_sunActivated:function(a){a&&(this.isMobile?this._touchButton.sprite.set_visible(!1):(this._bubbleText.hide(),this.resetArrowTutorialTime()));return this.sunActivated=a},dispose:function(){h.prototype.dispose.call(this);this._enterLevelSignal.dispose();this._enterLevelSignal=null;this._disposer.dispose();this._disposer=
null;this.isMobile?null!=this._touchButton&&this._touchButton.owner.dispose():null!=this._bubbleText&&this._bubbleText.owner.dispose();this._chloe=this._bubbleText=this._touchButton=null},showTutorial:function(){this.isMobile||this._bubbleText.showBubble(e(this,this.onFinishedShowBubble))},__class__:De});var Bg=function(){};g["game.game.objects.Newspaper"]=Bg;Bg.__name__=["game","game","objects","Newspaper"];Bg.__super__=h;Bg.prototype=l(h.prototype,{get_name:function(){return"Newspaper_16"},onAdded:function(){h.prototype.onAdded.call(this);
this.setupSprite();this._chloe=this.owner._internal_getFromParents("Chloe_41")},onUpdate:function(a){h.prototype.onUpdate.call(this,a)},setupSprite:function(){this._sprite.centerAnchor()},__class__:Bg});var nc=function(a,b){this.lineNumber=0;sb.call(this,a,b)};g["game.game.text.StoryTextSprite"]=nc;nc.__name__=["game","game","text","StoryTextSprite"];nc.__super__=sb;nc.prototype=l(sb.prototype,{__class__:nc});var Ag=function(a,b,c,f){this.fontName=a;this.fontScale=b;this.offsetX=c;this.offsetY=f};
g["game.game.text.TextSettings"]=Ag;Ag.__name__=["game","game","text","TextSettings"];Ag.prototype={__class__:Ag};var Pf=function(a){q.call(this);this._chloeActivatingWord=new j(a);this._chloeMoving=new j(a);this._textActivation=new j(a);this._poof=new j(a);this._hand=new j(a);this._leftKey=new j(a);this._rightKey=new j(a)};g["game.help.HelpPlayer"]=Pf;Pf.__name__=["game","help","HelpPlayer"];Pf.__super__=q;Pf.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);this.owner.addChild(this._activationAnimationLayer=
new k);this.setupHowToText();t._platform.getTouch().get_supported()?this.setupHowToTextForTouchScreen():(this.setupMoveLeftAndRight(),this.setupHowToTextForDesktop(),this.setupKeyAnimations(),this.setupChloeMoving());this.setupChloeActivatingWord();this.setupTextActivation();this.setupPoof();this.setupHand()},onStart:function(){q.prototype.onStart.call(this);this._scaledUpWord.x.set__(this._chloeActivatingWord.sprite.x._value+-1.25*this._chloeActivatingWord.getNaturalWidth());this._scaledUpWord.y.set__(this._chloeActivatingWord.sprite.y._value+
-0.5*this._chloeActivatingWord.getNaturalHeight());this._poof.sprite.x.set__(this._scaledUpWord.x._value+0.5*this._scaledUpWord.getNaturalWidth()+0.1*this._poof.getNaturalWidth());this._poof.sprite.y.set__(this._scaledUpWord.y._value+-0.5*this._scaledUpWord.getNaturalHeight())},setupHowToText:function(){this._toActivateSprite=new N("how_to_activate");this.owner.addChild((new k).add(this._toActivateSprite));this._toActivateSprite.centerAnchor();this._word=new N("word");this.owner.addChild((new k).add(this._word));
this._word.centerAnchor()},setupMoveLeftAndRight:function(){this._moveLeftAndRight=new N("how_to_move");this.owner.addChild((new k).add(this._moveLeftAndRight));this._moveLeftAndRight.centerAnchor()},setupHowToTextForTouchScreen:function(){var a=this._toActivateSprite.x;a.set__(a._value-0.5*this._word.getNaturalWidth());this._toActivateSprite.y.set__(0.22*i.get_scaledStageHeight());this._word.x.set__(this._toActivateSprite.x._value+0.5*this._toActivateSprite.getNaturalWidth()+0.6*this._word.getNaturalWidth());
this._word.y.set__(this._toActivateSprite.y._value);this._scaledUpWord=new N("word");this.owner.addChild((new k).add(this._scaledUpWord));this._scaledUpWord.centerAnchor();this._scaledUpWord.setScale(this._scaledUpWord.scaleX._value+0.4);this._scaledUpWord.set_visible(!1)},setupHowToTextForDesktop:function(){this._moveLeftAndRight.x.set__(-0.1*i.get_scaledStageWidth());this._moveLeftAndRight.y.set__(0.22*i.get_scaledStageHeight());var a=0.05*i.get_scaledStageWidth();this._toActivateSprite.x.set__(this._moveLeftAndRight.x._value+
0.5*this._moveLeftAndRight.getNaturalWidth()+0.5*this._toActivateSprite.getNaturalWidth()+a);this._toActivateSprite.y.set__(this._moveLeftAndRight.y._value);this._word.x.set__(this._toActivateSprite.x._value+0.5*this._toActivateSprite.getNaturalWidth()+0.6*this._word.getNaturalWidth());this._word.y.set__(this._toActivateSprite.y._value);this._scaledUpWord=new N("word");this.owner.addChild((new k).add(this._scaledUpWord));this._scaledUpWord.centerAnchor();this._scaledUpWord.scaleX.set__(this._scaledUpWord.scaleX._value+
0.3);this._scaledUpWord.set_visible(!1)},setupKeyAnimations:function(){this.owner.addChild((new k).add(this._leftKey));this._leftKey.loop("left_btn_pressed");this._leftKey.loop("left_btn_idle");this._leftKey.sprite.x.set__(this._moveLeftAndRight.x._value-0.5*this._moveLeftAndRight.getNaturalWidth()+0.5*this._leftKey.getNaturalWidth());this._leftKey.sprite.y.set__(this._moveLeftAndRight.y._value-0.5*this._moveLeftAndRight.getNaturalHeight()-0.5*this._leftKey.getNaturalHeight());this.owner.addChild((new k).add(this._rightKey));
this._rightKey.sprite.scaleX.set__(-1);this._rightKey.loop("left_btn_pressed");this._rightKey.loop("left_btn_idle");this._rightKey.sprite.x.set__(this._moveLeftAndRight.x._value+0.5*this._moveLeftAndRight.getNaturalWidth()-0.5*this._rightKey.getNaturalWidth());this._rightKey.sprite.y.set__(this._moveLeftAndRight.y._value-0.5*this._moveLeftAndRight.getNaturalHeight()-0.5*this._rightKey.getNaturalHeight())},setupChloeMoving:function(){this.owner.addChild((new k).add(this._chloeMoving));this._chloeMoving.loop("chloe_walk_htp");
this._leftLimit=this._leftKey.sprite.x._value+0.5*this._leftKey.getNaturalWidth()+0.5*this._chloeMoving.getNaturalWidth();this._chloeMoving.sprite.x.set__(this._leftLimit);this._chloeMoving.sprite.y.set__(1.475*this._chloeMoving.getNaturalHeight());this._rightLimit=this._rightKey.sprite.x._value-0.5*this._rightKey.getNaturalWidth()-0.5*this._chloeMoving.getNaturalWidth();var a=new va([new n(e(this,this.onChloeMoveToRight)),new L(1.5),new n(e(this,this.onChloeIdle)),new L(0.5),new n(e(this,this.onChloeMoveToLeft)),
new L(1.5),new n(e(this,this.onChloeIdle)),new L(0.5)]),a=new xb(a),b=new Ca;b.run(a);this.owner.addChild((new k).add(b))},onChloeIdle:function(){this._chloeMoving.loop("chloe_idle_htp");this._leftKey.loop("left_btn_idle");this._rightKey.loop("left_btn_idle")},onChloeMoveToLeft:function(){this._chloeMoving.setMovieScaleX(-1);this._chloeMoving.loop("chloe_walk_htp");this._chloeMoving.sprite.x.animateTo(this._leftLimit,1.5);this._leftKey.loop("left_btn_pressed");this._rightKey.loop("left_btn_idle")},
onChloeMoveToRight:function(){this._chloeMoving.setMovieScaleX(1);this._chloeMoving.loop("chloe_walk_htp");this._chloeMoving.sprite.x.animateTo(this._rightLimit,1.5);this._rightKey.loop("left_btn_pressed");this._leftKey.loop("left_btn_idle")},setupChloeActivatingWord:function(){this.owner.addChild((new k).add(this._chloeActivatingWord));this._chloeActivatingWord.loop("chloe_walk_htp");this._chloeActivatingWord.sprite.x.set__(this._toActivateSprite.x._value);this._chloeActivatingWord.sprite.y.set__(1.475*
this._chloeActivatingWord.getNaturalHeight());var a=new va([new ka(e(this,this.onChloeActivatingWordGoToLeft)),new L(1),new ka(e(this,this.onChloeActivatingWordGoToRight)),new L(1),new ka(e(this,this.onActivateWord)),new L(1)]),a=new xb(a),b=new Ca;b.run(a);this.owner.addChild((new k).add(b))},setupTextActivation:function(){this._activationAnimationLayer.add(this._textActivation);this._textActivation.sprite.x.set__(this._word.x._value+-0.28*this._word.getNaturalWidth());this._textActivation.sprite.y.set__(this._word.y._value);
this._textActivation.loop("glow_text_htp");this._textActivation.loopWithDuration("glow_text_htp",e(this,this.onHideTextActivation),0.1);this._textActivation.setMovieScaleX(this._word.getNaturalWidth()/this._textActivation.getNaturalWidth()+0.2)},setupPoof:function(){this.owner.addChild((new k).add(this._poof));this._poof.loop("generic_poof_htp");this._poof.sprite.set_visible(!1)},setupHand:function(){this.owner.addChild((new k).add(this._hand));this._hand.loop("mobile_hand2_htp");this._hand.sprite.x.set__(this._word.x._value);
this._hand.sprite.y.set__(this._word.y._value)},onChloeActivatingWordGoToLeft:function(){this._chloeActivatingWord.sprite.scaleX.set__(-1);this._chloeActivatingWord.loop("chloe_walk_htp");this._chloeActivatingWord.sprite.x.animateTo(this._toActivateSprite.x._value+-0.5*this._toActivateSprite.getNaturalWidth(),1)},onChloeActivatingWordGoToRight:function(){this._chloeActivatingWord.sprite.scaleX.set__(1);this._chloeActivatingWord.loop("chloe_walk_htp");this._chloeActivatingWord.sprite.x.animateTo(this._word.x._value,
1)},onActivateWord:function(){this._textActivation.sprite.set_visible(!0);this._scaledUpWord.set_visible(!0);this._poof.sprite.set_visible(!0);this._scaledUpWord.x.set__(this._chloeActivatingWord.sprite.x._value+-1.75*this._chloeActivatingWord.getNaturalWidth());this._poof.sprite.x.set__(this._scaledUpWord.x._value);this._chloeActivatingWord.loop("chloe_idle_htp");this._poof.playOnce("generic_poof_htp",e(this,this.onHidePoof));this._textActivation.loopWithDuration("glow_text_htp",e(this,this.onHideTextActivation),
1)},onHidePoof:function(){this._poof.sprite.set_visible(!1)},onHideTextActivation:function(){this._textActivation.sprite.set_visible(!1);this._scaledUpWord.set_visible(!1)},__class__:Pf});var N=function(a,b){this.xmlString=H.getXmlString(a);sb.call(this,null==b?Ua.getInstance().getFont(this.xmlString.fontName,r.fontPack):b,this.xmlString.string);this.setXY(this.xmlString.offsetX,this.xmlString.offsetY);this.setScale(this.xmlString.fontScale)};g["game.localization.IETextSprite"]=N;N.__name__=["game",
"localization","IETextSprite"];N.__super__=sb;N.prototype=l(sb.prototype,{setXmlString:function(a){this.xmlString=H.getXmlString(a);this.set_text(this.xmlString.string)},setXYAppend:function(a,b){this.setXY(a+this.xmlString.offsetX,b+this.xmlString.offsetY);return this},__class__:N});var H=function(){h.call(this);H.configXml=new Xb(w.parse(H.xmlPack.getFile("config.xml").toString()));var a=H.configXml.node.resolve("config").node.resolve("localization").node.resolve("region").get_innerData();H.translationXml=
new Xb(w.parse(H.xmlPack.getFile("translation_"+a+".xml").toString()));H.defaultFont=H.translationXml.node.resolve("strings").att.resolve("defaultFont");H.translationNodes=[];H.translationNodes=vc.array(H.translationXml.node.resolve("strings").nodes.resolve("string"))};g["game.localization.IEXmlReader"]=H;H.__name__=["game","localization","IEXmlReader"];H.getLocalizationRegion=function(){return H.configXml.node.resolve("config").node.resolve("localization").node.resolve("region").get_innerData()};
H.getDefaultFont=function(){return H.defaultFont};H.getXmlString=function(a){for(var b=0,c=H.translationNodes;b<c.length;){var f=c[b];++b;if(f.att.resolve("id")==a)return b=f,new Cg(a,""==b.att.resolve("fontName")?H.defaultFont:b.att.resolve("fontName"),C.parseFloat(b.att.resolve("fontScale")),C.parseFloat(b.att.resolve("offsetX")),C.parseFloat(b.att.resolve("offsetY")),b.get_innerData())}return null};H.getPiracyURL=function(){return H.configXml.node.resolve("config").node.resolve("piracycontrol").get_innerData()};
H.isPiracyOn=function(){return"true"==H.configXml.node.resolve("config").node.resolve("piratecontrolactivated").get_innerData()?!0:!1};H.getCanadaTrackingData=function(){return H.configXml.node.resolve("config").node.resolve("Canadatracking").get_innerData()};H.__super__=h;H.prototype=l(h.prototype,{get_name:function(){return"IEXmlReader_36"},__class__:H});var Cg=function(a,b,c,f,d,e){this.id=a;this.fontName=b;this.fontScale=c;this.offsetX=f;this.offsetY=d;this.string=e};g["game.localization.XmlString"]=
Cg;Cg.__name__=["game","localization","XmlString"];Cg.prototype={__class__:Cg};var yb=function(){};g["game_app.GameApp"]=yb;yb.__name__=["game_app","GameApp"];yb.getInstance=function(){null==yb._instance&&(yb._instance=new yb);return yb._instance};yb.prototype={init:function(a){this._gameSceneToUse=a;Ja.getInstance().loadSoundStatus()||B.getInstance().disableAudio();Nb.getInstance().init()},get_gameSceneToUse:function(){return this._gameSceneToUse},__class__:yb};var Qg=function(){};g["game_app.Main"]=
Qg;Qg.__name__=["game_app","Main"];Qg.main=function(){Pg.start()};var Qf=function(){};g["game_app.Registry"]=Qf;Qf.__name__=["game_app","Registry"];var Nb=function(){};g["game_app.managers.AppInitializationManager"]=Nb;Nb.__name__=["game_app","managers","AppInitializationManager"];Nb.getInstance=function(){null==Nb._instance&&(Nb._instance=new Nb);return Nb._instance};Nb.prototype={init:function(){t.init();M.onAudioToggle=function(a){t.volume.set__(a?1:0)};M.onPlaybackToggle=function(a){if(a)null!=
Z.getInstance().get_currentGameScene()&&!0==Qf.isGamePaused&&U.getInstance().popFrontScene();else if(null!=Z.getInstance().get_currentGameScene()&&!0!=Qf.isGamePaused)Z.getInstance().get_currentGameScene().get_gameUI().onPauseButtonPressed()};t.root.add(new Cd);Ma.setupBaseURL();t.root.add(new lc);this.setupHdSdSystem();this.loadConfigAssetPack()},setupHdSdSystem:function(){Ta.getInstance().addToExceptionForHdSdAssetVersioning("config,fonts_cn,fonts_en,fonts_la,fonts_ru,fonts_sc".split(","));Kb.isLowEndDevice()?
Y.getInstance().set_scale(0.5):Y.getInstance().set_scale(1);null},loadConfigAssetPack:function(){qa.sendGameEvent("onLoadingStart");Ta.getInstance().loadAssetPack("config",e(this,this.onFinishedLoadingConfigAssetPack))},onFinishedLoadingConfigAssetPack:function(a){H.xmlPack=a;t.root.addChild((new k).add(new H));H.isPiracyOn()&&W.checkPiracy(H.getPiracyURL());m.callWithDelay(t.root,new n(e(this,this.loadPreloaderAssetPack)),0.3)},loadPreloaderAssetPack:function(){Ta.getInstance().loadAssetPack("preloader",
e(this,this.onFinishedLoadingPreloaderAssets),null,null)},onFinishedLoadingPreloaderAssets:function(a){r.preloaderAssetPack=a;m.callWithDelay(t.root,new n(e(this,this.loadAppAssets)),0)},loadAppAssets:function(){Ta.getInstance().loadAssetPack("fonts_"+H.getLocalizationRegion(),e(this,this.onFinishedLoadingFontAssetPack))},onFinishedLoadingAppAssets:function(a){r.appAssetPack=a;qa.sendGameEvent("onLoadingEnd");this._loadingScene.doneLoading=!0},onFinishedLoadingFontAssetPack:function(a){r.fontPack=
a;m.callWithDelay(t.root,new n(e(this,this.onLoadLoadingAppAssetPack)),0.3)},onLoadLoadingAppAssetPack:function(){this._loadingScene=new Rc(e(this,this.setupThenGoToTitleScreen));Ta.getInstance().loadAssetPack("app",e(this,this.onFinishedLoadingAppAssets),this._loadingScene,3)},setupThenGoToTitleScreen:function(){U.getInstance().fadeNewScene(new Rf,0.35)},__class__:Nb};var r=function(){};g["game_app.managers.AssetManager"]=r;r.__name__=["game_app","managers","AssetManager"];r.getTexture=function(a){return r.getDefaultAppTexture(a)};
r.getDefaultAppTexture=function(a){return r.appAssetPack.getTexture(a)};var Ua=function(){this._fontMap=new S};g["game_app.managers.FontManager"]=Ua;Ua.__name__=["game_app","managers","FontManager"];Ua.getInstance=function(){null==Ua._instance&&(Ua._instance=new Ua);return Ua._instance};Ua.prototype={getFont:function(a,b){null==this.defaultFont&&this.setupDefaultFont();var c=this._fontMap.get(a);null==c&&(c=new Sb(b,a),this._fontMap.set(a,c));return c},setupDefaultFont:function(){H.getLocalizationRegion();
this.defaultFont=new Sb(r.fontPack,H.getDefaultFont())},__class__:Ua};var Z=function(a,b){h.call(this);Z._instance=this;this._gameAssetPack=b;this._currentGameScene=a};g["game_app.managers.GameManager"]=Z;Z.__name__=["game_app","managers","GameManager"];Z.loadAndGoToGameScene=function(){"1"==H.getCanadaTrackingData()&&t._platform.getExternal().call("trackFlashEvent",["Spongebob Squarepants: Boogiebob Dancepants","play","true"]);var a=Z.getInstance();if(null!=a&&null!=a.get_gameAssetPack())Z.onGameLoadingSuccess(a.get_gameAssetPack());
else Ta.getInstance().loadAssetPack("game",Z.onGameLoadingSuccess,new Rc,3)};Z.switchToGameScene=function(a){a=aa.createInstance(yb.getInstance().get_gameSceneToUse(),[a]);U.getInstance().fadeNewScene(a,0.35)};Z.onGameLoadingSuccess=function(a){Z.switchToGameScene(a);qa.sendGameEvent("onLevelStart")};Z.getInstance=function(){null==Z._instance&&null;return Z._instance};Z.__super__=h;Z.prototype=l(h.prototype,{get_name:function(){return"GameManager_26"},onAdded:function(){h.prototype.onAdded.call(this);
this._scoreManager=new Sf(this.get_currentGameScene().get_gameUI());this.owner.addChild((new k).add(this._scoreManager))},endGame:function(){B.getInstance().stopAllAudio();this._currentGameScene.get_gameUI().get_pauseButton().get_sprite().set_visible(!1);U.getInstance().fadeNewScene(new sc,0.01);qa.sendGameEvent("onLevelComplete")},exitGame:function(){B.getInstance().stopAllAudio();U.getInstance().fadeNewScene(new Ob,0.01);qa.sendGameEvent("onLevelComplete")},onEnterTransitionFinished:function(){},
get_gameAssetPack:function(){return this._gameAssetPack},get_currentGameScene:function(){return this._currentGameScene},onRemoved:function(){h.prototype.onRemoved.call(this);this._currentGameScene=null},__class__:Z});var Ja=function(){this._isEnabled=!0};g["game_app.managers.SaveManager"]=Ja;Ja.__name__=["game_app","managers","SaveManager"];Ja.getInstance=function(){null==Ja._instance&&(Ja._instance=new Ja);return Ja._instance};Ja.prototype={saveHighestClear:function(a){this._isEnabled&&t._platform.getStorage().set("highestClear",
a)},loadHighestClear:function(){return t._platform.getStorage().get("highestClear",0)},loadHighScore:function(){return t._platform.getStorage().get("highScoreSlot",0)},saveAccumulatedScore:function(a){this._isEnabled&&t._platform.getStorage().set("accumulatedScoreSlot",a)},loadAccumulatedScore:function(){return t._platform.getStorage().get("accumulatedScoreSlot",0)},saveSoundStatus:function(a){this._isEnabled&&t._platform.getStorage().set("isSoundOnSlot",a)},loadSoundStatus:function(){return t._platform.getStorage().get("isSoundOnSlot",
!0)},__class__:Ja};var Sf=function(a){this._currentHighScore=this._accumulatedScore=0;h.call(this);this._gameUI=a};g["game_app.managers.ScoreManager"]=Sf;Sf.__name__=["game_app","managers","ScoreManager"];Sf.__super__=h;Sf.prototype=l(h.prototype,{get_name:function(){return"ScoreManager_27"},onAdded:function(){h.prototype.onAdded.call(this);this.loadScoreDataFromSave()},loadScoreDataFromSave:function(){this._currentHighScore=Ja.getInstance().loadHighScore();this._accumulatedScore=Ja.getInstance().loadAccumulatedScore();
this.setAccumulatedScore(this._accumulatedScore)},setAccumulatedScore:function(a){this._accumulatedScore=a;0>=this._accumulatedScore?this._accumulatedScore=0:5E5<this._accumulatedScore&&(this._accumulatedScore=5E5);Ja.getInstance().saveAccumulatedScore(this._accumulatedScore)},onRemoved:function(){h.prototype.onRemoved.call(this);this._gameUI=null},__class__:Sf});var Ob=function(){z.call(this)};g["game_app.scenes.ChapterSelectScene"]=Ob;Ob.__name__=["game_app","scenes","ChapterSelectScene"];Ob.__super__=
z;Ob.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this._disposer=new R;this._loadingGame=!1;B.getInstance().stopAllAudio();this._shownChapter=1+((v.currentLevelNumber-1)/3|0);this.setupBackground();this.setupChapterName();this.setupLeftRightButton();this.setupChapterPages();this.setupAudioButton();this._animateScript=new Ca;this.owner.add(this._animateScript);this.setupPoofMovie();this.showChapter();B.getInstance().stopAllAudio();this._titlePlayback=B.getInstance().loopAudio("audio/bgm/wishing 101-main_menu_bgm",
r.appAssetPack);B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack)},setupPoofMovie:function(){var a=new G(r.appAssetPack,"scenes/poof_smoke_transition");this._poofClip=new ba(a);a=new q;this.owner.addChild((new k).add(a));a.owner.add(this._poofClip);this._poofClip.loop("pink_large_smoke");var b=q.getBounds(a.owner);a.setXY(-2*b.width,-2*b.height);a.setScale(2);m.callWithDelay(this.owner,new n(e(this,this.showPages)),0.1);B.getInstance().playAudio("audio/sfx/poof",r.appAssetPack);this._poofClip.playOnce("pink_large_smoke",
e(this,this.clearSmoke),!0)},setupBackground:function(){var a=new F(r.getTexture("scenes/chapter/chapter_select_bg"));this.owner.addChild((new k).add(a));a.centerAnchor();a.get_pointerUp().connect(e(this,this.onTouchedAnywhere))},setupLeftRightButton:function(){this._leftButton=new V(r.getTexture("ui/buttons/btn_prev_idle"),null,r.getTexture("ui/buttons/btn_prev_pressed"),r.getTexture("ui/buttons/btn_prev_disabled"));this.owner.addChild((new k).add(this._leftButton));this._leftButton.setOnClickFunction(e(this,
this.onLeftButtonClicked));this._leftButton.get_sprite().x.set__(0.42*-i.get_scaledScreenWidth());this._leftButton.get_sprite().y.set__(0);this._disabledLeft=new F(r.getTexture("ui/buttons/btn_no_button_next_prev"));this.owner.addChild((new k).add(this._disabledLeft));this._disabledLeft.x.set__(0.42*-i.get_scaledScreenWidth());this._disabledLeft.y.set__(0);this._disabledLeft.disablePointer();this._disabledLeft.set_visible(!0);this._disabledLeft.centerAnchor();this._rightButton=new V(r.getTexture("ui/buttons/btn_next_idle"),
null,r.getTexture("ui/buttons/btn_next_pressed"),r.getTexture("ui/buttons/btn_next_disabled"));this.owner.addChild((new k).add(this._rightButton));this._rightButton.setOnClickFunction(e(this,this.onRightButtonClicked));this._rightButton.get_sprite().x.set__(0.43*i.get_scaledScreenWidth());this._rightButton.get_sprite().y.set__(0);this._disabledRight=new F(r.getTexture("ui/buttons/btn_no_button_next_prev"));this.owner.addChild((new k).add(this._disabledRight));this._disabledRight.x.set__(0.43*i.get_scaledScreenWidth());
this._disabledRight.y.set__(0);this._disabledRight.disablePointer();this._disabledRight.set_visible(!1);this._disabledRight.centerAnchor()},setupAudioButton:function(){this._audioButton=new Zb(0.405*i.get_scaledStageWidth(),0.39*-i.get_scaledStageHeight());this.owner.addChild((new k).add(this._audioButton))},setupChapterPages:function(){var a=new G(r.preloaderAssetPack,"sparkle");this._firstSparkle=new ba(a);this._secondSparkle=new ba(a);this._thirdSparkle=new ba(a);this._firstPageIcon=new F(r.getTexture("scenes/chapter/asset_ch_p_locked_all"));
this.owner.addChild((new k).add(this._firstPageIcon));this._firstPageIcon.centerAnchor();this._firstPageIcon.setXY(0.25*-i.get_scaledScreenWidth(),0.1*i.get_scaledScreenHeight());this._disposer.add(this._firstPageIcon.get_pointerUp().connect(e(this,this.onFirstIconClicked)));a=new q;this.owner.addChild((new k).add(a));a.owner.add(this._firstSparkle);a.centerAnchor();a.setXY(0.25*-i.get_scaledScreenWidth(),0.1*i.get_scaledScreenHeight());a.set_pointerEnabled(!1);this._firstSparkle.loop("sparkle");
this._firstPageButton=new V(r.getTexture("ui/buttons/btn_long_idle"),null,r.getTexture("ui/buttons/btn_long_pressed"),r.getTexture("ui/buttons/btn_long_disabled"));this.owner.addChild((new k).add(this._firstPageButton));this._firstPageButton.setOnClickFunction(e(this,this.onFirstButtonClicked));this._firstPageButton.get_sprite().x.set__(0.25*-i.get_scaledScreenWidth());this._firstPageButton.get_sprite().y.set__(0.35*i.get_scaledScreenHeight());this._firstPageButton.set_enabled(!1);a=new N("page1");
a.setXY(0.5*this._firstPageButton.get_sprite().getNaturalWidth(),0.45*this._firstPageButton.get_sprite().getNaturalHeight());a.centerAnchor();this._firstPageButton.owner.addChild((new k).add(a));this._secondPageIcon=new F(r.getTexture("scenes/chapter/asset_ch_p_locked_all"));this.owner.addChild((new k).add(this._secondPageIcon));this._secondPageIcon.centerAnchor();this._secondPageIcon.setXY(0,0.1*i.get_scaledScreenHeight());this._disposer.add(this._secondPageIcon.get_pointerUp().connect(e(this,this.onSecondIconClicked)));
a=new q;this.owner.addChild((new k).add(a));a.owner.add(this._secondSparkle);a.centerAnchor();a.setXY(0,0.1*i.get_scaledScreenHeight());this._secondSparkle.loop("sparkle");a.set_pointerEnabled(!1);this._secondPageButton=new V(r.getTexture("ui/buttons/btn_long_idle"),null,r.getTexture("ui/buttons/btn_long_pressed"),r.getTexture("ui/buttons/btn_long_disabled"));this.owner.addChild((new k).add(this._secondPageButton));this._secondPageButton.setOnClickFunction(e(this,this.onSecondButtonClicked));this._secondPageButton.get_sprite().x.set__(0);
this._secondPageButton.get_sprite().y.set__(0.35*i.get_scaledScreenHeight());this._secondPageButton.set_enabled(!1);a=new N("page2");a.setXY(0.5*this._secondPageButton.get_sprite().getNaturalWidth(),0.45*this._secondPageButton.get_sprite().getNaturalHeight());a.centerAnchor();this._secondPageButton.owner.addChild((new k).add(a));this._thirdPageIcon=new F(r.getTexture("scenes/chapter/asset_ch_p_locked_all"));this.owner.addChild((new k).add(this._thirdPageIcon));this._thirdPageIcon.centerAnchor();this._thirdPageIcon.setXY(0.25*
i.get_scaledScreenWidth(),0.1*i.get_scaledScreenHeight());this._disposer.add(this._thirdPageIcon.get_pointerUp().connect(e(this,this.onThirdIconClicked)));a=new q;this.owner.addChild((new k).add(a));a.owner.add(this._thirdSparkle);a.centerAnchor();a.setXY(0.25*i.get_scaledScreenWidth(),0.1*i.get_scaledScreenHeight());this._thirdSparkle.loop("sparkle");a.set_pointerEnabled(!1);this._thirdPageButton=new V(r.getTexture("ui/buttons/btn_long_idle"),null,r.getTexture("ui/buttons/btn_long_pressed"),r.getTexture("ui/buttons/btn_long_disabled"));
this.owner.addChild((new k).add(this._thirdPageButton));this._thirdPageButton.setOnClickFunction(e(this,this.onThirdButtonClicked));this._thirdPageButton.get_sprite().x.set__(0.25*i.get_scaledScreenWidth());this._thirdPageButton.get_sprite().y.set__(0.35*i.get_scaledScreenHeight());this._thirdPageButton.set_enabled(!1);a=new N("page3");a.centerAnchor();a.setXY(0.5*this._thirdPageButton.get_sprite().getNaturalWidth(),0.45*this._thirdPageButton.get_sprite().getNaturalHeight());this._thirdPageButton.owner.addChild((new k).add(a))},
setupChapterName:function(){this._chapterHeader=new N("chapter_select");this._chapterHeader.centerAnchor();this.owner.addChild((new k).add(this._chapterHeader));this._chapterHeader.setXY(0,0.41*-i.get_scaledStageHeight());this._chapterText=new N("chapter1");this._chapterText.setXY(0,0.275*-i.get_scaledStageHeight());this._chapterText.centerAnchor();this.owner.addChild((new k).add(this._chapterText));this._chapterWriteup=new N("chapter_text_1");this._chapterWriteup.setXY(0,0.175*-i.get_scaledStageHeight());
this._chapterWriteup.centerAnchor();this.owner.addChild((new k).add(this._chapterWriteup))},showChapter:function(){this._animateScript.stopAll();this._chapterText.setXmlString("chapter"+this._shownChapter);this._chapterWriteup.setXmlString("chapter_text_"+this._shownChapter);this._chapterWriteup.centerAnchor();1==this._shownChapter?(this._leftButton.get_sprite().set_visible(!1),this._disabledLeft.set_visible(!0)):(this._leftButton.get_sprite().set_visible(!0),this._disabledLeft.set_visible(!1));this._shownChapter>=
1+((v.highestLevelNumber-1)/3|0)||(this._rightButton.set_enabled(!0),this._rightButton.get_sprite().set_visible(!0),this._disabledRight.set_visible(!1));(v.highestLevelNumber-1)/3<this._shownChapter&&(this._rightButton.set_enabled(!1),this._rightButton.get_sprite().set_visible(!1),this._disabledRight.set_visible(!0))},clearSmoke:function(){this._poofClip.owner.dispose();this._poofClip=null},showPages:function(){this._animateScript.stopAll();v.highestLevelNumber<1+3*(this._shownChapter-1)?(this._firstPageButton.set_enabled(!1),
this._firstPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all"),this._firstSparkle.owner._compMap.Sprite_1.set_visible(!1)):v.lastUnlockedNumber<1+3*(this._shownChapter-1)?(this._firstPageButton.set_enabled(!1),this._firstPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all")):(this._firstPageButton.set_enabled(!0),this._firstPageIcon.texture=v.highestLevelNumber==1+3*(this._shownChapter-1)?r.getTexture("scenes/chapter/asset_ch"+this._shownChapter+"_p1_unfinished"):
r.getTexture("scenes/chapter/asset_ch"+this._shownChapter+"_p1"),this._firstSparkle.owner._compMap.Sprite_1.set_visible(!1));v.highestLevelNumber<2+3*(this._shownChapter-1)?(this._secondPageButton.set_enabled(!1),this._secondPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all"),this._secondSparkle.owner._compMap.Sprite_1.set_visible(!1)):v.lastUnlockedNumber<2+3*(this._shownChapter-1)?(this._secondPageButton.set_enabled(!1),this._secondPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all"),
this._secondSparkle.owner._compMap.Sprite_1.set_visible(!0)):(this._secondPageButton.set_enabled(!0),this._secondPageIcon.texture=v.highestLevelNumber==2+3*(this._shownChapter-1)?r.getTexture("scenes/chapter/asset_ch"+this._shownChapter+"_p2_unfinished"):r.getTexture("scenes/chapter/asset_ch"+this._shownChapter+"_p2"),this._secondSparkle.owner._compMap.Sprite_1.set_visible(!1));v.highestLevelNumber<3+3*(this._shownChapter-1)?(this._thirdPageButton.set_enabled(!1),this._thirdPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all"),
this._thirdSparkle.owner._compMap.Sprite_1.set_visible(!1)):v.lastUnlockedNumber<3+3*(this._shownChapter-1)?(this._thirdPageButton.set_enabled(!1),this._thirdPageIcon.texture=r.getTexture("scenes/chapter/asset_ch_p_locked_all"),this._thirdSparkle.owner._compMap.Sprite_1.set_visible(!0)):(this._thirdPageButton.set_enabled(!0),this._thirdPageIcon.texture=v.highestLevelNumber==3+3*(this._shownChapter-1)?r.getTexture("scenes/chapter/asset_ch"+this._shownChapter+"_p3_unfinished"):r.getTexture("scenes/chapter/asset_ch"+
this._shownChapter+"_p3"),this._thirdSparkle.owner._compMap.Sprite_1.set_visible(!1));v.lastUnlockedNumber<v.highestLevelNumber&&v.lastUnlockedNumber<=3+3*(this._shownChapter-1)&&(this.animateTransitions(),3+3*(this._shownChapter-1)<=v.highestLevelNumber?v.set_lastUnlockedNumber(3+3*(this._shownChapter-1)):v.set_lastUnlockedNumber(v.highestLevelNumber))},disposeComponent:function(a){null!=a&&a.owner.dispose()},animateTransitions:function(){var a=this,b=new va,c=new fb,f=0.02*i.get_scaledScreenWidth();
!(v.highestLevelNumber<1+3*(this._shownChapter-1))&&!this._firstPageButton.get_enabled()&&(this._firstPageButton.set_enabled(!0),c.add(new va([new J(this._firstPageIcon.x,0.5*f,0.1),new J(this._firstPageIcon.x,-f,0.1),new J(this._firstPageIcon.x,f,0.1),new J(this._firstPageIcon.x,-f,0.1),new J(this._firstPageIcon.x,f,0.1),new J(this._firstPageIcon.x,-f,0.1),new Ia(this._firstPageIcon.x,0.25*-i.get_scaledScreenWidth(),0.1),new ka(function(){a._firstPageIcon.texture=r.getTexture("scenes/chapter/asset_ch"+
a._shownChapter+"_p1")})])));!(v.highestLevelNumber<2+3*(this._shownChapter-1))&&!this._secondPageButton.get_enabled()&&(this._secondPageButton.set_enabled(!0),c.add(new va([new J(this._secondPageIcon.x,0.5*f,0.1),new J(this._secondPageIcon.x,-f,0.1),new J(this._secondPageIcon.x,f,0.1),new J(this._secondPageIcon.x,-f,0.1),new J(this._secondPageIcon.x,f,0.1),new J(this._secondPageIcon.x,-f,0.1),new Ia(this._secondPageIcon.x,0,0.1),new ka(function(){a._secondPageIcon.texture=r.getTexture("scenes/chapter/asset_ch"+
a._shownChapter+"_p2")})])));!(v.highestLevelNumber<3+3*(this._shownChapter-1))&&!this._thirdPageButton.get_enabled()&&(this._thirdPageButton.set_enabled(!0),c.add(new va([new J(this._thirdPageIcon.x,0.5*f,0.1),new J(this._thirdPageIcon.x,-f,0.1),new J(this._thirdPageIcon.x,f,0.1),new J(this._thirdPageIcon.x,-f,0.1),new J(this._thirdPageIcon.x,f,0.1),new J(this._thirdPageIcon.x,-f,0.1),new Ia(this._thirdPageIcon.x,0.25*i.get_scaledScreenWidth(),0.1),new ka(function(){a._thirdPageIcon.texture=r.getTexture("scenes/chapter/asset_ch"+
a._shownChapter+"_p3")})])));b.add(c);b.add(new ka(function(){a.showPages()}));b.add(new L(1));b.add(new ka(e(this,this.onDisposeSparkles)));this._animateScript.run(b)},onDisposeSparkles:function(){this.disposeComponent(this._firstSparkle);this.disposeComponent(this._secondSparkle);this.disposeComponent(this._thirdSparkle);this._thirdSparkle=this._secondSparkle=this._firstSparkle=null},onTouchedAnywhere:function(){},onFirstButtonClicked:function(){!0!=this._loadingGame&&(this.stopBgm(),B.getInstance().playAudio("audio/sfx/button_sfx",
r.appAssetPack),v.set_currentLevelNumber(1+3*(this._shownChapter-1)),Z.loadAndGoToGameScene(),this._loadingGame=!0)},onFirstIconClicked:function(){v.highestLevelNumber<1+3*(this._shownChapter-1)||(this._firstPageIcon.scaleX.animateTo(0.75,0.1),this._firstPageIcon.scaleY.animateTo(0.75,0.1),this.onFirstButtonClicked())},onSecondButtonClicked:function(){!0!=this._loadingGame&&(this.stopBgm(),B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack),v.set_currentLevelNumber(2+3*(this._shownChapter-
1)),Z.loadAndGoToGameScene(),this._loadingGame=!0)},onSecondIconClicked:function(){v.highestLevelNumber<2+3*(this._shownChapter-1)||(this._secondPageIcon.scaleX.animateTo(0.75,0.1),this._secondPageIcon.scaleY.animateTo(0.75,0.1),this.onSecondButtonClicked())},onThirdButtonClicked:function(){!0!=this._loadingGame&&(this.stopBgm(),B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack),v.set_currentLevelNumber(3+3*(this._shownChapter-1)),Z.loadAndGoToGameScene(),this._loadingGame=!0)},onThirdIconClicked:function(){v.highestLevelNumber<
3+3*(this._shownChapter-1)||(this._thirdPageIcon.scaleX.animateTo(0.75,0.1),this._thirdPageIcon.scaleY.animateTo(0.75,0.1),this.onThirdButtonClicked())},onLeftButtonClicked:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);0<this._shownChapter&&(v.set_currentLevelNumber(3+3*(this._shownChapter-2)),v.accessedFromChapterSelect=!0,v.browsingToLeft=!0,U.getInstance().fadeNewScene(new sc,0.1))},onRightButtonClicked:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);
6>this._shownChapter&&(v.set_currentLevelNumber(4+3*(this._shownChapter-1)),v.accessedFromChapterSelect=!0,U.getInstance().fadeNewScene(new sc,0.1))},onSceneShown:function(){z.prototype.onSceneShown.call(this)},onSceneHidden:function(){z.prototype.onSceneHidden.call(this)},onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,a)},onRemoved:function(){z.prototype.onRemoved.call(this);this.disposePlayback(this._titlePlayback);this._titlePlayback=null},stopBgm:function(){B.getInstance().stopAllAudio();
this.disposePlayback(this._titlePlayback);this._titlePlayback=null},disposePlayback:function(a){null!=a&&a.dispose()},dispose:function(){z.prototype.dispose.call(this);this.disposePlayback(this._titlePlayback);this._poofClip=this._thirdPageIcon=this._secondPageIcon=this._firstPageIcon=this._thirdPageButton=this._secondPageButton=this._firstPageButton=this._disabledRight=this._disabledLeft=this._leftButton=this._rightButton=this._chapterWriteup=this._chapterText=this._chapterHeader=this._audioButton=
null;this._disposer.dispose();this._thirdSparkle=this._secondSparkle=this._firstSparkle=this._disposer=null;this._animateScript.dispose();this._titlePlayback=this._animateScript=null},__class__:Ob});var Tf=function(a){this._onClosedFunction=a;z.call(this,!1)};g["game_app.scenes.ConfirmScene"]=Tf;Tf.__name__=["game_app","scenes","ConfirmScene"];Tf.__super__=z;Tf.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this.setupContent();this.setupContinueButton();this.setupCancelButton()},
setupContent:function(){this._bgSprite=new F(r.getTexture("scenes/pause/bg"));this.owner.addChild((new k).add(this._bgSprite));this._bgSprite.centerAnchor();q.getBounds(this._bgSprite.owner);var a=new N("quit_game");a.centerAnchor();a.setXYAppend(0,0.125*-i.get_scaledStageHeight());this.owner.addChild((new k).add(a))},setupContinueButton:function(){var a=new V(r.getTexture("ui/buttons/specific/btn_check_idle"),null,r.getTexture("ui/buttons/specific/btn_check_pressed"));a.setOnClickFunction(this._onClosedFunction);
this.owner.addChild((new k).add(a));a.get_sprite().y.set__(0.125*i.get_scaledStageHeight());a=a.get_sprite().x;a.set__(a._value-0.11*i.get_scaledStageHeight())},setupCancelButton:function(){var a=new V(r.getTexture("ui/buttons/specific/btn_exit_idle"),null,r.getTexture("ui/buttons/specific/btn_exit_pressed"));a.setOnClickFunction(e(this,this.onCancel));this.owner.addChild((new k).add(a));a.get_sprite().y.set__(0.125*i.get_scaledStageHeight());a=a.get_sprite().x;a.set__(a._value+0.11*i.get_scaledStageHeight())},
onCancel:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().popFrontScene()},__class__:Tf});var Hb=function(a,b){null==a&&(a=!0);z.call(this,a);this._onClosedFunction=b;this._drawerButtons=[]};g["game_app.scenes.DrawerScene"]=Hb;Hb.__name__=["game_app","scenes","DrawerScene"];Hb.__super__=z;Hb.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this.setupBackground();this.setupDrawerContentLayer();this.setupObjectsAtBackground();this.setupDrawerLabel();
this.startDrawerContentAnimation();this.setupCloseButton()},setupBackground:function(){this._backgroundSprite=new F(r.getTexture("ui/drawer/drawer_bg"));this.owner.addChild((new k).add(this._backgroundSprite));this._backgroundSprite.centerAnchor();this._backgroundSprite.anchorY.set__(this._backgroundSprite.getNaturalHeight());this._backgroundSprite.x.set__(0);this._backgroundSprite.y.set__(i.get_scaledScreenHeight()/2)},setupDrawerContentLayer:function(){this._drawerContentLayer=new k;this._drawerContentSprite=
new q;this._drawerContentLayer.add(this._drawerContentSprite);this.owner.addChild(this._drawerContentLayer)},setupObjectsAtBackground:function(){null==this._contentBackgroundImagePath&&(this._contentBackgroundImagePath="ui/drawer/drawer_content");var a=new F(r.getTexture(this._contentBackgroundImagePath));this._drawerContentLayer.addChild((new k).add(a));a.centerAnchor();a.anchorY.set__(a.getNaturalHeight());a.x.set__(0);a.y.set__(i.get_scaledScreenHeight()/2)},setupDrawerLabel:function(){var a=q.getBounds(this._drawerContentLayer);
this._drawerLabel=new la(Ua.getInstance().defaultFont,"DEFAULT");this._drawerLabel.set_align(ja.Center);this._drawerLabel.x.set__(0);this._drawerLabel.y.set__(i.get_scaledScreenHeight()/2-a.height+this._drawerLabel.getNaturalHeight()/2+13);this._drawerContentLayer.addChild((new k).add(this._drawerLabel))},setupCloseButton:function(){var a=r.getTexture("ui/buttons/specific/close_button");this._closeButton=new Sc(a,null,e(this,this.onTouchedCloseButton));this.owner.addChild((new k).add(this._closeButton));
this._closeButton.get_sprite().set_visible(!1);this._closeButton.get_sprite().y.set__(-i.get_scaledScreenHeight()/2-this._closeButton.get_sprite().getNaturalHeight())},startDrawerContentAnimation:function(){this._drawerContentSprite.y.set__(i.get_screenHeight());this._drawerContentSprite.y.animateTo(0.0357*-i.get_scaledScreenHeight(),1.4,T.quintOut);m.callWithDelay(this._drawerContentSprite.owner,new n(e(this,this.onFinishedContentSliding)),0.5249999999999999)},playOpeningAnimation:function(a){var b=
this.owner._compMap.Sprite_1;b.set_visible(!0);b.y.set__(i.get_scaledScreenHeight());b.y.animateTo(0,a)},playClosingAnimation:function(a){this.owner._compMap.Sprite_1.y.animateTo(i.get_scaledScreenHeight(),a);m.callWithDelay(this._drawerContentSprite.owner,new n(e(this,this.onClosingAnimationEnd)),a)},onFinishedContentSliding:function(){for(var a=0,b=this._drawerButtons.length;a<b;){var c=a++;Tc.playButtonEnterAnimationWithDelay(this._drawerButtons[c],c)}},onTouchedCloseButton:function(){null!=this._closeButton&&
m.callWithDelay(this.owner,new n(e(this,this.onCloseButtonFinishedHiding)),0.35)},onClosingAnimationEnd:function(){this.owner._compMap.Sprite_1.set_visible(!1)},onCloseButtonFinishedHiding:function(){null!=this._onClosedFunction&&this._onClosedFunction()},onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,a)},dispose:function(){z.prototype.dispose.call(this);this._onClosedFunction=this._drawerLabel=this._backgroundSprite=this._closeButton=this._drawerButtons=this._drawerContentSprite=
this._drawerContentLayer=null},__class__:Hb});var Uc=function(){z.call(this)};g["game_app.scenes.IntroScene"]=Uc;Uc.__name__=["game_app","scenes","IntroScene"];Uc.__super__=z;Uc.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this._loadingGame=!1;this.setupBackground();this.setupTapAnywhereLabel();this.playTapAnywhereLabelAnimation();this.setupAnimation();this._disposer=new R;this._disposer.add(t._platform.getKeyboard().down.connect(e(this,this.onKeyDown)).once());B.getInstance().stopAllAudio();
this._titleBGMPlayback=B.getInstance().loopAudio("audio/bgm/wishing 101-main_menu_bgm",r.appAssetPack)},setupBackground:function(){this._bg=new F(r.getTexture("scenes/intro/asset_intro_cutscene"));this.owner.addChild((new k).add(this._bg));this._bg.centerAnchor();this._bg.get_pointerUp().connect(e(this,this.onTouchedAnywhere));this._stars=[];for(var a,b=0;10>b;)b++,a=new F(r.getTexture("scenes/intro/asset_intro_star_cutscene"+C.string(C["int"](3*Math.random())+1))),a.setRotation(360*Math.random()),
a.centerAnchor(),a.setXY(this._bg.getNaturalWidth()*(0.1+0.8*Math.random()),this._bg.getNaturalHeight()*(0.1+0.8*Math.random())),a.setAlpha(Math.random()),this._bg.owner.addChild((new k).add(a)),this._stars.push(a);this._fairies=new F(r.getTexture("scenes/intro/asset_intro_cosmo_and_wanda_cutscene"));this._bg.owner.addChild((new k).add(this._fairies));this._fairies.centerAnchor();this._fairies.set_pointerEnabled(!1);this._fairies.setXY(0.14*this._bg.getNaturalWidth(),0.225*this._bg.getNaturalHeight());
this._chloe=new F(r.getTexture("scenes/intro/asset_intro_chloe_cutscene"));this._bg.owner.addChild((new k).add(this._chloe));this._chloe.centerAnchor();this._chloe.set_pointerEnabled(!1);this._chloe.setXY(0.25*this._bg.getNaturalWidth(),0.725*this._bg.getNaturalHeight());this._foop=new F(r.getTexture("scenes/intro/asset_intro_foop_cutscene"));this._bg.owner.addChild((new k).add(this._foop));this._foop.centerAnchor();this._foop.set_pointerEnabled(!1);this._foop.setXY(0.845*this._bg.getNaturalWidth(),
0.31*this._bg.getNaturalHeight());this._rays=new F(r.getTexture("scenes/intro/asset_intro_book_rays"));this._bg.owner.addChild((new k).add(this._rays));this._rays.setXY(0.5*this._bg.getNaturalWidth(),0.5*this._bg.getNaturalHeight());this._rays.centerAnchor();this._rays.set_pointerEnabled(!1);this._bg.setScale(1.5);this._bookText=new N("intro");this._bookText.setAlign(ja.Center);this._bookText.setWrapWidth(0.545*i.get_scaledScreenWidth());this.owner.addChild((new k).add(this._bookText));this._bookText.centerAnchor();
this._bookText.setXY(0,-0.0893*i.get_scaledScreenHeight());this._bookText.setAlpha(0);this._bookText.disablePointer()},setupTapAnywhereLabel:function(){this._tapAnywhereLabel=new Vc(null,!0);this.owner.addChild((new k).add(this._tapAnywhereLabel))},setupAnimation:function(){this._animationScript=new na;this.owner.add(this._animationScript);this._animationScript.run(new va([new fb([new Ia(this._bg.scaleX,1,0.25),new Ia(this._bg.scaleY,1,0.25)]),new fb([new Ia(this._bookText.alpha,1,0.5),new J(this._foop.y,
-20,0.5),new J(this._chloe.y,20,0.5),new J(this._fairies.y,-20,0.5),new J(this._rays.rotation,50,0.5)]),new Ea(new va([new fb([new Ia(this._foop.y,0.31*this._bg.getNaturalHeight(),1.5,T.quadInOut),new Ia(this._chloe.y,0.725*this._bg.getNaturalHeight(),1.5,T.quadInOut),new Ia(this._fairies.y,0.225*this._bg.getNaturalHeight(),1.5,T.quadInOut),new J(this._rays.rotation,50,1.5),new n(e(this,this.animateStars))]),new fb([new J(this._foop.y,-20,1.5,T.quadInOut),new J(this._chloe.y,10,1.5,T.quadInOut),new J(this._fairies.y,
-10,1.5,T.quadInOut),new J(this._rays.rotation,50,1.5),new n(e(this,this.animateStars))])]))]))},animateStars:function(){for(var a=0,b=this._stars;a<b.length;){var c=b[a];++a;0.5>c.alpha._value?c.alpha.animateTo(1,1.5):c.alpha.animateTo(0,1.5)}},onTouchedAnywhere:function(){pa.disposePlayback(this._titleBGMPlayback);this._titleBGMPlayback=null;this._animationScript.stopAll();B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().fadeNewScene(new Ob,0.2);this._disposer.dispose()},
onKeyDown:function(){pa.disposePlayback(this._titleBGMPlayback);this._titleBGMPlayback=null;B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().fadeNewScene(new Ob,0.2);this._disposer.dispose()},playTapAnywhereLabelAnimation:function(){var a=0.4*i.get_scaledScreenHeight(),b=0.4*i.get_scaledScreenHeight();this._tapAnywhereLabel.set_visible(!1);this._tapAnywhereLabel.playEnterAnimation(0,a,b)},onSceneShown:function(){z.prototype.onSceneShown.call(this)},onSceneHidden:function(){z.prototype.onSceneHidden.call(this)},
onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,a)},onRemoved:function(){z.prototype.onRemoved.call(this);pa.disposePlayback(this._titleBGMPlayback);this._titleBGMPlayback=null},dispose:function(){z.prototype.dispose.call(this);this._titleBGMPlayback=this._disposer=this._animationScript=this._bookText=this._stars=this._foop=this._fairies=this._chloe=this._rays=this._bg=this._tapAnywhereLabel=null},__class__:Uc});var Rc=function(a){this.doneLoading=!1;z.call(this);
null!=a&&(this._functionWhenDone=a)};g["game_app.scenes.LoadingScene"]=Rc;Rc.__name__=["game_app","scenes","LoadingScene"];Rc.__super__=z;Rc.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this.setupBackground();this.setupBookAnimation();this.setupBars();this.setupPercentageLabel();this.setupTopText();null!=this._functionWhenDone&&(this._hasClicked=!1,this.setupTapAnywhereLabel())},setupBackground:function(){this._background=new F(r.preloaderAssetPack.getTexture("bg"));
this._background.centerAnchor();this.owner.addChild((new k).add(this._background));null!=this._functionWhenDone&&this._background.get_pointerUp().connect(e(this,this.onTouchedAnywhere))},setupBookAnimation:function(){var a=new G(r.preloaderAssetPack,"animation");this._moviePlayer=new ba(a);a=new q;this._background.owner.addChild((new k).add(this._moviePlayer));this._moviePlayer.owner.add(a);a.setXY(0.485*this._background.getNaturalWidth(),0.455*this._background.getNaturalHeight());this._moviePlayer.loop("darulebook_loading")},
setupTopText:function(){var a=new N("loading");a.centerAnchor();a.setXY(0,0.41*-i.get_stageHeight());this.owner.addChild((new k).add(a))},setupBars:function(){this._barBack=new F(r.preloaderAssetPack.getTexture("bar_back"));this.owner.addChild((new k).add(this._barBack));this._barBack.y.set__(0.2*i.get_scaledScreenHeight());this._barBack.centerAnchor();this._barHolder=new F(r.preloaderAssetPack.getTexture("bar_container"));this.owner.addChild((new k).add(this._barHolder));this._barHolder.y.set__(0.2*
i.get_scaledScreenHeight());this._barHolder.centerAnchor();this._barWithin=new F(r.preloaderAssetPack.getTexture("bar_bar"));this._barBack.owner.addChild((new k).add(this._barWithin));this._barWithin.setXY(0.07*this._barBack.getNaturalWidth(),0.16*this._barBack.getNaturalHeight());this._barWithin.scaleX.set__(0);this._barWithin.scaleY.set__(1);this._barHolder.disablePointer()},setupPercentageLabel:function(){this._percentageLabel=new N("loading");this._percentageLabel.centerAnchor();this._percentageLabel.y.set__(0.2*
i.get_scaledStageHeight()+H.getXmlString("loading").offsetY);this.owner.addChild((new k).add(this._percentageLabel));this._percentageLabel.disablePointer()},setupTapAnywhereLabel:function(){this._tapAnywhereLabel=new N("tap_anywhere");t._platform.getTouch().get_supported()||this._tapAnywhereLabel.setXmlString("click_anywhere");this._tapAnywhereLabel.centerAnchor();this._tapAnywhereLabel.setXYAppend(0,0.3*i.get_scaledScreenHeight());this.owner.addChild((new k).add(this._tapAnywhereLabel));this._tapAnywhereLabel.set_visible(!1);
this._tapAnywhereLabel.disablePointer()},setLoadingPercent:function(a){1<=a&&(a=1);qa.sendGameEvent("getLoadingProgress",a);Kb.isLowEndDevice()?this._barWithin.scaleX.set__(57*a):this._barWithin.scaleX.set__(69*a);this._percentageLabel.set_text((100*a|0)+"%");this._percentageLabel.centerAnchor()},setReadySignal:function(){null!=this._tapAnywhereLabel&&this.setupTapListener()},setupTapListener:function(){if(!1==(0!=(this._tapAnywhereLabel._flags&2))){this._barBack.set_visible(!1);this._barHolder.set_visible(!1);
this._barWithin.set_visible(!1);this._percentageLabel.set_visible(!1);this._tapAnywhereLabel.set_visible(!0);var a=0.2*i.get_scaledStageHeight()+H.getXmlString("loading").offsetY;this._moviePlayer.loop("darulebook_loading");this._moviePlayer.pause();this._tapAnywhereLabel.y.animateTo(a,0.5,T.bounceOut)}},onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,a)},onTouchedAnywhere:function(){this.doneLoading&&(m.callWithDelay(this.owner,new n(this._functionWhenDone),
0.1),B.getInstance().loopAudio("audio/bgm/FOP_showtheme_musicloopv1a",r.appAssetPack))},onRemoved:function(){z.prototype.onRemoved.call(this);this._percentageLabel=this._background=null},__class__:Rc});var Uf=function(){z.call(this,!1)};g["game_app.scenes.PauseScene"]=Uf;Uf.__name__=["game_app","scenes","PauseScene"];Uf.__super__=z;Uf.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);this.setupBackground();this.setupButtonLayer();this.setupButtons();Qf.isGamePaused=!0;this.playEnterAnimation();
qa.sendGameEvent("onPause")},setupBackground:function(){this._darkOverlay=new kb(0,i.get_stageWidth(),i.get_stageHeight());this.owner.addChild((new k).add(this._darkOverlay));this._darkOverlay.centerAnchor();this._bgSprite=new F(r.getTexture("scenes/pause/bg"));this.owner.addChild((new k).add(this._bgSprite));this._bgSprite.centerAnchor()},setupButtonLayer:function(){this._buttonsLayer=new q;this._bgSprite.owner.addChild((new k).add(this._buttonsLayer))},setupButtons:function(){var a=new V(r.getTexture("ui/buttons/specific/btn_resume_idle"),
null,r.getTexture("ui/buttons/specific/btn_resume_pressed"));this._buttonsLayer.owner.addChild((new k).add(a));a.setOnClickFunction(e(this,this.onResumeButtonClicked));a.get_sprite().x.set__(0.32*this._bgSprite.getNaturalWidth());a.get_sprite().y.set__(0.35*this._bgSprite.getNaturalHeight());a=new V(r.getTexture("ui/buttons/specific/btn_help_idle"),null,r.getTexture("ui/buttons/specific/btn_help_pressed"));this._buttonsLayer.owner.addChild((new k).add(a));a.setOnClickFunction(e(this,this.onHelpButtonClicked));
a.get_sprite().x.set__(0.68*this._bgSprite.getNaturalWidth());a.get_sprite().y.set__(0.35*this._bgSprite.getNaturalHeight());a=new Zb;a.setToPauseScreen();this._buttonsLayer.owner.addChild((new k).add(a));a.get_sprite().x.set__(0.32*this._bgSprite.getNaturalWidth());a.get_sprite().y.set__(0.7*this._bgSprite.getNaturalHeight());a=new V(r.getTexture("ui/buttons/specific/btn_exit_idle"),null,r.getTexture("ui/buttons/specific/btn_exit_pressed"));this._buttonsLayer.owner.addChild((new k).add(a));a.setOnClickFunction(e(this,
this.onCloseButtonClicked));a.get_sprite().x.set__(0.68*this._bgSprite.getNaturalWidth());a.get_sprite().y.set__(0.7*this._bgSprite.getNaturalHeight())},playEnterAnimation:function(){this._darkOverlay.setAlpha(0);this._bgSprite.setScale(0);this._bgSprite.scaleX.animateTo(1,0.2);this._bgSprite.scaleY.animateTo(1,0.2);this._darkOverlay.alpha.animateTo(0.75,0.2)},playExitAnimation:function(){this._darkOverlay.alpha.animateTo(0,0.2);this._bgSprite.scaleX.animateTo(0,0.2);this._bgSprite.scaleY.animateTo(0,
0.2);m.callWithDelay(this.owner,new n(e(this,this.onfinishedPlayingExitAnimation)),0.2)},onResumeButtonClicked:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);qa.sendGameEvent("onResume");this.playExitAnimation()},onfinishedPlayingExitAnimation:function(){U.getInstance().popFrontScene();Z.getInstance().get_currentGameScene().get_gameUI().onResumeGame()},onCloseButtonClicked:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().legacyPushScene(new Tf(e(this,
this.clearPauseAndReturn)))},onHelpButtonClicked:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().pullUpDrawer(new Vf(e(this,this.clearHelp)),0.35)},clearHelp:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);U.getInstance().pullDownTopDrawer()},clearPauseAndReturn:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);B.getInstance().stopAudio("audio/bgm/HyperModeBGM");B.getInstance().stopAudio("audio/bgm/NonHyperBGM");
U.getInstance().fadeNewScene(new Ob,0.35)},dispose:function(){z.prototype.dispose.call(this);this._bgSprite=null;Qf.isGamePaused=!1},__class__:Uf});var sc=function(){z.call(this,!1)};g["game_app.scenes.PostGameScene"]=sc;sc.__name__=["game_app","scenes","PostGameScene"];sc.__super__=z;sc.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);B.getInstance().stopAllAudio();this.setupPostGameWindow();this.setupChapterEnding();this.setupSkipButton();this.setupSparkle();this.setupAudioButton();
this.setupPoofMovie();this._transitioningOut=!1;B.getInstance().stopAllAudio();this._bgmPlayback=5==(v.currentLevelNumber/3|0)?B.getInstance().loopAudio("audio/bgm/FOP_Endcredits_musicloopv1a",r.appAssetPack):B.getInstance().loopAudio("audio/bgm/wishing 101-cutscene_pages_bgm",r.appAssetPack);v.accessedFromChapterSelect?(this._chapterMessage.set_visible(!1),v.accessedFromChapterSelect=!1):m.callWithDelay(this.owner,new n(e(this,this.setupChloeAndWanda)),0.5)},setupChloeAndWanda:function(){var a=new G(r.appAssetPack,
"scenes/post_game/intro_cosmo_wanda_foop"),b=new Jc(a),a=new Kc(a);this.owner.addChild((new k).add(b));this.owner.addChild((new k).add(a));b.sprite.x.set__(-0.315*i.get_scaledStageWidth());b.sprite.y.set__(0.25*i.get_scaledStageHeight());a.sprite.x.set__(0.31499999999999995*i.get_scaledStageWidth());a.sprite.y.set__(0.25*i.get_scaledStageHeight());b.setupBobbingAnimation();a.setupBobbingAnimation();m.callWithDelay(this.owner,new Hc(e(this,this.fadeOutCosmoAndWanda),b,a),2)},fadeOutCosmoAndWanda:function(a,
b){a.sprite.alpha.animateTo(0,0.5);b.sprite.alpha.animateTo(0,0.5)},setupPostGameWindow:function(){this._backgroundWindow=new F(r.getTexture("scenes/post_game/post_game_bg"));this._backgroundWindow.centerAnchor();this.owner.addChild((new k).add(this._backgroundWindow));this._postImage=new F(r.getTexture("scenes/post_game/asset_chapter"+(v.currentLevelNumber/3|0)+"_illustration"));this._postImage.centerAnchor();this._postImage.setXY(0.5*this._backgroundWindow.getNaturalWidth(),0.5*this._backgroundWindow.getNaturalHeight());
v.accessedFromChapterSelect||this._postImage.setAlpha(0);this._backgroundWindow.owner.addChild((new k).add(this._postImage))},setupAudioButton:function(){this._audioButton=new Zb(0.405*i.get_scaledStageWidth(),0.39*-i.get_scaledStageHeight());this._audioButton.setToFairy();this.owner.addChild((new k).add(this._audioButton))},setupChapterEnding:function(){this._chapterText=new N("ending");this._chapterText.centerAnchor();this._chapterText.setXY(0,0.41*-i.get_scaledStageHeight());this.owner.addChild((new k).add(this._chapterText));
this._chapterMessage=new N("ending_large");this._chapterMessage.centerAnchor();this.owner.addChild((new k).add(this._chapterMessage));this._chapterMessage.setAlpha(0);this._chapterMessage.alpha.animateTo(1,1)},setupSparkle:function(){this._sparkles=[];for(var a=new G(r.preloaderAssetPack,"sparkle"),b,c,f=0;4>f;){var d=f++;c=new ba(a);b=new q;this.owner.addChild((new k).add(b));b.owner.add(c);b.centerAnchor();b.setXY(-(0.3*i.get_scaledScreenWidth())+i.get_scaledScreenWidth()*0.2*d,0);b.set_pointerEnabled(!1);
c.loop("sparkle");this._sparkles.push(b)}},setupPoofMovie:function(){var a=new G(r.appAssetPack,"scenes/poof_smoke_transition");this._poofClip=new ba(a);a=new q;this.owner.addChild((new k).add(a));a.owner.add(this._poofClip);a.centerAnchor();this._poofClip.loop("pink_large_smoke");var b=q.getBounds(a.owner);a.setXY(-2*b.width,-2*b.height);a.setScale(2);m.callWithDelay(this.owner,new n(e(this,this.showImage)),2);B.getInstance().playAudio("audio/sfx/poof",r.appAssetPack);this._poofClip.playOnce("pink_large_smoke",
e(this,this.clearSmoke),!0)},showImage:function(){this._chapterMessage.alpha.animateTo(0,0.5);this.moveSparkles();this._postImage.alpha.animateTo(1,2);m.callWithDelay(this.owner,new n(e(this,this.clearSparkles)),1.5)},moveSparkles:function(){for(var a=0,b=this._sparkles;a<b.length;){var c=b[a];++a;c.y.set__(0.4*-i.get_scaledStageHeight());c.y.animateTo(0.5*i.get_scaledStageHeight(),2)}},clearSparkles:function(){for(var a=0,b=this._sparkles;a<b.length;){var c=b[a];++a;c.alpha.animateTo(0,0.5)}},clearSmoke:function(){this._poofClip.owner._compMap.Sprite_1.set_visible(!1)},
setupSkipButton:function(){this._skipButton=new V(r.getTexture("ui/buttons/btn_play_small2_idle"),null,r.getTexture("ui/buttons/btn_play_small2_pressed"));this.owner.addChild((new k).add(this._skipButton));this._skipButton.setOnClickFunction(e(this,this.onSkipButtonClicked));this._skipButton.get_sprite().x.set__(0);this._skipButton.get_sprite().y.set__(0.43*i.get_scaledScreenHeight());v.browsingToLeft&&(this._skipButton.setScaleXY(-1,1),v.browsingToLeft=!1)},transitionOut:function(){this._transitioningOut=
!0;15<=v.currentLevelNumber&&v.set_currentLevelNumber(1);U.getInstance().fadeNewScene(new Ob,0.1)},onSkipButtonClicked:function(){this._transitioningOut||this.transitionOut()},dispose:function(){this._skipButton=this._sparkles=this._postImage=this._poofClip=this._chapterMessage=this._chapterText=this._bgmScript=this._endBGMPlayback=this._audioButton=this._backgroundWindow=null;pa.disposePlayback(this._bgmPlayback);this._bgmPlayback=null;z.prototype.dispose.call(this)},__class__:sc});var Rf=function(){z.call(this)};
g["game_app.scenes.TitleScene"]=Rf;Rf.__name__=["game_app","scenes","TitleScene"];Rf.__super__=z;Rf.prototype=l(z.prototype,{onAdded:function(){z.prototype.onAdded.call(this);v.set_highestLevelNumber(Ja.getInstance().loadHighestClear());this.setupBackground();this.setupSparkle();this.setupAnimationScript();this.setupBGMScript();this.setupTapAnywhereLabel();this._disposer=new R;this._disposer.add(t._platform.getKeyboard().down.connect(e(this,this.onKeyDown)).once());v.firstTime&&qa.sendGameEvent("onTitleScreenStart");
Y.getInstance().applyScaling(this)},setupBackground:function(){var a=new F(r.getTexture("scenes/title/title_scene_bg"));this.owner.addChild((new k).add(a));a.centerAnchor();a.get_pointerUp().connect(e(this,this.onTouchedAnywhere)).once();this._titleText=new F(r.getTexture("scenes/title/asset_title_screen_text"));this.owner.addChild((new k).add(this._titleText));this._titleText.setAlpha(0);this._titleText.alpha.animateTo(1,2);this._titleText.centerAnchor();this._titleText.set_pointerEnabled(!1);this._fopLogo=
this._titleText=new F(r.getTexture("scenes/title/fop_logo"));this.owner.addChild((new k).add(this._fopLogo));this._fopLogo.setXY(0.46*-i.get_scaledStageWidth(),0.46*-i.get_scaledStageHeight());this._fopLogo.set_pointerEnabled(!1)},setupSparkle:function(){this._sparkles=[];for(var a=new G(r.preloaderAssetPack,"sparkle"),b,c=0;4>c;){var f=c++;this._sparkle=new Gb(a);b=new q;this.owner.addChild((new k).add(b));b.owner.add(this._sparkle);b.centerAnchor();1==f?b.setXY(0.225*-i.get_scaledScreenWidth(),
0.3*-i.get_scaledScreenHeight()):2==f?b.setXY(0,0.25*-i.get_scaledScreenWidth()):3==f?b.setXY(0.1*i.get_scaledScreenWidth(),0.1*i.get_scaledScreenHeight()):b.setXY(0.05*i.get_scaledScreenWidth(),0);b.set_pointerEnabled(!1);this._sparkle.loop("sparkle");this._sparkles.push(b)}},setupBGMScript:function(){this._bgmScript=new na;this.owner.add(this._bgmScript)},setupAnimationScript:function(){this._animationScript=new na;this.owner.addChild((new k).add(this._animationScript))},setupTapAnywhereLabel:function(){this._tapAnywhereLabel=
new Vc;this.owner.addChild((new k).add(this._tapAnywhereLabel))},onTouchedAnywhere:function(){v.firstTime&&(v.firstTime=!1,qa.sendGameEvent("onTitleScreenEnd"));U.getInstance().fadeNewScene(new Uc,0.5);this._disposer.dispose()},onKeyDown:function(){qa.sendGameEvent("onTitleScreenEnd");U.getInstance().fadeNewScene(new Uc,0.5);this._disposer.dispose()},playTapAnywhereLabelAnimation:function(){var a=0.025*i.get_scaledScreenWidth(),b=0.7*i.get_scaledScreenHeight(),c=0.4*i.get_scaledScreenHeight();this._tapAnywhereLabel.set_visible(!1);
this._tapAnywhereLabel.playEnterAnimation(a,b,c)},onSceneShown:function(){z.prototype.onSceneShown.call(this)},onSceneHidden:function(){z.prototype.onSceneHidden.call(this);this._tapAnywhereLabel.set_visible(!1)},onEnterTransitionFinished:function(a){z.prototype.onEnterTransitionFinished.call(this,a);this._tapAnywhereLabel.set_visible(!0);this.playTapAnywhereLabelAnimation()},onRemoved:function(){z.prototype.onRemoved.call(this);this._tapAnywhereLabel=null},dispose:function(){z.prototype.dispose.call(this);
this._bgmScript=this._titleBGMPlayback=this._sparkle=this._sparkles=this._disposer=this._fopLogo=this._titleText=this._animationScript=this._tapAnywhereLabel=null},__class__:Rf});var Vf=function(a){Hb.call(this,!1,a)};g["game_app.scenes.help_scenes.HelpScene"]=Vf;Vf.__name__=["game_app","scenes","help_scenes","HelpScene"];Vf.__super__=Hb;Vf.prototype=l(Hb.prototype,{onAdded:function(){this._contentBackgroundImagePath="scenes/help/help_drawer_bg";Hb.prototype.onAdded.call(this);this.setupHelpContent();
this.setupContinueButton();this._drawerLabel.set_text(H.getXmlString("how_to_play").string);this.setupHelpAnimation()},setupHelpAnimation:function(){var a=new G(r.appAssetPack,"scenes/help"),a=new Pf(a);this._drawerContentLayer.addChild((new k).add(a))},setupDrawerLabel:function(){q.getBounds(this._drawerContentLayer);this._drawerLabel=new N("how_to_play");this._drawerLabel.centerAnchor();ia.__cast(this._drawerLabel,N).setXYAppend(0,0.089*-i.get_scaledScreenHeight());this._drawerContentLayer.addChild((new k).add(this._drawerLabel))},
setupHelpContent:function(){},setupContinueButton:function(){var a=new V(r.getTexture("ui/buttons/btn_play_small_idle"),null,r.getTexture("ui/buttons/btn_play_small_pressed"));a.setOnClickFunction(this._onClosedFunction);this._drawerContentLayer.addChild((new k).add(a));a.get_sprite().y.set__(0.4*i.get_scaledStageHeight())},setupBackground:function(){},setupCloseButton:function(){},__class__:Vf});var $b=function(){};g["game_app.ui.buttons.generic.GenericButton"]=$b;$b.__name__=["game_app","ui","buttons",
"generic","GenericButton"];$b.applyEnterAnimation=function(a,b){null==b&&(b=1);B.getInstance().playAudio("audio/sfx/button_pop",r.appAssetPack);a.set_visible(!0);a.scaleX.set__(0);a.scaleX.animateTo(b,0.3,T.bounceOut);a.scaleY.set__(0);a.scaleY.animateTo(b,0.3,T.bounceOut)};$b.__super__=V;$b.prototype=l(V.prototype,{onAdded:function(){V.prototype.onAdded.call(this);this.get_sprite().centerAnchor()},callFunctionToCallOnTouch:function(){V.prototype.callFunctionToCallOnTouch.call(this);B.getInstance().playAudio("audio/sfx/button_press",
r.appAssetPack)},__class__:$b});var Tc=function(){};g["game_app.ui.buttons.generic.DrawerButton"]=Tc;Tc.__name__=["game_app","ui","buttons","generic","DrawerButton"];Tc.playButtonEnterAnimationWithDelay=function(a,b){m.callWithDelay(a.owner,new Hc($b.applyEnterAnimation,a.get_sprite(),a.get_normalScaleValueX()),0.1*b)};Tc.__super__=$b;Tc.prototype=l($b.prototype,{__class__:Tc});var Sc=function(a,b,c){V.call(this,a,null,b);this.setOnClickFunction(c)};g["game_app.ui.buttons.generic.TopRightButton"]=
Sc;Sc.__name__=["game_app","ui","buttons","generic","TopRightButton"];Sc.__super__=V;Sc.prototype=l(V.prototype,{onAdded:function(){V.prototype.onAdded.call(this);this._sprite.centerAnchor();this._sprite.setXY(0.405*i.get_scaledStageWidth(),0.39*-i.get_scaledStageHeight())},__class__:Sc});var Zb=function(a,b){null==b&&(b=0);null==a&&(a=0);this._audioEnabledTexture=r.getTexture("ui/buttons/specific/btn_soundon_idle");this._audioEnabledPressTexture=r.getTexture("ui/buttons/specific/btn_soundon_pressed");
this._audioDisabledTexture=r.getTexture("ui/buttons/specific/btn_soundoff_idle");this._audioDisabledPressTexture=r.getTexture("ui/buttons/specific/btn_soundoff_pressed");Wb.call(this,this._audioEnabledTexture,null,this._audioEnabledPressTexture,null,null,null,B.getInstance().get_isEnabled(),null);this.get_sprite().x.set__(a);this.get_sprite().y.set__(b)};g["game_app.ui.buttons.specific.AudioButton"]=Zb;Zb.__name__=["game_app","ui","buttons","specific","AudioButton"];Zb.__super__=Wb;Zb.prototype=l(Wb.prototype,
{onAdded:function(){Wb.prototype.onAdded.call(this);this.audioToggle();this.setOnClickFunction(e(this,this.onClicked))},audioToggle:function(){B.getInstance().get_isEnabled()?(this._normalTexture=this.get_sprite().texture=this._audioEnabledTexture,this._clickTexture=this._audioEnabledPressTexture,this._offClickTexture=this._audioDisabledPressTexture):(this.get_sprite().texture=this._audioDisabledPressTexture,this._normalTexture=this._audioDisabledTexture,this._clickTexture=this._audioDisabledPressTexture,
this._offClickTexture=this._audioEnabledPressTexture,this.get_sprite().texture=this._audioDisabledPressTexture);this.get_sprite().centerAnchor()},onClicked:function(){B.getInstance().get_isEnabled()?(B.getInstance().disableAudio(),this.get_sprite().texture=this._audioDisabledPressTexture,this._normalTexture=this._audioDisabledTexture,this._clickTexture=this._audioDisabledPressTexture):(B.getInstance().enableAudio(),this.get_sprite().texture=this._audioEnabledPressTexture,this._normalTexture=this._audioEnabledTexture,
this._clickTexture=this._audioEnabledPressTexture);B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack)},setToFairy:function(){this._audioEnabledTexture=r.getTexture("ui/buttons/specific/btn_soundon_idle2");this._audioEnabledPressTexture=r.getTexture("ui/buttons/specific/btn_soundon_pressed2");this._audioDisabledTexture=r.getTexture("ui/buttons/specific/btn_soundoff_idle2");this._audioDisabledPressTexture=r.getTexture("ui/buttons/specific/btn_soundoff_pressed2");this.audioToggle()},setToPauseScreen:function(){this._audioEnabledTexture=
r.getTexture("ui/buttons/specific/btn_audio_on_idle");this._audioEnabledPressTexture=r.getTexture("ui/buttons/specific/btn_audio_on_pressed");this._audioDisabledTexture=r.getTexture("ui/buttons/specific/btn_audio_off_idle");this._audioDisabledPressTexture=r.getTexture("ui/buttons/specific/btn_audio_off_pressed");this.audioToggle()},__class__:Zb});var Wf=function(){q.call(this)};g["game_app.ui.game.GameCountdownUI"]=Wf;Wf.__name__=["game_app","ui","game","GameCountdownUI"];Wf.__super__=q;Wf.prototype=
l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);this.setupCountdownLabel();this.hide()},setupCountdownLabel:function(){},hide:function(){this.set_visible(!1)},dispose:function(){q.prototype.dispose.call(this);this._countdownLabel=this._functionToCallAfter=this._countdownPlayer=null},__class__:Wf});var Hd=function(){this.onGameResume=new E;q.call(this)};g["game_app.ui.game.GameUI"]=Hd;Hd.__name__=["game_app","ui","game","GameUI"];Hd.__super__=q;Hd.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);
this.setupScoreSection();this.setupGameCountdown();this.setupPauseButton();this.setupAudioButton()},setupScoreSection:function(){this._scoreSection=new Xf;this.owner.addChild((new k).add(this._scoreSection))},setupGameCountdown:function(){this._gameCountdown=new Wf;this.owner.addChild((new k).add(this._gameCountdown))},setupPauseButton:function(){var a=r.getTexture("ui/buttons/specific/btn_pause_idle"),b=r.getTexture("ui/buttons/specific/btn_pause_pressed");this._pauseButton=new Sc(a,b,e(this,this.onPauseButtonPressed));
this.owner.addChild((new k).add(this._pauseButton))},setupAudioButton:function(){this._audioButton=new Zb(0.405*i.get_scaledStageWidth(),0.39*-i.get_scaledStageHeight());this._audioButton.setToFairy();this.owner.addChild((new k).add(this._audioButton));this._audioButton.get_sprite().set_visible(!1)},onPauseButtonPressed:function(){B.getInstance().playAudio("audio/sfx/button_sfx",r.appAssetPack);this.onGameResume.emit(!1);m.callWithDelay(this.owner,new n(e(this,this.showPauseScreen)),0.1)},onResumeGame:function(){this.onGameResume.emit(!0)},
showPauseScreen:function(){U.getInstance().pushToScene(new Uf,null,0.35)},get_pauseButton:function(){return this._pauseButton},dispose:function(){q.prototype.dispose.call(this);this._pauseButton=this._gameCountdown=this._scoreSection=this.gameCountdown=this.scoreSection=this.pauseButton=null},__class__:Hd});var Xf=function(){q.call(this)};g["game_app.ui.game.ScoreSection"]=Xf;Xf.__name__=["game_app","ui","game","ScoreSection"];Xf.__super__=q;Xf.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);
this._currentScoreShown=0;this.setupAnimationScript();this.setupCurrentScoreLabel();this.repositionSection()},setupCurrentScoreLabel:function(){this._currentScoreLabel=new la(Ua.getInstance().defaultFont);this.owner.addChild((new k).add(this._currentScoreLabel));this._currentScoreLabel.setScale(1.1);this.setCurrentScore(0)},setupAnimationScript:function(){this._animationScript=new Ca;this.owner.add(this._animationScript)},repositionSection:function(){this.x.set__(-(0.35*i.get_screenWidth())+10);this.y.set__(-(0.4*
i.get_screenHeight())+10)},setCurrentScore:function(a){var b=this;if(null!=this._animationScript){this._animationScript.stopAll();var c=0.1*(a-this._currentScoreShown)|0,f=new va,d=function(){b._currentScoreShown+=c;b.showScore(b._currentScoreShown)};this.scaleX.animateTo(1.5,0.1);this.scaleY.animateTo(1.5,0.1);f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(function(){b.scaleX.animateTo(1.1,
0.1);b.scaleY.animateTo(1.1,0.1)}));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(d));f.add(new L(0.025));f.add(new ka(function(){b._currentScoreShown=a;b.showScore(b._currentScoreShown)}));this._animationScript.run(f)}},showScore:function(a){0<a&&(this._currentScoreLabel.set_text(""+(null==a?"null":""+a)+""),this._currentScoreLabel.centerAnchor())},dispose:function(){q.prototype.dispose.call(this);this._highScoreLabel=
this._currentScoreLabel=null},__class__:Xf});var Vc=function(a,b){null==b&&(b=!1);this._isAgain=null!=a?a:!1;q.call(this);this._useWhiteFont=b;this.centerAnchor();this.set_pointerEnabled(!1)};g["game_app.ui.scenes.title.TapAnywhereLabel"]=Vc;Vc.__name__=["game_app","ui","scenes","title","TapAnywhereLabel"];Vc.__super__=q;Vc.prototype=l(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);this.setupTextSprite();this.set_visible(!1)},setupTextSprite:function(){var a="";this._useWhiteFont&&
(a="_white");this._textSprite=this._isAgain?t._platform.getTouch().get_supported()?new N("tap_again"+a):new N("click_again"+a):t._platform.getTouch().get_supported()?new N("tap_anywhere"+a):new N("click_anywhere"+a);this.owner.addChild((new k).add(this._textSprite));this._textSprite.setXYAppend(0,0);this._textSprite.centerAnchor();this._textSprite.disablePointer()},playEnterAnimation:function(a,b,c){this.set_visible(!0);this.x.set__(a+this._textSprite.xmlString.offsetX);this.y.set__(b+this._textSprite.xmlString.offsetY);
this.y.animateTo(c+this._textSprite.xmlString.offsetY,1.5,T.bounceOut)},dispose:function(){q.prototype.dispose.call(this);this._textSprite=null},__class__:Vc});var Xa=g["haxe.StackItem"]={__ename__:["haxe","StackItem"],__constructs__:["CFunction","Module","FilePos","Method","LocalFunction"]};Xa.CFunction=["CFunction",0];Xa.CFunction.toString=p;Xa.CFunction.__enum__=Xa;Xa.Module=function(a){a=["Module",1,a];a.__enum__=Xa;a.toString=p;return a};Xa.FilePos=function(a,b,c){a=["FilePos",2,a,b,c];a.__enum__=
Xa;a.toString=p;return a};Xa.Method=function(a,b){var c=["Method",3,a,b];c.__enum__=Xa;c.toString=p;return c};Xa.LocalFunction=function(a){a=["LocalFunction",4,a];a.__enum__=Xa;a.toString=p;return a};var hb=function(){};g["haxe.CallStack"]=hb;hb.__name__=["haxe","CallStack"];hb.callStack=function(){var a=Error.prepareStackTrace;Error.prepareStackTrace=function(a,b){for(var d=[],e=0;e<b.length;){var g=b[e];++e;var i=null,h=g.getFunctionName();if(null!=h){var j=h.lastIndexOf(".");0<=j&&(i=A.substr(h,
0,j),h=A.substr(h,j+1,null),i=Xa.Method(i,h))}d.push(Xa.FilePos(i,g.getFileName(),g.getLineNumber()))}return d};var b=hb.makeStack(Error().stack);b.shift();Error.prepareStackTrace=a;return b};hb.exceptionStack=function(){return[]};hb.toString=function(a){for(var b=new Pb,c=0;c<a.length;){var f=a[c];++c;b.b+="\nCalled from ";hb.itemToString(b,f)}return b.b};hb.itemToString=function(a,b){switch(b[1]){case 0:a.b+="a C function";break;case 1:var c=b[2];a.b+="module ";a.b=null==c?a.b+"null":a.b+(""+c);
break;case 2:var c=b[4],f=b[3],d=b[2];null!=d&&(hb.itemToString(a,d),a.b+=" (");a.b=null==f?a.b+"null":a.b+(""+f);a.b+=" line ";a.b=null==c?a.b+"null":a.b+(""+c);null!=d&&(a.b+=")");break;case 3:c=b[3];f=b[2];a.b=null==f?a.b+"null":a.b+(""+f);a.b+=".";a.b=null==c?a.b+"null":a.b+(""+c);break;case 4:c=b[2],a.b+="local function #",a.b=null==c?a.b+"null":a.b+(""+c)}};hb.makeStack=function(a){if("string"==typeof a){for(var a=a.split("\n"),b=[],c=0;c<a.length;){var d=a[c];++c;b.push(Xa.Module(d))}return b}return a};
var wb=function(){this.buf=new Pb;this.cache=[];this.useCache=wb.USE_CACHE;this.useEnumIndex=wb.USE_ENUM_INDEX;this.shash=new S;this.scount=0};g["haxe.Serializer"]=wb;wb.__name__=["haxe","Serializer"];wb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":
this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,g=this.cache[e];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b=null==e?this.buf.b+"null":this.buf.b+(""+e),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=$.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize($.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=
aa["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;
switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var e=d++;null==a[e]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[e]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case bc:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(A.dateStr(a));
break;case S:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;case Qa:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case ac:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=$.field(c,"__id__"),$.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+=
"h";break;case nb:d=0;e=a.length-2;b=new Pb;for(c=wb.BASE64;d<e;){var g=a.get(d++),i=a.get(d++),h=a.get(d++);b.add(c.charAt(g>>2));b.add(c.charAt((g<<4|i>>4)&63));b.add(c.charAt((i<<2|h>>6)&63));b.add(c.charAt(h&63))}d==e?(e=a.get(d++),a=a.get(d++),b.add(c.charAt(e>>2)),b.add(c.charAt((e<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==e+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=
":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(aa.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(aa.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;
this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(aa.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=C.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=C.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+C.string(a);}},__class__:wb};var tc=function(a){var b=this;this.id=setInterval(function(){b.run()},
a)};g["haxe.Timer"]=tc;tc.__name__=["haxe","Timer"];tc.delay=function(a,b){var c=new tc(b);c.run=function(){c.stop();a()};return c};tc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:tc};var Ha=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Ha.DEFAULT_RESOLVER;null==a&&(a=aa,Ha.DEFAULT_RESOLVER=a);this.setResolver(a)};g["haxe.Unserializer"]=Ha;Ha.__name__=["haxe","Unserializer"];Ha.initCodes=function(){for(var a=
[],b=0,c=Ha.BASE64.length;b<c;){var d=b++;a[Ha.BASE64.charCodeAt(d)]=d}return a};Ha.run=function(a){return(new Ha(a)).unserialize()};Ha.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&
(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return aa.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return aa.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;
case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return C.parseFloat(A.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=A.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;
case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";
return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=aa.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+
a;this.pos++;var c=this.readDigits(),d=aa.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new bc;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new S;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Qa;this.cache.push(a);for(b=this.get(this.pos++);58==
b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new ac;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=A.substr(this.buf,this.pos,19),a=A.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var e=Ha.CODES;null==
e&&(e=Ha.initCodes(),Ha.CODES=e);for(var g=this.pos,i=a&3,h=g+(a-i),b=nb.alloc(3*(a>>2)+(2<=i?i-1:0)),c=0;g<h;){var j=e[X.fastCodeAt(d,g++)],k=e[X.fastCodeAt(d,g++)];b.set(c++,j<<2|k>>4);j=e[X.fastCodeAt(d,g++)];b.set(c++,k<<4|j>>2);k=e[X.fastCodeAt(d,g++)];b.set(c++,j<<6|k)}2<=i&&(k=e[X.fastCodeAt(d,g++)],h=e[X.fastCodeAt(d,g++)],b.set(c++,k<<2|h>>4),3==i&&(d=e[X.fastCodeAt(d,g++)],b.set(c++,h<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);
if(null==b)throw"Class not found "+a;a=aa.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:Ha};var nb=function(a,b){this.length=a;this.b=b};g["haxe.io.Bytes"]=nb;nb.__name__=["haxe","io","Bytes"];nb.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new nb(a,b)};nb.ofString=function(a){for(var b=[],c=0;c<a.length;){var d=
X.fastCodeAt(a,c++);55296<=d&&56319>=d&&(d=d-55232<<10|X.fastCodeAt(a,c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new nb(b.length,b)};nb.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},getString:function(a,b){if(0>a||0>b||a+b>this.length)throw Ya.OutsideBounds;for(var c="",d=this.b,e=String.fromCharCode,g=a,i=a+b;g<i;){var h=d[g++];if(128>h){if(0==
h)break;c+=e(h)}else if(224>h)c+=e((h&63)<<6|d[g++]&127);else if(240>h)var j=d[g++],c=c+e((h&31)<<12|(j&127)<<6|d[g++]&127);else var j=d[g++],k=d[g++],h=(h&15)<<18|(j&127)<<12|(k&127)<<6|d[g++]&127,c=c+e((h>>10)+55232),c=c+e(h&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:nb};var uc=function(){};g["haxe.crypto.Base64"]=uc;uc.__name__=["haxe","crypto","Base64"];uc.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==A.cca(a,a.length-1);)a=A.substr(a,0,-1);
return(new Dg(uc.BYTES)).decodeBytes(nb.ofString(a))};var Dg=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=c};g["haxe.crypto.BaseCode"]=Dg;Dg.__name__=["haxe","crypto","BaseCode"];Dg.prototype={initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}b=0;for(c=this.base.length;b<c;){var d=b++;a[this.base.b[d]]=d}this.tbl=a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();
for(var c=this.tbl,d=a.length*b>>3,e=nb.alloc(d),g=0,i=0,h=0,j=0;j<d;){for(;8>i;){var i=i+b,g=g<<b,k=c[a.get(h++)];if(-1==k)throw"BaseCode : invalid encoded char";g|=k}i-=8;e.set(j++,g>>i&255)}return e},__class__:Dg};var Qa=function(){this.h={}};g["haxe.ds.IntMap"]=Qa;Qa.__name__=["haxe","ds","IntMap"];Qa.__interfaces__=[Zf];Qa.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;
delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return A.iter(a)},__class__:Qa};var ac=function(){this.h={};this.h.__keys__={}};g["haxe.ds.ObjectMap"]=ac;ac.__name__=["haxe","ds","ObjectMap"];ac.__interfaces__=[Zf];ac.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++ac.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return A.iter(a)},
__class__:ac};var S=function(){this.h={}};g["haxe.ds.StringMap"]=S;S.__name__=["haxe","ds","StringMap"];S.__interfaces__=[Zf];S.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return A.iter(a)},iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:S};var Rg=function(){};g["haxe.io.Eof"]=Rg;Rg.__name__=["haxe","io","Eof"];Rg.prototype={toString:function(){return"Eof"},__class__:Rg};var Ya=g["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};Ya.Blocked=["Blocked",0];Ya.Blocked.toString=p;Ya.Blocked.__enum__=Ya;Ya.Overflow=["Overflow",1];Ya.Overflow.toString=
p;Ya.Overflow.__enum__=Ya;Ya.OutsideBounds=["OutsideBounds",2];Ya.OutsideBounds.toString=p;Ya.OutsideBounds.__enum__=Ya;Ya.Custom=function(a){a=["Custom",3,a];a.__enum__=Ya;a.toString=p;return a};var Ng=function(){};g["haxe.rtti.Meta"]=Ng;Ng.__name__=["haxe","rtti","Meta"];Ng.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var Eg=function(a){this.__x=a};g["haxe.xml._Fast.NodeAccess"]=Eg;Eg.__name__=["haxe","xml","_Fast","NodeAccess"];Eg.prototype={resolve:function(a){var b=
this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==w.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new Xb(b)},__class__:Eg};var Fg=function(a){this.__x=a};g["haxe.xml._Fast.AttribAccess"]=Fg;Fg.__name__=["haxe","xml","_Fast","AttribAccess"];Fg.prototype={resolve:function(a){if(this.__x.nodeType==w.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:Fg};
var Gg=function(a){this.__x=a};g["haxe.xml._Fast.HasAttribAccess"]=Gg;Gg.__name__=["haxe","xml","_Fast","HasAttribAccess"];Gg.prototype={resolve:function(a){if(this.__x.nodeType==w.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:Gg};var Hg=function(a){this.__x=a};g["haxe.xml._Fast.HasNodeAccess"]=Hg;Hg.__name__=["haxe","xml","_Fast","HasNodeAccess"];Hg.prototype={__class__:Hg};var Ig=function(a){this.__x=a};g["haxe.xml._Fast.NodeListAccess"]=Ig;Ig.__name__=
["haxe","xml","_Fast","NodeListAccess"];Ig.prototype={resolve:function(a){for(var b=new bc,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Xb(c))}return b},__class__:Ig};var Xb=function(a){if(a.nodeType!=w.Document&&a.nodeType!=w.Element)throw"Invalid nodeType "+C.string(a.nodeType);this.x=a;this.node=new Eg(a);this.nodes=new Ig(a);this.att=new Fg(a);this.has=new Gg(a);this.hasNode=new Hg(a)};g["haxe.xml.Fast"]=Xb;Xb.__name__=["haxe","xml","Fast"];Xb.prototype={get_name:function(){return this.x.nodeType==
w.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==w.PCData&&c.nodeType==w.CData&&""==X.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==w.PCData&&""==X.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=w.PCData&&b.nodeType!=w.CData)throw this.get_name()+
" does not have data";return b.get_nodeValue()},__class__:Xb};var Ab=function(){};g["haxe.xml.Parser"]=Ab;Ab.__name__=["haxe","xml","Parser"];Ab.parse=function(a){var b=w.createDocument();Ab.doParse(a,0,b);return b};Ab.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,g=1,i=null,h=0,j=0,k=0,l=a.charCodeAt(b),m=new Pb;l==l;){switch(e){case 0:switch(l){case 10:case 13:case 9:case 32:break;default:e=g;continue}break;case 1:switch(l){case 60:e=0;g=2;break;default:h=b;e=13;continue}break;case 13:60==
l?(g=w.createPCData(m.b+A.substr(a,h,b-h)),m=new Pb,c.addChild(g),j++,e=0,g=2):38==l&&(m.addSub(a,h,b-h),e=18,g=13,h=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=w.createCData(A.substr(a,h,b-h)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=A.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=A.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";
b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;g=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==h)throw"Expected node name";d=w.createElement(A.substr(a,h,b-h));c.addChild(d);e=0;g=4;continue}break;case 4:switch(l){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;h=b;continue}break;
case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected attribute name";i=A.substr(a,h,b-h);if(d.exists(i))throw"Duplicate attribute";e=0;g=6;continue}break;case 6:switch(l){case 61:e=0;g=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:e=8;h=b;break;default:throw'Expected "';}break;case 8:l==a.charCodeAt(h)&&(g=A.substr(a,h+1,b-h-1),d.set(i,g),e=0,g=4);break;case 9:h=b=Ab.doParse(a,b,d);e=1;break;case 11:switch(l){case 62:e=
1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==j&&c.addChild(w.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(h==b)throw"Expected node name";if(A.substr(a,h,b-h)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";e=0;g=12;continue}break;case 15:45==l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(w.createComment(A.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==l?
k++:93==l?k--:62==l&&0==k&&(c.addChild(w.createDocType(A.substr(a,h,b-h))),e=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,e=A.substr(a,h+1,b-h-2),c.addChild(w.createProcessingInstruction(e)),e=1);break;case 18:59==l&&(h=A.substr(a,h,b-h),35==h.charCodeAt(0)?(h=120==h.charCodeAt(1)?C.parseInt("0"+A.substr(h,1,h.length-1)):C.parseInt(A.substr(h,1,h.length-1)),m.add(String.fromCharCode(h))):Ab.escapes.exists(h)?m.add(Ab.escapes.get(h)):m.b+=C.string("&"+h+";"),h=b+1,e=g)}l=X.fastCodeAt(a,++b)}1==
e&&(h=b,e=13);if(13==e)return(b!=h||0==j)&&c.addChild(w.createPCData(m.b+A.substr(a,h,b-h))),b;throw"Unexpected end";};var ia=function(){};g["js.Boot"]=ia;ia.__name__=["js","Boot"];ia.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};ia.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];
for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+ia.__string_rec(a[g],b)):c+ia.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+ia.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==
c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+ia.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};ia.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++,g=c[g];if(g==b||ia.__interfLoop(g,b))return!0}return ia.__interfLoop(a.__super__,b)};ia.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Xg:return(a|
0)===a;case Ug:return"number"==typeof a;case Vg:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Yg:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||ia.__interfLoop(ia.getClass(a),b)))return!0}else return!1;return b==Zg&&null!=a.__name__||b==$g&&null!=a.__ename__?!0:a.__enum__==b}};ia.__cast=function(a,b){if(ia.__instanceof(a,b))return a;throw"Cannot cast "+C.string(a)+" to "+C.string(b);};var Lg=function(){};
g["js.Browser"]=Lg;Lg.__name__=["js","Browser"];Lg.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};var Mg=function(){};g["js.html._CanvasElement.CanvasUtil"]=Mg;Mg.__name__=["js","html","_CanvasElement","CanvasUtil"];Mg.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var W=function(){};g["nicksdk.AntiPiracy"]=W;W.__name__=["nicksdk","AntiPiracy"];
W.checkPiracy=function(a){null==a&&(a="");var b;b=uc.decode("aHR0cDovL3d3dy5uaWNrLmNvbS9uaWNrLWFzc2V0cy9nYW1lcy9uaWNrX2RvbWFpbi9OaWNrRG9tYWluLmpzb24=").toString();W.REDIRECT_URL=a;""==W.REDIRECT_URL&&(W.REDIRECT_URL="http://www.nick.com/games/");Da.eval("eval",["window.getDomains = function(data) {eval('list=data.domains');}"]);Da.eval("eval",["window.getList = function() {return list;}"]);W.eval("var script = document.createElement('script');script.src = \""+b+'",document.body.insertBefore(script, document.body.firstChild);');
tc.delay(function(){for(var a=null,a=Da.eval("getList"),a=ia.__cast(a,Array),b=0;b<a.length;){var d=a[b];++b;W.DOMAIN_LIST.push(d)}W.startCheck()},W.GET_DOMAINS_DELAY)};W.startCheck=function(){W.debug("startCheck()");var a="",b=a="",c=!1,d=!0,a=window.location.host;try{b=window.parent.location.host}catch(e){c=!0}b!=a&&(c=!0);W.debug("childURL : "+a);W.debug("parentURL : "+b);W.debug("isiFrameCrossDomain : "+(null==c?"null":""+c));if(c)d=!0;else{b=0;for(c=W.DOMAIN_LIST;b<c.length;){var g=c[b];++b;
if((new tb(g,"i")).match(a)){d=!1;break}}}d?(W.debug("redirect"),tc.delay(W.redirect,W.REDIRECT_DELAY)):W.debug("do not redirect")};W.redirect=function(){};W.eval=function(a){Da.eval("eval",["void (function() {"+a+"}())"])};W.debug=function(){};var Da=function(){this.isDirty=!1;this.eventQueue=new bc;this.debugMode=!1;this.modules=[];this.gameObj={majorversion:1,minorversion:0.2,apiversion:1};this.registerModule(new Yf);M.init(this);qa.init(this);this.initializeBridge()};
g["nicksdk.SDK"]=Da;Da.__name__=["nicksdk","SDK"];Da.setDynamicField=function(a,b,c){if(null==a||""==a)throw"Argument fieldname cannot be null or empty or end with a '.'";if(!$.isObject(b))throw"Target field is not an object!";var d=a.indexOf(".");if(-1!=d){var e=a.substring(0,d),a=a.substring(d+1);Object.prototype.hasOwnProperty.call(b,e)||(b[e]={});b=$.field(b,e);Da.setDynamicField(a,b,c)}else b[a]=c};Da.eval=function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,g=a.split(".");e<g.length;){var h=
g[e];++e;c=d;d=$.field(c,h)}return d.apply(c,b)};Da.prototype={onException:function(a){try{this.queueEvent("error",{msg:a,callstack:hb.toString(hb.callStack()),exceptionstack:hb.toString(hb.exceptionStack())})}catch(b){this.queueEvent("error",{msg:a})}},initializeBridge:function(){try{this.queueEvent("init",{js:M.executeWebRequest})}catch(a){null}},setDebugMode:function(a){(this.debugMode=a)?this.gameObj.debugmode=!0:$.deleteField(this.gameObj,"debugmode");this.isDirty=!0;for(var b=0,c=this.modules;b<
c.length;){var d=c[b];++b;d.setDebugMode(a)}},queueEvent:function(a,b){b.eventName=a;$.setField(b,"timestamp",(new Date).getTime());this.eventQueue.add(b);this.flush_events();this.sync_state()},registerModule:function(a){a.init(this);Da.setDynamicField(a.getName(),this.gameObj,a.getObject());this.modules.push(a);a.setDebugMode(this.debugMode)},onUpdate:function(a){var b=this.isDirty;this.isDirty=!1;for(var c=0,d=this.modules;c<d.length;){var e=d[c];++c;b=b||e.update(a)}0<this.eventQueue.length&&(b=
!0,this.flush_events());b&&this.sync_state()},flush_events:function(){for(;0<this.eventQueue.length;)Da.output_event_array.push(this.eventQueue.pop())},sync_state:function(){try{Da.eval("nsdk_expose",[this.gameObj,Da.output_event_array]),Da.output_event_array.length=0}catch(a){}},log:function(a,b){this.debugMode&&this.queueEvent("log",{id:a,msg:b})},__class__:Da};var Jg=function(){};g["nicksdk.SDKModule"]=Jg;Jg.__name__=["nicksdk","SDKModule"];Jg.prototype={__class__:Jg};var qa=function(){};g["nicksdk.event.GameEventEmitter"]=
qa;qa.__name__=["nicksdk","event","GameEventEmitter"];qa.init=function(a){qa.sdk=a};qa.sendGameEvent=function(a,b){qa.callExternal(a,b)};qa.callExternal=function(a,b){if(null!=qa.sdk)qa.sdk.queueEvent(a,{params:b});else throw"SDK not initialized!";};var M=function(){};g["nicksdk.event.GameEventListener"]=M;M.__name__=["nicksdk","event","GameEventListener"];M.init=function(a){M.sdk=a};M.executeWebRequest=function(a){M.AssertType(a,D.TObject);if(null==a.name)return!1;switch(a.name){case "toggleaudio":M.AssertParameter(a,
"enable",D.TBool);if(null!=M.onAudioToggle)return M.onAudioToggle(a.enable),!0;M.sdk.log("SDKGameEventListener","Audio Toggle is not implemented.");break;case "toggleplayback":M.AssertParameter(a,"enable",D.TBool);if(null!=M.onPlaybackToggle)return M.onPlaybackToggle(a.enable),!0;M.sdk.log("SDKGameEventListener","Playback Toggle is not implemented.");break;case "togglesuspend":M.AssertParameter(a,"enable",D.TBool);if(null!=M.onSuspendToggle)M.onSuspendToggle(a.enable);else M.sdk.log("SDKGameEventListener",
"Suspend Toggle is not implemented.");break;case "toggledebug":M.AssertParameter(a,"enable",D.TBool);if(null!=M.onDebugModeToggle)M.onDebugModeToggle(a.enable);else M.sdk.log("SDKGameEventListener","Debug Mode Toggle is not implemented.");if(null!=M.sdk)return M.sdk.setDebugMode(a.enable),!0;break;default:M.sdk.log("SDKGameEventListener","Unknown function")}return!1};M.AssertType=function(a,b){var c=aa["typeof"](a);if(c!=b)throw c="TypeCheck: Object {"+C.string(a)+"} was of type {"+C.string(c)+"}. Expected type {"+
C.string(b)+"}",null!=M.sdk&&M.sdk.log("SDKGameEventListener",c),c;};M.AssertParameter=function(a,b,c){if(Object.prototype.hasOwnProperty.call(a,b))a=$.field(a,b),M.AssertType(a,c);else throw c="ParameterCheck: Parameter {"+b+"} of type{"+C.string(c)+"} does not exist!",null!=M.sdk&&M.sdk.log("SDKGameEventListener",c),c;};var wa=function(){};g["nicksdk.jsembed.JSEmbedProxy"]=wa;wa.__name__=["nicksdk","jsembed","JSEmbedProxy"];wa.get_exists=function(){return wa.callJSEmbedMethod("exists()")};wa.get_base=
function(){return wa.callJSEmbedMethod("baseUrl()")};wa.get_isCrossdomain=function(){return wa.callJSEmbedMethod("isBaseCrossdomain()")};wa.get_canvasScale=function(){return C.parseFloat(wa.callJSEmbedMethod("canvasScale()"))};wa.callJSEmbedMethod=function(a){try{var b=wa.eval("eval",["jsembed."+a]);if(null!=b)return b}catch(c){}return""};wa.eval=function(a,b){null==b&&(b=[]);for(var c=window,d=c,e=0,g=a.split(".");e<g.length;){var h=g[e];++e;c=d;d=$.field(c,h)}return d.apply(c,b)};var Yf=function(){this.enabled=
!1;this.sampleNumber=this.smoothFPS=0;this.statsObj={sample:-1,frametime:-1,fps:-1,smoothfps:-1}};g["nicksdk.stats.SDKStats"]=Yf;Yf.__name__=["nicksdk","stats","SDKStats"];Yf.__interfaces__=[Jg];Yf.prototype={init:function(){},getName:function(){return"stats"},getObject:function(){return this.statsObj},setDebugMode:function(a){this.enabled=a},update:function(a){if(this.enabled){var b=1/a;this.smoothFPS=0.7*this.smoothFPS+0.3*b;this.statsObj.sample=this.sampleNumber++;this.statsObj.fps=b;this.statsObj.frametime=
1E3*a;this.statsObj.smoothfps=this.smoothFPS;return!0}return!1},__class__:Yf};var ha,Wg=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;g.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=g.String=String;String.__name__=["String"];g.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=g.Date=Date;Date.__name__=["Date"];var Xg=g.Int={__name__:["Int"]},
Yg=g.Dynamic={__name__:["Dynamic"]},Ug=g.Float=Number;Ug.__name__=["Float"];var Vg=g.Bool=Boolean;Vg.__ename__=["Bool"];var Zg=g.Class={__name__:["Class"]},$g={};w.Element="element";w.PCData="pcdata";w.CData="cdata";w.Comment="comment";w.DocType="doctype";w.ProcessingInstruction="processingInstruction";w.Document="document";Bb.instance=new Bb;ra.DISPATCHING_SENTINEL=new ec(null,null);t.root=new k;t.uncaughtError=new E;t.hidden=new Aa(!1);t.volume=new ca(1);t._platform=Bb.instance;t._calledInit=!1;
$a.__meta__={obj:{assets:[{app_sd:[{bytes:19767,md5:"726d1a7cc001cb951ccebbf143104b22",name:"audio/bgm/FOP_Endcredits_musicloopv1a.mp3"},{bytes:23613,md5:"9a14bcac4d40eca5d6a4d89cb9724066",name:"audio/bgm/FOP_Endcredits_musicloopv1a.ogg"},{bytes:84311,md5:"ffe2a351f9bc673f9e79c0323c217007",name:"audio/bgm/FOP_showtheme_musicloopv1a.mp3"},{bytes:81507,md5:"0a3ef4240d15cb1fe5c4f36abc51d7de",name:"audio/bgm/FOP_showtheme_musicloopv1a.ogg"},{bytes:116671,md5:"5907a0142fe3ed9d9475ca6403b9d830",name:"audio/bgm/wishing 101-cutscene_pages_bgm.mp3"},
{bytes:475310,md5:"5aa9a409626ecbeaa543c6a5efb70533",name:"audio/bgm/wishing 101-cutscene_pages_bgm.ogg"},{bytes:57379,md5:"a8874d271050a7de6a5e25670f5f983a",name:"audio/bgm/wishing 101-main_menu_bgm.mp3"},{bytes:207438,md5:"faf6229a18972ecf2b4d22da5f57f29b",name:"audio/bgm/wishing 101-main_menu_bgm.ogg"},{bytes:8961,md5:"4128c9145be104f1e85ef558b830b479",name:"audio/sfx/button_pop.mp3"},{bytes:4554,md5:"f768e5a87d1969be7af9fa7212edd0af",name:"audio/sfx/button_pop.ogg"},{bytes:8533,md5:"ddd4d235af787a817c96ecd5df75860f",
name:"audio/sfx/button_press.mp3"},{bytes:4305,md5:"fac417955afa7b8997d4c73a74a9953a",name:"audio/sfx/button_press.ogg"},{bytes:1519,md5:"899a39b131a08539d136ee15ebb294c3",name:"audio/sfx/button_sfx.mp3"},{bytes:4496,md5:"058b2fcf0e0f808a4806bee580f7a72b",name:"audio/sfx/button_sfx.ogg"},{bytes:2252,md5:"16510be188122ff45d7ed1667edbf9ea",name:"audio/sfx/button_sfx.wav"},{bytes:4924,md5:"87c2dae52e05030e373d86f69bbbfc6d",name:"audio/sfx/poof.mp3"},{bytes:7515,md5:"830f187e4fb82ca1c9d5913ff6c0e322",
name:"audio/sfx/poof.ogg"},{bytes:19981,md5:"7be481ce76c2ed7852d55e233f67504e",name:"scenes/chapter/asset_ch1_p1.png"},{bytes:7221,md5:"da611e490f5978c77503c869219d43ad",name:"scenes/chapter/asset_ch1_p1_unfinished.png"},{bytes:6431,md5:"2194d3be0349ebae4f0888ccacde9f01",name:"scenes/chapter/asset_ch1_p2.png"},{bytes:6392,md5:"3b7153d3cf679559490de93574b5014c",name:"scenes/chapter/asset_ch1_p2_unfinished.png"},{bytes:19633,md5:"c91b3c7009ca912b5ef463272a5949a0",name:"scenes/chapter/asset_ch1_p3.png"},
{bytes:7172,md5:"460e05dd739436b6572045f4dd40ca4b",name:"scenes/chapter/asset_ch1_p3_unfinished.png"},{bytes:6551,md5:"bb4c7efcb6a55c240355ab4af7579e93",name:"scenes/chapter/asset_ch2_p1.png"},{bytes:6703,md5:"a42130096e0652bba188a9d3929127a4",name:"scenes/chapter/asset_ch2_p1_unfinished.png"},{bytes:6035,md5:"092ca2b8560f3762bfcee655e5d62b03",name:"scenes/chapter/asset_ch2_p2.png"},{bytes:6628,md5:"10d3e517a7170768fd9cb3efdc55a70d",name:"scenes/chapter/asset_ch2_p2_unfinished.png"},{bytes:19479,
md5:"819b278e76221d4ed38c5124f7940035",name:"scenes/chapter/asset_ch2_p3.png"},{bytes:6961,md5:"75427b9f6cf5eb7c914a986a30e6f569",name:"scenes/chapter/asset_ch2_p3_unfinished.png"},{bytes:6512,md5:"9560cf11bc52bd11e38e72d0b9284fd0",name:"scenes/chapter/asset_ch3_p1.png"},{bytes:6195,md5:"bdec8dc4d07c2c777bbdbb419f7a3cb1",name:"scenes/chapter/asset_ch3_p1_unfinished.png"},{bytes:6452,md5:"fcf74b36b1cf0ef7116f8305159c41a2",name:"scenes/chapter/asset_ch3_p2.png"},{bytes:6377,md5:"2f1aa54b03a907d5cee5486219af9c78",
name:"scenes/chapter/asset_ch3_p2_unfinished.png"},{bytes:6645,md5:"8b174ee1ff4f4e669c8ccf08563c6d26",name:"scenes/chapter/asset_ch3_p3.png"},{bytes:7178,md5:"084f6017bc7ca7eedf01e4cbdefe5ef7",name:"scenes/chapter/asset_ch3_p3_unfinished.png"},{bytes:6062,md5:"da1b25840e8ce718d765e7953f0ff450",name:"scenes/chapter/asset_ch4_p1.png"},{bytes:6462,md5:"76a5499db4d8da876341f52673da6e37",name:"scenes/chapter/asset_ch4_p1_unfinished.png"},{bytes:18108,md5:"a098c9a7a07314162e0ce56cdbc6af54",name:"scenes/chapter/asset_ch4_p2.png"},
{bytes:6940,md5:"5c2ded0a2bb24c8c5f57fc1677417f38",name:"scenes/chapter/asset_ch4_p2_unfinished.png"},{bytes:18182,md5:"f6108adf385793efea3adac59b32f006",name:"scenes/chapter/asset_ch4_p3.png"},{bytes:6831,md5:"81740117ff69250fc554ea41d5cbaa88",name:"scenes/chapter/asset_ch4_p3_unfinished.png"},{bytes:6325,md5:"62d07c54b64b8cbc1061aa5fd857e48b",name:"scenes/chapter/asset_ch5_p1.png"},{bytes:6186,md5:"95821c6aa26748c3e9d7d227c9dc50cc",name:"scenes/chapter/asset_ch5_p1_unfinished.png"},{bytes:6231,
md5:"af3b3797e754af808877fde58b935766",name:"scenes/chapter/asset_ch5_p2.png"},{bytes:6583,md5:"23878a4008116223f86790c89f333418",name:"scenes/chapter/asset_ch5_p2_unfinished.png"},{bytes:5728,md5:"84808ded339bb131d16f16d3dc5b0bbf",name:"scenes/chapter/asset_ch5_p3.png"},{bytes:5778,md5:"5028496aea1bba79ef02ef7ca8543997",name:"scenes/chapter/asset_ch5_p3_unfinished.png"},{bytes:6904,md5:"21e8966b73d779c9b4ae1198d63d0df7",name:"scenes/chapter/asset_ch_p_locked_all.png"},{bytes:108006,md5:"92855091dc7dd5606ab8263fce851965",
name:"scenes/chapter/chapter_select_bg.png"},{bytes:31549,md5:"c7d4929c4c7ef53d36f3e2733c1dcb3e",name:"scenes/help/atlas0.png"},{bytes:59766,md5:"9503a20c037f6ae9815a7742191c5d00",name:"scenes/help/help_drawer_bg.png"},{bytes:46160,md5:"8d868ddcfd4e02639162dc083385c0a3",name:"scenes/help/library.json"},{bytes:15895,md5:"0c6c85dbb809d17f390a8af71263befc",name:"scenes/intro/asset_intro_book_rays.png"},{bytes:39475,md5:"31db6c731a46b3b24af4ade8662635ad",name:"scenes/intro/asset_intro_chloe_cutscene.png"},
{bytes:33232,md5:"c3feaa6f07f87bf100b64685e895e7ff",name:"scenes/intro/asset_intro_cosmo_and_wanda_cutscene.png"},{bytes:176071,md5:"78a8f036715113b4b2efa89b0e7e74ca",name:"scenes/intro/asset_intro_cutscene.png"},{bytes:28772,md5:"515ad55517bff68bd300d8e128e33593",name:"scenes/intro/asset_intro_foop_cutscene.png"},{bytes:757,md5:"844fd89c36ede37e55ae9f561fd77f21",name:"scenes/intro/asset_intro_star_cutscene1.png"},{bytes:608,md5:"fc514f25832ec87730899dd9df0775a2",name:"scenes/intro/asset_intro_star_cutscene2.png"},
{bytes:596,md5:"995fe34c9c04c347ea149ccf0b3b1935",name:"scenes/intro/asset_intro_star_cutscene3.png"},{bytes:109650,md5:"ad375eadae07075c7716eebc1748c0bf",name:"scenes/intro/ui_bg.png"},{bytes:23935,md5:"71e4cc805836172f3387027608da24b6",name:"scenes/pause/bg.png"},{bytes:25541,md5:"a5f6a643cd27a461581b2e465fd59056",name:"scenes/poof_smoke_transition/atlas0.png"},{bytes:65705,md5:"ba63ee19b589284a088c392a2ffded07",name:"scenes/poof_smoke_transition/atlas1.png"},{bytes:15672,md5:"288cd17a514ad4a1c5bd15ac9396669f",
name:"scenes/poof_smoke_transition/atlas2.png"},{bytes:18396,md5:"c3bc3259f7596320cc93e53df31ce6d2",name:"scenes/poof_smoke_transition/library.json"},{bytes:133289,md5:"1f1c5f4ec1fba75ea322563c7364f722",name:"scenes/post_game/asset_chapter1_illustration.png"},{bytes:135065,md5:"f770e6c16abb0fcf31aa1d14c350aaf6",name:"scenes/post_game/asset_chapter2_illustration.png"},{bytes:118079,md5:"8096c98d85fdbc141e2391a9f931d3ba",name:"scenes/post_game/asset_chapter3_illustration.png"},{bytes:130168,md5:"7a9b552ef84132579324aa77a70fc63d",
name:"scenes/post_game/asset_chapter4_illustration.png"},{bytes:132074,md5:"edeb538fa9893052b6b19b599ae7bb3c",name:"scenes/post_game/asset_chapter5_illustration.png"},{bytes:33309,md5:"c466aab88d0295bf00fa94cf7e991d69",name:"scenes/post_game/intro_cosmo_wanda_foop/atlas0.png"},{bytes:30839,md5:"71798534a67775412ecb17f88ee3337e",name:"scenes/post_game/intro_cosmo_wanda_foop/library.json"},{bytes:100655,md5:"808659c4dde481e51c38fae99d1cdef8",name:"scenes/post_game/post_game_bg.png"},{bytes:10237,md5:"490a76b02d82875021dd14df17890b93",
name:"scenes/title/asset_title_screen_text.png"},{bytes:9166,md5:"314852e461e4e40c3bde83d3a54379d5",name:"scenes/title/fop_logo.png"},{bytes:260315,md5:"df4717e0e10982b007c3937d8e467346",name:"scenes/title/title_scene_bg.png"},{bytes:2575,md5:"515e847e7b10cd796c5e7f8a95dfc73b",name:"ui/buttons/btn_long_disabled.png"},{bytes:2540,md5:"694d219ba81949a2baa5ffa6c9a7c39a",name:"ui/buttons/btn_long_idle.png"},{bytes:2552,md5:"dc4c7c3d27aa6a8bd495334959510531",name:"ui/buttons/btn_long_pressed.png"},{bytes:2298,
md5:"a390ae07e0d63f77ff3b95de32dce1f2",name:"ui/buttons/btn_next_disabled.png"},{bytes:2231,md5:"891f7c3beab20b778ae3932bd2b68c9f",name:"ui/buttons/btn_next_idle.png"},{bytes:2235,md5:"3b271d300011bfa429ad824ed0902508",name:"ui/buttons/btn_next_pressed.png"},{bytes:2078,md5:"b6487d6acb2fc8d12199dc631b9e4ee6",name:"ui/buttons/btn_no_button_next_prev.png"},{bytes:2147,md5:"55f46626c31d2a4c949eba159c7c846a",name:"ui/buttons/btn_play_small2_idle.png"},{bytes:2160,md5:"4ae0d50e31051f7956fe8c6e2638615a",
name:"ui/buttons/btn_play_small2_pressed.png"},{bytes:2069,md5:"bbbfb3ae142b724cb60ff65e93d7b8b8",name:"ui/buttons/btn_play_small_idle.png"},{bytes:2075,md5:"aa9a69d31b5a81ef82346a469bae9dde",name:"ui/buttons/btn_play_small_pressed.png"},{bytes:2308,md5:"53990b99c4bac2c2fd3f9e19d88239c8",name:"ui/buttons/btn_prev_disabled.png"},{bytes:2227,md5:"a27b878547503306c3603c4a2d82e862",name:"ui/buttons/btn_prev_idle.png"},{bytes:2229,md5:"d3b2e7a1bed9c4fdaf100364ecd2e2cf",name:"ui/buttons/btn_prev_pressed.png"},
{bytes:2521,md5:"202450ff9596990bf2238e5c7904cbc3",name:"ui/buttons/specific/btn_audio_off_idle.png"},{bytes:2481,md5:"15991c9026323a3661b2664915b784b2",name:"ui/buttons/specific/btn_audio_off_pressed.png"},{bytes:2623,md5:"2e91ce756d4b78793842ab04eb488f2d",name:"ui/buttons/specific/btn_audio_on_idle.png"},{bytes:2611,md5:"b56c18550acaa6130544e9d59c68c80f",name:"ui/buttons/specific/btn_audio_on_pressed.png"},{bytes:2439,md5:"b447cd185743cf2009f0d0068b4bb5e7",name:"ui/buttons/specific/btn_check_idle.png"},
{bytes:2429,md5:"75a4add7a1cc9db126a4b2dfd30ccf18",name:"ui/buttons/specific/btn_check_pressed.png"},{bytes:2472,md5:"30280084a5b8d45e54bbeb3e9c8e4d70",name:"ui/buttons/specific/btn_exit_idle.png"},{bytes:2541,md5:"338d218ebbf617374dec821244765107",name:"ui/buttons/specific/btn_exit_pressed.png"},{bytes:2665,md5:"9c0760763d40515a3cf329e7619dafb5",name:"ui/buttons/specific/btn_help_idle.png"},{bytes:2583,md5:"09cff84d877600f2dc1835665a099325",name:"ui/buttons/specific/btn_help_pressed.png"},{bytes:1492,
md5:"0bb3c4c6777365dc7adccdfa6dacc1b1",name:"ui/buttons/specific/btn_pause_idle.png"},{bytes:1437,md5:"75173a76e2ef6cd03c03dbb70994ded8",name:"ui/buttons/specific/btn_pause_pressed.png"},{bytes:2336,md5:"79d04ac67e0af109635ef8326d28ff9e",name:"ui/buttons/specific/btn_resume_idle.png"},{bytes:2360,md5:"3eaa8d4c41fdc116edff86970cc8b7f0",name:"ui/buttons/specific/btn_resume_pressed.png"},{bytes:1594,md5:"1fe2e2a32f50241442368eff9e71e45d",name:"ui/buttons/specific/btn_soundoff_idle.png"},{bytes:1611,
md5:"524046346d4f4d9830a7988669cb7cda",name:"ui/buttons/specific/btn_soundoff_idle2.png"},{bytes:1587,md5:"41ee9a284040b11c8f521b1595a72d37",name:"ui/buttons/specific/btn_soundoff_pressed.png"},{bytes:1615,md5:"a0b22b926a79137b078d5327f8dd99b5",name:"ui/buttons/specific/btn_soundoff_pressed2.png"},{bytes:1610,md5:"247449daf170a7aa9a551ce58587817c",name:"ui/buttons/specific/btn_soundon_idle.png"},{bytes:1617,md5:"e748e398078ac0663ffea67d6fdddc5a",name:"ui/buttons/specific/btn_soundon_idle2.png"},{bytes:1621,
md5:"3449ce63c067482b9ada74ca68e1146c",name:"ui/buttons/specific/btn_soundon_pressed.png"},{bytes:1636,md5:"2cdf3ea7aa7924da7e667a0afb7ea00c",name:"ui/buttons/specific/btn_soundon_pressed2.png"}],app_hd:[{bytes:19767,md5:"726d1a7cc001cb951ccebbf143104b22",name:"audio/bgm/FOP_Endcredits_musicloopv1a.mp3"},{bytes:23613,md5:"f200510cca9bf69449cf8d878bf26252",name:"audio/bgm/FOP_Endcredits_musicloopv1a.ogg"},{bytes:84311,md5:"ffe2a351f9bc673f9e79c0323c217007",name:"audio/bgm/FOP_showtheme_musicloopv1a.mp3"},
{bytes:81507,md5:"3d66307a9210617bf82bea1564c2d8d0",name:"audio/bgm/FOP_showtheme_musicloopv1a.ogg"},{bytes:116671,md5:"5907a0142fe3ed9d9475ca6403b9d830",name:"audio/bgm/wishing 101-cutscene_pages_bgm.mp3"},{bytes:475310,md5:"5aa9a409626ecbeaa543c6a5efb70533",name:"audio/bgm/wishing 101-cutscene_pages_bgm.ogg"},{bytes:57379,md5:"a8874d271050a7de6a5e25670f5f983a",name:"audio/bgm/wishing 101-main_menu_bgm.mp3"},{bytes:207438,md5:"faf6229a18972ecf2b4d22da5f57f29b",name:"audio/bgm/wishing 101-main_menu_bgm.ogg"},
{bytes:8961,md5:"4128c9145be104f1e85ef558b830b479",name:"audio/sfx/button_pop.mp3"},{bytes:4554,md5:"f845ffaa7fa9ca1411b954a6a1b01890",name:"audio/sfx/button_pop.ogg"},{bytes:8533,md5:"ddd4d235af787a817c96ecd5df75860f",name:"audio/sfx/button_press.mp3"},{bytes:4305,md5:"8213e09076ec90f783666537166056b9",name:"audio/sfx/button_press.ogg"},{bytes:1519,md5:"899a39b131a08539d136ee15ebb294c3",name:"audio/sfx/button_sfx.mp3"},{bytes:4496,md5:"6f632b54b15ae636f83bfa22813f1173",name:"audio/sfx/button_sfx.ogg"},
{bytes:2252,md5:"16510be188122ff45d7ed1667edbf9ea",name:"audio/sfx/button_sfx.wav"},{bytes:4924,md5:"87c2dae52e05030e373d86f69bbbfc6d",name:"audio/sfx/poof.mp3"},{bytes:7515,md5:"a9434936a0d6a837d7d6c2508bcd7ff1",name:"audio/sfx/poof.ogg"},{bytes:15921,md5:"54e95929c7511b12eed9d9ac3d64a827",name:"scenes/chapter/asset_ch1_p1.png"},{bytes:18331,md5:"b653b6f787de5db863d22a317585ec69",name:"scenes/chapter/asset_ch1_p1_unfinished.png"},{bytes:15923,md5:"90ed705bbf6680404c87ee53f8ba59cc",name:"scenes/chapter/asset_ch1_p2.png"},
{bytes:14668,md5:"e2b4a84cda22be8c5e159b6045efdc78",name:"scenes/chapter/asset_ch1_p2_unfinished.png"},{bytes:41294,md5:"9bfc4a39350eb8516452c9046075baa7",name:"scenes/chapter/asset_ch1_p3.png"},{bytes:17529,md5:"c9a8651453431c748c27c2785dc0d27e",name:"scenes/chapter/asset_ch1_p3_unfinished.png"},{bytes:17127,md5:"35ed2ad327068d5b460b3323fb25ef07",name:"scenes/chapter/asset_ch2_p1.png"},{bytes:15798,md5:"ab5b175b4ea21a8a319057afa7b8ea16",name:"scenes/chapter/asset_ch2_p1_unfinished.png"},{bytes:14295,
md5:"9ac62257f07493d840d5a5b42b933e1d",name:"scenes/chapter/asset_ch2_p2.png"},{bytes:15011,md5:"2b21243a4f2fa3d2b2411ea1dda43dde",name:"scenes/chapter/asset_ch2_p2_unfinished.png"},{bytes:15800,md5:"15798a60f855d2f74b6c17a877c0bdef",name:"scenes/chapter/asset_ch2_p3.png"},{bytes:17139,md5:"1c0e9ae3167c5b005118af2104f60b54",name:"scenes/chapter/asset_ch2_p3_unfinished.png"},{bytes:16495,md5:"fe0b6f4d30f5b7428f68637fc420a1cf",name:"scenes/chapter/asset_ch3_p1.png"},{bytes:14991,md5:"cb34a669c366a1d5534e580516b28b97",
name:"scenes/chapter/asset_ch3_p1_unfinished.png"},{bytes:14861,md5:"64cf15e66d2e5b07f7bc9e75bf520e50",name:"scenes/chapter/asset_ch3_p2.png"},{bytes:12471,md5:"e4310fcb35853ef6e70e7c951cbda03f",name:"scenes/chapter/asset_ch3_p2_unfinished.png"},{bytes:15634,md5:"b05663da4eacb71411e27d52fa4681cd",name:"scenes/chapter/asset_ch3_p3.png"},{bytes:17619,md5:"ac7b1acdf78c41db01830b526c21d904",name:"scenes/chapter/asset_ch3_p3_unfinished.png"},{bytes:14320,md5:"9ca1fc9ea84787e25e03963a02e12181",name:"scenes/chapter/asset_ch4_p1.png"},
{bytes:14144,md5:"9df5991845bd69c62e3d0147f8d74e44",name:"scenes/chapter/asset_ch4_p1_unfinished.png"},{bytes:38151,md5:"02ed02a45b28c4994b41565753b99b0c",name:"scenes/chapter/asset_ch4_p2.png"},{bytes:15836,md5:"5a17cfb155abe4779981b5ec39e96858",name:"scenes/chapter/asset_ch4_p2_unfinished.png"},{bytes:13219,md5:"a4c2749744703b133610bfaabe06aad5",name:"scenes/chapter/asset_ch4_p3.png"},{bytes:16052,md5:"034d90b1b07a167e2d913f56800e263b",name:"scenes/chapter/asset_ch4_p3_unfinished.png"},{bytes:15244,
md5:"3d1ea61dc431b991e09f8a4518f165f6",name:"scenes/chapter/asset_ch5_p1.png"},{bytes:13592,md5:"fac5e78552fd9aa9379e199929f43c38",name:"scenes/chapter/asset_ch5_p1_unfinished.png"},{bytes:14526,md5:"7fa05dafda635dfd7a45b454a2a96551",name:"scenes/chapter/asset_ch5_p2.png"},{bytes:14965,md5:"1f535dd13dfd26b919ba4822b46c315c",name:"scenes/chapter/asset_ch5_p2_unfinished.png"},{bytes:12868,md5:"875bcddd0f185c4553398819751c6573",name:"scenes/chapter/asset_ch5_p3.png"},{bytes:12386,md5:"8b20ccbb8c49b2816b6a242690205c02",
name:"scenes/chapter/asset_ch5_p3_unfinished.png"},{bytes:16972,md5:"4bfb4a90968d1dd365df67bf21d0c43e",name:"scenes/chapter/asset_ch_p_locked_all.png"},{bytes:313992,md5:"b24f3fff69678854818809ae904aef78",name:"scenes/chapter/chapter_select_bg.png"},{bytes:31549,md5:"c7d4929c4c7ef53d36f3e2733c1dcb3e",name:"scenes/help/atlas0.png"},{bytes:172135,md5:"1975cd671d72d6d2c9f7df82c57f6d89",name:"scenes/help/help_drawer_bg.png"},{bytes:41137,md5:"df7b41b40cdd5bf6dd0458f9dde21735",name:"scenes/help/library.json"},
{bytes:31511,md5:"a6e9d15ac4886e27c9d00c97e47fce4c",name:"scenes/intro/asset_intro_book_rays.png"},{bytes:93616,md5:"dd66900fbe70ef938bbd4d52c296cccc",name:"scenes/intro/asset_intro_chloe_cutscene.png"},{bytes:81330,md5:"4b6edca61e9ca04343f7867d91b42c8f",name:"scenes/intro/asset_intro_cosmo_and_wanda_cutscene.png"},{bytes:740075,md5:"318880c0efcebf2fc4552d3187f43555",name:"scenes/intro/asset_intro_cutscene.png"},{bytes:67915,md5:"a1ba56435192f3cbb3390a730f658288",name:"scenes/intro/asset_intro_foop_cutscene.png"},
{bytes:1524,md5:"24e659c0e2193df06fec39af5f25e194",name:"scenes/intro/asset_intro_star_cutscene1.png"},{bytes:1257,md5:"d6b0632c84d18e4e9c7478693e0dd90a",name:"scenes/intro/asset_intro_star_cutscene2.png"},{bytes:1198,md5:"ef52a2d42c48e259505fb5bceb7c4324",name:"scenes/intro/asset_intro_star_cutscene3.png"},{bytes:316431,md5:"dfadbd41783845d030d0ff14bfbdad1b",name:"scenes/intro/ui_bg.png"},{bytes:63116,md5:"d092ee300d57c9e18ed844b9b19b54a8",name:"scenes/pause/bg.png"},{bytes:25541,md5:"a5f6a643cd27a461581b2e465fd59056",
name:"scenes/poof_smoke_transition/atlas0.png"},{bytes:65705,md5:"ba63ee19b589284a088c392a2ffded07",name:"scenes/poof_smoke_transition/atlas1.png"},{bytes:15672,md5:"288cd17a514ad4a1c5bd15ac9396669f",name:"scenes/poof_smoke_transition/atlas2.png"},{bytes:18528,md5:"e67c52908b03e4520fa9eb2b364cef19",name:"scenes/poof_smoke_transition/library.json"},{bytes:460807,md5:"f54142b0069bc768e1bc6394fa79f84b",name:"scenes/post_game/asset_chapter1_illustration.png"},{bytes:450460,md5:"39a53137a00e895f5355825752f8f79d",
name:"scenes/post_game/asset_chapter2_illustration.png"},{bytes:392397,md5:"af5f5f39abfd0dccee22740e0093e46f",name:"scenes/post_game/asset_chapter3_illustration.png"},{bytes:434508,md5:"6079f4ba4b20111d975cf98662f2fea2",name:"scenes/post_game/asset_chapter4_illustration.png"},{bytes:453240,md5:"b4e3abfd241db9fd88c66507a6a316fd",name:"scenes/post_game/asset_chapter5_illustration.png"},{bytes:33309,md5:"c466aab88d0295bf00fa94cf7e991d69",name:"scenes/post_game/intro_cosmo_wanda_foop/atlas0.png"},{bytes:28287,
md5:"8272b7e3dcbd65f9b121fbee1beb1db6",name:"scenes/post_game/intro_cosmo_wanda_foop/library.json"},{bytes:290293,md5:"0c0a76e8f155f6c239e21a4447d70ca8",name:"scenes/post_game/post_game_bg.png"},{bytes:21964,md5:"ce487cbef47057fc2819c44ac9428812",name:"scenes/title/asset_title_screen_text.png"},{bytes:5313,md5:"8452d592e40a5f578ef4a495947f2329",name:"scenes/title/fop_logo.png"},{bytes:960593,md5:"ce552e11dd71f20be3c3a9de8e7090dd",name:"scenes/title/title_scene_bg.png"},{bytes:2974,md5:"26b837ee2df204b22e3dddd44ee69603",
name:"ui/buttons/btn_long_disabled.png"},{bytes:2992,md5:"9bab6d789ae7aec30e428e9814dfe1e0",name:"ui/buttons/btn_long_idle.png"},{bytes:2965,md5:"7ea65691ec3adee88370e57d3e3649e1",name:"ui/buttons/btn_long_pressed.png"},{bytes:2244,md5:"50cad51cee9f1651dff0eccf372e491e",name:"ui/buttons/btn_next_disabled.png"},{bytes:2338,md5:"634d8525829f975bcc1e76ac87364103",name:"ui/buttons/btn_next_idle.png"},{bytes:2283,md5:"451ece5914777bec8607dcb656edbbc7",name:"ui/buttons/btn_next_pressed.png"},{bytes:1723,
md5:"6515f559c47f6abf20d8daff70f3cf2f",name:"ui/buttons/btn_no_button_next_prev.png"},{bytes:2102,md5:"0e9dc69ecc0ff0d38a5c70dd3e1aa3f3",name:"ui/buttons/btn_play_small2_idle.png"},{bytes:2105,md5:"7097e14fd76bc6d6ca73ff4de10f4e24",name:"ui/buttons/btn_play_small2_pressed.png"},{bytes:2323,md5:"a369b551a4f03436fa8ba5b04e286287",name:"ui/buttons/btn_play_small_idle.png"},{bytes:2284,md5:"224687e714cce669d2fa3c71b203d554",name:"ui/buttons/btn_play_small_pressed.png"},{bytes:2230,md5:"51f21a2fea907d531240fa7e7d2feb65",
name:"ui/buttons/btn_prev_disabled.png"},{bytes:2318,md5:"78fdb13cd3a06a7ae613c48fed686cec",name:"ui/buttons/btn_prev_idle.png"},{bytes:2261,md5:"2b7ecf7c50996b9c6e98745ea77b2ccb",name:"ui/buttons/btn_prev_pressed.png"},{bytes:3293,md5:"0e031f1f4ceb2e6da69068e360beba0a",name:"ui/buttons/specific/btn_audio_off_idle.png"},{bytes:3176,md5:"8817eddeac2dc31779f27a8880d3b6ab",name:"ui/buttons/specific/btn_audio_off_pressed.png"},{bytes:3478,md5:"34d3dfda21a5a9a875263e353ae16d0f",name:"ui/buttons/specific/btn_audio_on_idle.png"},
{bytes:3363,md5:"bf811858c864bd924bc36793fb82d930",name:"ui/buttons/specific/btn_audio_on_pressed.png"},{bytes:3138,md5:"7c3088e8ccca7ab49e8bf75913f2e43e",name:"ui/buttons/specific/btn_check_idle.png"},{bytes:3024,md5:"1efc51ed281aa388bd8033458053ac2b",name:"ui/buttons/specific/btn_check_pressed.png"},{bytes:3087,md5:"de2f9904a11719538076dc4c5d7b03fd",name:"ui/buttons/specific/btn_exit_idle.png"},{bytes:2967,md5:"2f0bf161c173ee15f3e3937a95c2c9cc",name:"ui/buttons/specific/btn_exit_pressed.png"},{bytes:3374,
md5:"6c7ba7a4aad0c1e2a182b4a104e4df04",name:"ui/buttons/specific/btn_help_idle.png"},{bytes:3253,md5:"374100731453ace55a650e7b9859e978",name:"ui/buttons/specific/btn_help_pressed.png"},{bytes:978,md5:"35071417bce54bd76b0cde9f4b584c59",name:"ui/buttons/specific/btn_pause_idle.png"},{bytes:976,md5:"0f7f5a3ac944c09d14e38499d53bba71",name:"ui/buttons/specific/btn_pause_pressed.png"},{bytes:3151,md5:"806fd6a2da640fc5d2e846dd8cadfa38",name:"ui/buttons/specific/btn_resume_idle.png"},{bytes:2991,md5:"d81d176e12590329ec023fcbed12c724",
name:"ui/buttons/specific/btn_resume_pressed.png"},{bytes:1153,md5:"0461b931144ffd151319e0aea8ec70b7",name:"ui/buttons/specific/btn_soundoff_idle.png"},{bytes:1198,md5:"8445777efb0ef6bcf6af32201504446c",name:"ui/buttons/specific/btn_soundoff_idle2.png"},{bytes:1149,md5:"aca0429c310798d3b71575dfc62690fe",name:"ui/buttons/specific/btn_soundoff_pressed.png"},{bytes:1198,md5:"a56697c370b97ea170aaf35f965b2b10",name:"ui/buttons/specific/btn_soundoff_pressed2.png"},{bytes:1226,md5:"9331bd7596110d08ab8684d96e9a80b7",
name:"ui/buttons/specific/btn_soundon_idle.png"},{bytes:1271,md5:"e978a737473ed271be2597c51755a136",name:"ui/buttons/specific/btn_soundon_idle2.png"},{bytes:1221,md5:"ed8b85dc6892772f48f60af0a535a043",name:"ui/buttons/specific/btn_soundon_pressed.png"},{bytes:1271,md5:"87ea60eaa65a56374cf206777b512c52",name:"ui/buttons/specific/btn_soundon_pressed2.png"}],game_sd:[{bytes:41556,md5:"c122a0476647aea5a52016d35d9da261",name:"animations/characters/chloe/atlas0.png"},{bytes:1194432,md5:"3670168a93cf1354a571564a6a60f746",
name:"animations/characters/chloe/library.json"},{bytes:40225,md5:"68cf6fb971e783a990132d03e25b2765",name:"animations/characters/cosmo_and_wanda/atlas0.png"},{bytes:8301,md5:"43bae7344476b723599961693735f1f7",name:"animations/characters/cosmo_and_wanda/atlas1.png"},{bytes:2843,md5:"fb9e9bd51a6f66f101c1c20676738062",name:"animations/characters/cosmo_and_wanda/atlas2.png"},{bytes:161561,md5:"b7e6cccb7459863caa60226158b61388",name:"animations/characters/cosmo_and_wanda/library.json"},{bytes:9524,md5:"bb5e916f73f144cdc79db216a6b7f716",
name:"animations/characters/foop/atlas0.png"},{bytes:13784,md5:"ae42f09e1219c191178e9fd3fdbb922a",name:"animations/characters/foop/library.json"},{bytes:27971,md5:"c211cd55c930da556c3ffc231d452ba5",name:"animations/door/atlas0.png"},{bytes:5462,md5:"21032a6a3af6a38aa550f1f094812821",name:"animations/door/library.json"},{bytes:192170,md5:"e0b24495e62533109c8beb4a0c0831b2",name:"animations/page_flip/atlas0.png"},{bytes:12685,md5:"d39b30036887f557a0c51593ef1e8b19",name:"animations/page_flip/library.json"},
{bytes:27034,md5:"e9c93f32bd86655b35018a928b517ff7",name:"animations/sfx/atlas0.png"},{bytes:17469,md5:"36d376f5dc0f4f3423306fed649b961b",name:"animations/sfx/library.json"},{bytes:6360,md5:"ff4e5a00e6b6487cfd0586b3271b3513",name:"animations/sparkle/atlas0.png"},{bytes:10464,md5:"8d6e75e03e0cba3f8e5da91fe7ca28b0",name:"animations/sparkle/library.json"},{bytes:18808,md5:"6677a5c083b85fe9088662997b772eaf",name:"animations/textfx/atlas0.png"},{bytes:8747,md5:"8b94402aaa79a3a62e36c2dc458b3896",name:"animations/textfx/library.json"},
{bytes:3081,md5:"e1f3a9da51032f94a95583e6b95cd50d",name:"audio/sfx/chloe_qmark.mp3"},{bytes:5957,md5:"54033f5e631de1d9907cd092d37af3d8",name:"audio/sfx/chloe_qmark.ogg"},{bytes:3832,md5:"9a588f035428588dcf47e6824857a1db",name:"audio/sfx/chloe_shrug.mp3"},{bytes:6431,md5:"49022f1783fad1805c62a9dc18871dbd",name:"audio/sfx/chloe_shrug.ogg"},{bytes:15880,md5:"00cc377fe9fc9b9e520d65c4c19afbe4",name:"audio/sfx/cosmo- its totally wrong and super creepy.mp3"},{bytes:12498,md5:"b39ab4af293e808a5590de89156c0f47",
name:"audio/sfx/cosmo- its totally wrong and super creepy.ogg"},{bytes:12694,md5:"eaec6f94fee4f970828569afa104e954",name:"audio/sfx/cosmo- oh no.mp3"},{bytes:8646,md5:"4f97838acae4fa8929ffff3cc13f691e",name:"audio/sfx/cosmo- oh no.ogg"},{bytes:3538,md5:"7ac6a2731bf33922df7f5525c25fcdee",name:"audio/sfx/cosmo- tada.mp3"},{bytes:15984,md5:"b72119d045975ab6ebe22332117a17e1",name:"audio/sfx/cosmo- tada.ogg"},{bytes:13446,md5:"bef09daf7fa53e44e6b6bb8e59083e6f",name:"audio/sfx/cosmo- this is terrible!.mp3"},
{bytes:9675,md5:"5079a57bb3c5b38258b08cbab6a606cb",name:"audio/sfx/cosmo- this is terrible!.ogg"},{bytes:4820,md5:"483a94388d1563ee08b46892583b2bba",name:"audio/sfx/cosmo_head_shook.mp3"},{bytes:7945,md5:"f94d81f63c51ba9985cedb87b7e65994",name:"audio/sfx/cosmo_head_shook.ogg"},{bytes:8908,md5:"9f246bb487e0358c62219ee494df760c",name:"audio/sfx/door_close.mp3"},{bytes:6124,md5:"d8e414dbd0661d8b0ee65781382339f6",name:"audio/sfx/door_close.ogg"},{bytes:2871,md5:"5adfc86404777ef5a7765748bb30c7a5",name:"audio/sfx/door_open.mp3"},
{bytes:6296,md5:"a510136117a5a274430a78b49c3a1875",name:"audio/sfx/door_open.ogg"},{bytes:10596,md5:"b83980068e9cb05ec7d1a12ba64b841b",name:"audio/sfx/foop- evil laugh.mp3"},{bytes:13469,md5:"173e4bebe9c80d75021bddb460638560",name:"audio/sfx/foop- evil laugh.ogg"},{bytes:17123,md5:"3cbe2a403715773788b800614ad8bd9d",name:"audio/sfx/FOP_showtheme_endstingerv1a.mp3"},{bytes:13880,md5:"d8215f80c67d2d47d0e836cae96bcddf",name:"audio/sfx/FOP_showtheme_endstingerv1a.ogg"},{bytes:84311,md5:"ffe2a351f9bc673f9e79c0323c217007",
name:"audio/sfx/FOP_showtheme_musicloopv1a.mp3"},{bytes:81507,md5:"93069c9bc4ad4cff13faccdc495c2b11",name:"audio/sfx/FOP_showtheme_musicloopv1a.ogg"},{bytes:4274,md5:"7ab3844cff57e1995666631cbbb6225d",name:"audio/sfx/object_pop_in.mp3"},{bytes:7030,md5:"65b82e82ccf59f3cc30f3169d6c9598c",name:"audio/sfx/object_pop_in.ogg"},{bytes:12619,md5:"456cc368bf66ba24a34c99ca4147ffea",name:"audio/sfx/page_turn_sfx.mp3"},{bytes:13463,md5:"405f25dd183393c487aac26c80036f24",name:"audio/sfx/page_turn_sfx.ogg"},{bytes:4924,
md5:"87c2dae52e05030e373d86f69bbbfc6d",name:"audio/sfx/poof.mp3"},{bytes:7515,md5:"94260a7ae08aadef32d1adb04b6f4498",name:"audio/sfx/poof.ogg"},{bytes:7340,md5:"bac05c66106f9fba6ee4b3ea4dd01d07",name:"audio/sfx/triumph_sfx.mp3"},{bytes:9415,md5:"34788bcd2068463214a3bd1c163c7d2d",name:"audio/sfx/triumph_sfx.ogg"},{bytes:5600,md5:"d490eaa23462b1f0f0ffa01a2bfd0bfc",name:"audio/sfx/wanda- its against the rules.mp3"},{bytes:9796,md5:"22f3a57622b948b8d8f1167b55933904",name:"audio/sfx/wanda- its against the rules.ogg"},
{bytes:10117,md5:"0c423ff2dc9a6fcb23263f804794f38e",name:"audio/sfx/wanda- okay.mp3"},{bytes:16004,md5:"62f369d9942add0a11b1386643a578e1",name:"audio/sfx/wanda- okay.ogg"},{bytes:9730,md5:"6a69314c32fccc33f6ca32700a0b5bba",name:"audio/sfx/wanda- uh oh.mp3"},{bytes:6542,md5:"32cc435264f6376ef18536b3d575f085",name:"audio/sfx/wanda- uh oh.ogg"},{bytes:108956,md5:"85a43436cea39c642b2e10f4455b4196",name:"audio/sfx/wishing 101-in_game_bgm.mp3"},{bytes:421946,md5:"54f552283e6b51bc13af7aa418e4f20d",name:"audio/sfx/wishing 101-in_game_bgm.ogg"},
{bytes:3346,md5:"a2629f9985084026fe512c63c1e95cd4",name:"chapter_1/items/atlas0.png"},{bytes:7347,md5:"6662659226c8eb38a8a3e34e87f89ba7",name:"chapter_1/items/library.json"},{bytes:7989,md5:"f23f72c4ae56b428214dbebaa4d3c31f",name:"chapter_1/objects/asset_rays.png"},{bytes:17815,md5:"f3bd8c5eb36b79f8ca85ef8e4aa47f79",name:"chapter_1/objects/asset_sun.png"},{bytes:39053,md5:"60b5cae317cf99ca9645b5d5638a54ca",name:"chapter_1/others/atlas0.png"},{bytes:160661,md5:"17e7e3b48420df13dc3178e538462358",name:"chapter_1/others/library.json"},
{bytes:7814,md5:"a300694b5b651aa1e49ffcadbde29b3a",name:"chapter_1/sfx/bear_newspaperget.mp3"},{bytes:11674,md5:"c11e1fcaf1619ba640bc8e949a97eb9d",name:"chapter_1/sfx/bear_newspaperget.ogg"},{bytes:6896,md5:"5320823def36afe2658d0e083b9faad3",name:"chapter_1/sfx/bear_roar.mp3"},{bytes:7820,md5:"3ecd0105cd6147c078241cebb711d8f6",name:"chapter_1/sfx/bear_roar.ogg"},{bytes:5054,md5:"9ea33bbb758b82acd7d5d6f8f3d1bc3f",name:"chapter_1/sfx/bear_tickle.mp3"},{bytes:7592,md5:"e4fe85788e2771a619192230b5c2faf1",
name:"chapter_1/sfx/bear_tickle.ogg"},{bytes:8808,md5:"9ca51337be20765c918ba358603a7156",name:"chapter_1/sfx/chloe- ah.mp3"},{bytes:9999,md5:"35a0e4dd112ea4ff694b608a5067af7f",name:"chapter_1/sfx/chloe- ah.ogg"},{bytes:3859,md5:"f7f3df8dd0105b3a6862dbe565f93345",name:"chapter_1/sfx/cockroach_laugh.mp3"},{bytes:6860,md5:"6219c7c77cd9ec939e03e42f81356d90",name:"chapter_1/sfx/cockroach_laugh.ogg"},{bytes:4377,md5:"3499263508ae355e90c07bf63a5d995c",name:"chapter_1/sfx/cockroach_scream.mp3"},{bytes:7533,
md5:"0bf3b7a09bbac5f786350cb59e56c8f7",name:"chapter_1/sfx/cockroach_scream.ogg"},{bytes:3208,md5:"a93d1b7f389404f2a94225220a1207f0",name:"chapter_1/sfx/frog.mp3"},{bytes:5607,md5:"f3d882154814d21fa7beefa14842728a",name:"chapter_1/sfx/frog.ogg"},{bytes:1336,md5:"ad61a83df8c7a9ae31e9627c28f2bded",name:"chapter_1/sfx/frog_kiss.mp3"},{bytes:4661,md5:"1f5730fe0d3a1235d1281ff0a7aaa87c",name:"chapter_1/sfx/frog_kiss.ogg"},{bytes:16341,md5:"90a0e81605d120a38df3b4f277cc7e31",name:"chapter_1/sfx/guitar.mp3"},
{bytes:18001,md5:"57af6e1472c6772fd187414cd7b2b4c4",name:"chapter_1/sfx/guitar.ogg"},{bytes:8434,md5:"22fa94d64a7e34525a039cd85eb7c9cd",name:"chapter_1/sfx/heart_pop.mp3"},{bytes:9620,md5:"54d0d2b6629d6238800590b65afab66e",name:"chapter_1/sfx/heart_pop.ogg"},{bytes:6070,md5:"0fc6c3efc4a00e3ed44f9ca8f1977a2c",name:"chapter_1/sfx/sad_monkey.mp3"},{bytes:8577,md5:"c83ef4d8e3fd6d635a5abe1a3bb855a4",name:"chapter_1/sfx/sad_monkey.ogg"},{bytes:13218,md5:"bfb39e810604256a55c81ae7874b7b29",name:"chapter_1/sfx/sunrise.mp3"},
{bytes:15674,md5:"c3cee5a7fa7752220d209d923b77c10b",name:"chapter_1/sfx/sunrise.ogg"},{bytes:8544,md5:"405d8a01406cc3426430b6c8209e0669",name:"chapter_1/tutorial/atlas0.png"},{bytes:7740,md5:"0e3152387e7162e1781af1718672da0a",name:"chapter_1/tutorial/library.json"},{bytes:50156,md5:"393cfcc1603ad3c88dac029450c7736d",name:"chapter_2/animations/atlas0.png"},{bytes:345415,md5:"882cf81d000840777565f00f283b375c",name:"chapter_2/animations/library.json"},{bytes:2378,md5:"5b23e095bc72d3f2341133f08c6e362c",
name:"chapter_2/objects/bridge_idle.png"},{bytes:4967,md5:"71dd53eeb906b79907b582c3d3551976",name:"chapter_2/objects/clock_static.png"},{bytes:1213,md5:"ea292e13f0bd17e1828d5c632e0f5088",name:"chapter_2/objects/heartballoon_fly.png"},{bytes:7658,md5:"8f897eec9c85f0fd1378bf0d019a786f",name:"chapter_2/objects/sun/rays.png"},{bytes:17586,md5:"2f6abad36e612d90399922c49772d9cf",name:"chapter_2/objects/sun/sun.png"},{bytes:3307,md5:"593398f5a12e5f3cccd7de63414c5b39",name:"chapter_2/objects/thought_bubble_static.png"},
{bytes:5544,md5:"0ceb4ba9a5d2c2bed17380c4583cb0b6",name:"chapter_2/sfx/balloon_move.mp3"},{bytes:7744,md5:"c6a71bab568d29940c95ef669f14c627",name:"chapter_2/sfx/balloon_move.ogg"},{bytes:10675,md5:"271c7d12f3e9a3b8611a078a6ec16e82",name:"chapter_2/sfx/boy_girl_sigh.mp3"},{bytes:7656,md5:"6deffcb041d30827c404bb1b02dd9375",name:"chapter_2/sfx/boy_girl_sigh.ogg"},{bytes:7267,md5:"ed0fd2e52fd2bcb71bab429baea8bd87",name:"chapter_2/sfx/cash_spawn.mp3"},{bytes:9957,md5:"b7489f2b07d60180fc99f0a6bdc0137b",
name:"chapter_2/sfx/cash_spawn.ogg"},{bytes:2013,md5:"2417543e3ada64ece73ff3898dcf6beb",name:"chapter_2/sfx/clock_rewind.mp3"},{bytes:5696,md5:"c043370b26c1e8cb3f179bc0af2515f3",name:"chapter_2/sfx/clock_rewind.ogg"},{bytes:10019,md5:"39b75ca56d4d3a18117fa080f0a387d3",name:"chapter_2/sfx/happy_monkey.mp3"},{bytes:12041,md5:"641adea2e609ccacab6ed4ac59bb28d0",name:"chapter_2/sfx/happy_monkey.ogg"},{bytes:8569,md5:"f244b13492f0880910bbbb6fe639b9bd",name:"chapter_2/sfx/heart_beat.mp3"},{bytes:4784,md5:"9498aaf743e6c1423eb9f35b85d5b1ce",
name:"chapter_2/sfx/heart_beat.ogg"},{bytes:3130,md5:"6a8d01e8551da94ae67fd332869deffa",name:"chapter_2/sfx/monkey_cymbal.mp3"},{bytes:6075,md5:"8b499473069ef68b7d706612cb68c26b",name:"chapter_2/sfx/monkey_cymbal.ogg"},{bytes:6070,md5:"0fc6c3efc4a00e3ed44f9ca8f1977a2c",name:"chapter_2/sfx/sad_monkey.mp3"},{bytes:8577,md5:"d0e9efc665403172577162f52765b0dc",name:"chapter_2/sfx/sad_monkey.ogg"},{bytes:13218,md5:"bfb39e810604256a55c81ae7874b7b29",name:"chapter_2/sfx/sunrise.mp3"},{bytes:15674,md5:"5ecf2c581109b44b0c156efae4ca4086",
name:"chapter_2/sfx/sunrise.ogg"},{bytes:118280,md5:"dc05cc933c7ca93ae2c36018ac0eacb4",name:"chapter_3/animations/atlas0.png"},{bytes:134363,md5:"7e0b265c0201e4ff5f17d094c8f19fad",name:"chapter_3/animations/library.json"},{bytes:2581,md5:"13016ec6f00d04e83393e76481fe8f19",name:"chapter_3/sfx/chloe_arrowrelease.mp3"},{bytes:5624,md5:"ff7f32e2cc236172481f1ff205f743cc",name:"chapter_3/sfx/chloe_arrowrelease.ogg"},{bytes:3338,md5:"ad6a4fcde2ddc6240596f321aa9dab04",name:"chapter_3/sfx/chloe_bowpull.mp3"},
{bytes:6110,md5:"6839d906424632f788d5351a64acf37b",name:"chapter_3/sfx/chloe_bowpull.ogg"},{bytes:24899,md5:"5fe04e5e32403eecd93311a7e2ab0cee",name:"chapter_3/sfx/girl_sleeping.mp3"},{bytes:7713,md5:"374b15458bd1a135f015979796a9767b",name:"chapter_3/sfx/girl_sleeping.ogg"},{bytes:8569,md5:"f244b13492f0880910bbbb6fe639b9bd",name:"chapter_3/sfx/heart_beat.mp3"},{bytes:4784,md5:"a8ffa3d5b342a937b44631c1b20354fb",name:"chapter_3/sfx/heart_beat.ogg"},{bytes:11324,md5:"c0291a8f25fefc00e2f9ad3b4af86a75",
name:"chapter_3/sfx/nightmare_horse.mp3"},{bytes:8609,md5:"a5364ad62d1d628ad5e7b9112f144175",name:"chapter_3/sfx/nightmare_horse.ogg"},{bytes:12729,md5:"0b0edf7413e913f9bffced59f6b7f656",name:"chapter_3/sfx/owl_scared.mp3"},{bytes:5859,md5:"8edff6d1d8e17abd58f801894056594b",name:"chapter_3/sfx/owl_scared.ogg"},{bytes:5078,md5:"acefeec2076fac086787be87c3489540",name:"chapter_3/sfx/owl_spawn.mp3"},{bytes:5781,md5:"d40bee5132099033612a06c6d8314dd8",name:"chapter_3/sfx/owl_spawn.ogg"},{bytes:15667,md5:"b4a0ac5f49210e9caaa362b76b20dab6",
name:"chapter_3/sfx/sandman.mp3"},{bytes:13246,md5:"ed1532b26ab52e038735ad224c68235e",name:"chapter_3/sfx/sandman.ogg"},{bytes:23230,md5:"9f2b82575cdeee1a54504cb68886e15b",name:"chapter_4/animations/atlas0.png"},{bytes:81511,md5:"9c9c4a2a9f6ea56549f24e97545e57a5",name:"chapter_4/animations/atlas1.png"},{bytes:44309,md5:"84ecc8d370a08681e82c62c7825d82b7",name:"chapter_4/animations/atlas2.png"},{bytes:686175,md5:"313e1cd60c4b90c60687493b4dfb59c9",name:"chapter_4/animations/library.json"},{bytes:8281,
md5:"f60444abc9b7342a8eb0816e4e7f7516",name:"chapter_4/sfx/cartoon_laugh.mp3"},{bytes:11517,md5:"13f11874e54253f49fa37ce359c55992",name:"chapter_4/sfx/cartoon_laugh.ogg"},{bytes:33902,md5:"5da606559d3de0bb6827d97cb72e7888",name:"chapter_4/sfx/duck_spawn_loop.mp3"},{bytes:31950,md5:"96b4a0de912de04d4fa019fe1eac6d1c",name:"chapter_4/sfx/duck_spawn_loop.ogg"},{bytes:37157,md5:"bcb4ec65b1e7949849c4a1d326dd3c97",name:"chapter_4/sfx/fox_spawn_loop.mp3"},{bytes:29626,md5:"f7ff465eaf3cab233b86da862aadeb96",
name:"chapter_4/sfx/fox_spawn_loop.ogg"},{bytes:20036,md5:"381ae9b0772b06390f975c5a5b678a77",name:"chapter_4/sfx/lightning_strike.mp3"},{bytes:16639,md5:"8c6440cdfb194830257363b5fa4df556",name:"chapter_4/sfx/lightning_strike.ogg"},{bytes:33641,md5:"79f43c34a36833d1b91c18566c7afee7",name:"chapter_4/sfx/moose_spawn_loop.mp3"},{bytes:32217,md5:"21e1249af542307ad2dd0fa7b92f785d",name:"chapter_4/sfx/moose_spawn_loop.ogg"},{bytes:19706,md5:"8692e9666a0029b400b5aa69ac719eee",name:"chapter_4/sfx/rabbit_spawn_loop.mp3"},
{bytes:11557,md5:"944710def54a299da11e550709aa6eaf",name:"chapter_4/sfx/rabbit_spawn_loop.ogg"},{bytes:7947,md5:"224f425e10ef7e4fd799a6f0337a69a7",name:"chapter_4/sfx/raccoon_jump.mp3"},{bytes:4880,md5:"3c5d96ad25f270222dfb1a7bca5802b9",name:"chapter_4/sfx/raccoon_jump.ogg"},{bytes:17306,md5:"e3b3d4396a50e9c0dfde888fdce09cba",name:"chapter_4/sfx/rain.mp3"},{bytes:15363,md5:"bfa4b602cef5a504fa89c047da40d8c3",name:"chapter_4/sfx/rain.ogg"},{bytes:3257,md5:"cc3b29fe5b848e3891681972c4e1fec3",name:"chapter_4/sfx/starting_pistol.mp3"},
{bytes:6539,md5:"c593ea92c7637bd82e37c8c838fe81fe",name:"chapter_4/sfx/starting_pistol.ogg"},{bytes:4427,md5:"668bf23148db2d76b5c8f595ab7e2197",name:"chapter_4/sfx/starting_pistol_02.mp3"},{bytes:7059,md5:"4fae064790e67bfd2c07afe2b7d0fa70",name:"chapter_4/sfx/starting_pistol_02.ogg"},{bytes:24339,md5:"a25b2953fe004b9b3e56f3bb38fe12aa",name:"chapter_4/sfx/trip_bgm.mp3"},{bytes:20951,md5:"1a77715e5974c7950e56215d807c7b1d",name:"chapter_4/sfx/trip_bgm.ogg"},{bytes:34369,md5:"f4d4858cefdf561edff6c2584ae95d7d",
name:"chapter_4/sfx/turtle_spawn_loop.mp3"},{bytes:29191,md5:"4c6cdfb55c486cb843d4938c27515220",name:"chapter_4/sfx/turtle_spawn_loop.ogg"},{bytes:7105,md5:"bd5fcef025699f5d98870740c8928e47",name:"chapter_4/sfx/turtle_speed_up.mp3"},{bytes:10926,md5:"761cb3a03c39ab3e821164635d3082b6",name:"chapter_4/sfx/turtle_speed_up.ogg"},{bytes:81697,md5:"c8bba07dd1f15fb0833f8328449a2b68",name:"chapter_5/animations/atlas0.png"},{bytes:70727,md5:"cc11cc11ffc003b43199059bb6869e50",name:"chapter_5/animations/atlas1.png"},
{bytes:403537,md5:"cdcd7ccf08b254970e3c6c4421c48f13",name:"chapter_5/animations/library.json"},{bytes:10391,md5:"9fa63bbb9989713d6747dd189dda509a",name:"chapter_5/sfx/beaver_spawn.mp3"},{bytes:6389,md5:"0cd7e95399dd9a3f93a29634426e8388",name:"chapter_5/sfx/beaver_spawn.ogg"},{bytes:7267,md5:"ed0fd2e52fd2bcb71bab429baea8bd87",name:"chapter_5/sfx/cash_spawn.mp3"},{bytes:9957,md5:"1bf9ec6ef9e8bbec3ee216929fd1f41a",name:"chapter_5/sfx/cash_spawn.ogg"},{bytes:11121,md5:"8a6f24873ebc689b798ddc607920024d",
name:"chapter_5/sfx/duck_spawn.mp3"},{bytes:6068,md5:"a1bbc6529030c7f51ce32355cbe38453",name:"chapter_5/sfx/duck_spawn.ogg"},{bytes:12680,md5:"6cb71bc38864183f5bb13c5ac41d0a90",name:"chapter_5/sfx/foop_scared.mp3"},{bytes:8782,md5:"962cd41a195303466f6e2c2dedb256ac",name:"chapter_5/sfx/foop_scared.ogg"},{bytes:11848,md5:"657d34ead7ab91891730251b142d622c",name:"chapter_5/sfx/high-five.mp3"},{bytes:7747,md5:"45c1ebdc8bfc019b4ce0d859950e2863",name:"chapter_5/sfx/high-five.ogg"},{bytes:11317,md5:"93edf5d44382d996cf1bfd469605d5f0",
name:"chapter_5/sfx/mouse_happy.mp3"},{bytes:5689,md5:"ffda9f3c2278422085f2ec20f8a7bad6",name:"chapter_5/sfx/mouse_happy.ogg"},{bytes:10651,md5:"0d4aa6645358861966143dd9de3f94b5",name:"chapter_5/sfx/mouse_spawn.mp3"},{bytes:5707,md5:"e80df405549ebe696da2a55b310f208b",name:"chapter_5/sfx/mouse_spawn.ogg"}],game_hd:[{bytes:41556,md5:"c122a0476647aea5a52016d35d9da261",name:"animations/characters/chloe/atlas0.png"},{bytes:1072205,md5:"92b528a4204325dfb7c9b4fc741fcfbf",name:"animations/characters/chloe/library.json"},
{bytes:47686,md5:"437edf5bdbb2529b796b2d5641a01d16",name:"animations/characters/cosmo_and_wanda/atlas0.png"},{bytes:116392,md5:"e6e52f25ddeb474d9dd96acca722a371",name:"animations/characters/cosmo_and_wanda/library.json"},{bytes:9524,md5:"bb5e916f73f144cdc79db216a6b7f716",name:"animations/characters/foop/atlas0.png"},{bytes:12214,md5:"551f1f092023511970258772bf415da0",name:"animations/characters/foop/library.json"},{bytes:33309,md5:"c466aab88d0295bf00fa94cf7e991d69",name:"animations/characters/intro cosmo_wanda_foop/atlas0.png"},
{bytes:28287,md5:"8272b7e3dcbd65f9b121fbee1beb1db6",name:"animations/characters/intro cosmo_wanda_foop/library.json"},{bytes:17438,md5:"4b6779639625c8e723e14dc521711ba8",name:"animations/door/atlas0.png"},{bytes:3553,md5:"003e42109144d8e44416133bfaabe908",name:"animations/door/library.json"},{bytes:198245,md5:"b5dd4fff2d21e04ba10412b506a335b1",name:"animations/page_flip/atlas0.png"},{bytes:2315,md5:"9f5eebf2a4bc73eaaa419466aa41c9a3",name:"animations/page_flip/library.json"},{bytes:11588,md5:"0d203e782f8298c7b6541e0c05a93f42",
name:"animations/sfx/atlas0.png"},{bytes:1139,md5:"ef169a3b11812257152a7a73999c39b9",name:"animations/sfx/atlas1.png"},{bytes:11392,md5:"54a08afb8a3b809d88b8b529009bb761",name:"animations/sfx/library.json"},{bytes:6360,md5:"ff4e5a00e6b6487cfd0586b3271b3513",name:"animations/sparkle/atlas0.png"},{bytes:9681,md5:"ce118497a4bdde74cc505a98f9e96cfb",name:"animations/sparkle/library.json"},{bytes:18808,md5:"6677a5c083b85fe9088662997b772eaf",name:"animations/textfx/atlas0.png"},{bytes:8108,md5:"d728e17df7323d0e75e0af6ae689abbf",
name:"animations/textfx/library.json"},{bytes:3081,md5:"e1f3a9da51032f94a95583e6b95cd50d",name:"audio/sfx/chloe_qmark.mp3"},{bytes:5957,md5:"cd329ef645f2926444756709d20cc098",name:"audio/sfx/chloe_qmark.ogg"},{bytes:3832,md5:"9a588f035428588dcf47e6824857a1db",name:"audio/sfx/chloe_shrug.mp3"},{bytes:6431,md5:"951743c8536a5f85ad1637fcf839ea27",name:"audio/sfx/chloe_shrug.ogg"},{bytes:15880,md5:"00cc377fe9fc9b9e520d65c4c19afbe4",name:"audio/sfx/cosmo- its totally wrong and super creepy.mp3"},{bytes:12498,
md5:"8470363ed38fc597e450487145f713bf",name:"audio/sfx/cosmo- its totally wrong and super creepy.ogg"},{bytes:12694,md5:"eaec6f94fee4f970828569afa104e954",name:"audio/sfx/cosmo- oh no.mp3"},{bytes:8646,md5:"776c3030dd6637091b8a28e213168a90",name:"audio/sfx/cosmo- oh no.ogg"},{bytes:3538,md5:"7ac6a2731bf33922df7f5525c25fcdee",name:"audio/sfx/cosmo- tada.mp3"},{bytes:15984,md5:"b72119d045975ab6ebe22332117a17e1",name:"audio/sfx/cosmo- tada.ogg"},{bytes:13446,md5:"bef09daf7fa53e44e6b6bb8e59083e6f",name:"audio/sfx/cosmo- this is terrible!.mp3"},
{bytes:9675,md5:"bb7d88aca002edfd757a953dc6771be7",name:"audio/sfx/cosmo- this is terrible!.ogg"},{bytes:4820,md5:"483a94388d1563ee08b46892583b2bba",name:"audio/sfx/cosmo_head_shook.mp3"},{bytes:7945,md5:"9c1cd6813433f6c06dce66106e2f7726",name:"audio/sfx/cosmo_head_shook.ogg"},{bytes:8908,md5:"9f246bb487e0358c62219ee494df760c",name:"audio/sfx/door_close.mp3"},{bytes:6124,md5:"37fdbe52836a75b239252199f71e623a",name:"audio/sfx/door_close.ogg"},{bytes:2871,md5:"5adfc86404777ef5a7765748bb30c7a5",name:"audio/sfx/door_open.mp3"},
{bytes:6296,md5:"28c63234cf0b41391639a75af7229eb8",name:"audio/sfx/door_open.ogg"},{bytes:10596,md5:"b83980068e9cb05ec7d1a12ba64b841b",name:"audio/sfx/foop- evil laugh.mp3"},{bytes:13469,md5:"956b1da006c1d5acde284c43dc9d812e",name:"audio/sfx/foop- evil laugh.ogg"},{bytes:17123,md5:"3cbe2a403715773788b800614ad8bd9d",name:"audio/sfx/FOP_showtheme_endstingerv1a.mp3"},{bytes:13880,md5:"3a1514450dc2d9918ff63ebe1ec25626",name:"audio/sfx/FOP_showtheme_endstingerv1a.ogg"},{bytes:84311,md5:"ffe2a351f9bc673f9e79c0323c217007",
name:"audio/sfx/FOP_showtheme_musicloopv1a.mp3"},{bytes:81507,md5:"83ccd13123ccf12bd2123e27c6467d9c",name:"audio/sfx/FOP_showtheme_musicloopv1a.ogg"},{bytes:4274,md5:"7ab3844cff57e1995666631cbbb6225d",name:"audio/sfx/object_pop_in.mp3"},{bytes:7030,md5:"738a4353aebdb95796c590d5d4aba1e4",name:"audio/sfx/object_pop_in.ogg"},{bytes:12619,md5:"456cc368bf66ba24a34c99ca4147ffea",name:"audio/sfx/page_turn_sfx.mp3"},{bytes:13463,md5:"e9f81081af238541a62152b4add30799",name:"audio/sfx/page_turn_sfx.ogg"},{bytes:4924,
md5:"87c2dae52e05030e373d86f69bbbfc6d",name:"audio/sfx/poof.mp3"},{bytes:7515,md5:"ed8e7ceab3f222ab284543a652e44d0a",name:"audio/sfx/poof.ogg"},{bytes:7340,md5:"bac05c66106f9fba6ee4b3ea4dd01d07",name:"audio/sfx/triumph_sfx.mp3"},{bytes:9415,md5:"aa56673b177610e9e656b4ce601ef66d",name:"audio/sfx/triumph_sfx.ogg"},{bytes:5600,md5:"d490eaa23462b1f0f0ffa01a2bfd0bfc",name:"audio/sfx/wanda- its against the rules.mp3"},{bytes:9796,md5:"1e31d1aa1de462bbf43b59bcc4fa68a7",name:"audio/sfx/wanda- its against the rules.ogg"},
{bytes:10117,md5:"0c423ff2dc9a6fcb23263f804794f38e",name:"audio/sfx/wanda- okay.mp3"},{bytes:16004,md5:"62f369d9942add0a11b1386643a578e1",name:"audio/sfx/wanda- okay.ogg"},{bytes:9730,md5:"6a69314c32fccc33f6ca32700a0b5bba",name:"audio/sfx/wanda- uh oh.mp3"},{bytes:6542,md5:"6a3f91704722e392999ad500a3fca73f",name:"audio/sfx/wanda- uh oh.ogg"},{bytes:108956,md5:"85a43436cea39c642b2e10f4455b4196",name:"audio/sfx/wishing 101-in_game_bgm.mp3"},{bytes:421946,md5:"54f552283e6b51bc13af7aa418e4f20d",name:"audio/sfx/wishing 101-in_game_bgm.ogg"},
{bytes:3346,md5:"a2629f9985084026fe512c63c1e95cd4",name:"chapter_1/items/atlas0.png"},{bytes:6190,md5:"0536cf25799fd2211f3b230307661ff8",name:"chapter_1/items/library.json"},{bytes:12052,md5:"eff4c450dade6142aafca5b8c467a70b",name:"chapter_1/objects/asset_rays.png"},{bytes:25444,md5:"977698456670308f89a35f831624c02d",name:"chapter_1/objects/asset_sun.png"},{bytes:39053,md5:"60b5cae317cf99ca9645b5d5638a54ca",name:"chapter_1/others/atlas0.png"},{bytes:156006,md5:"8149d59451580752bfbc24f35676832f",name:"chapter_1/others/library.json"},
{bytes:7814,md5:"a300694b5b651aa1e49ffcadbde29b3a",name:"chapter_1/sfx/bear_newspaperget.mp3"},{bytes:11674,md5:"96bb25f60f0a54126d0e5b78810a85cf",name:"chapter_1/sfx/bear_newspaperget.ogg"},{bytes:6896,md5:"5320823def36afe2658d0e083b9faad3",name:"chapter_1/sfx/bear_roar.mp3"},{bytes:7820,md5:"6ae46c034eacd02a95cd65b9d29d9968",name:"chapter_1/sfx/bear_roar.ogg"},{bytes:5054,md5:"9ea33bbb758b82acd7d5d6f8f3d1bc3f",name:"chapter_1/sfx/bear_tickle.mp3"},{bytes:7592,md5:"b9def0924041f076735583dd08a35664",
name:"chapter_1/sfx/bear_tickle.ogg"},{bytes:8808,md5:"9ca51337be20765c918ba358603a7156",name:"chapter_1/sfx/chloe- ah.mp3"},{bytes:9999,md5:"35a0e4dd112ea4ff694b608a5067af7f",name:"chapter_1/sfx/chloe- ah.ogg"},{bytes:3859,md5:"f7f3df8dd0105b3a6862dbe565f93345",name:"chapter_1/sfx/cockroach_laugh.mp3"},{bytes:6860,md5:"10cb33c16c752a750abac8a046c007ac",name:"chapter_1/sfx/cockroach_laugh.ogg"},{bytes:4377,md5:"3499263508ae355e90c07bf63a5d995c",name:"chapter_1/sfx/cockroach_scream.mp3"},{bytes:7533,
md5:"446091a0e0e8db5a5d2e20026736f171",name:"chapter_1/sfx/cockroach_scream.ogg"},{bytes:3208,md5:"a93d1b7f389404f2a94225220a1207f0",name:"chapter_1/sfx/frog.mp3"},{bytes:5607,md5:"151c2576bb07791ac2cd730493b0458b",name:"chapter_1/sfx/frog.ogg"},{bytes:1336,md5:"ad61a83df8c7a9ae31e9627c28f2bded",name:"chapter_1/sfx/frog_kiss.mp3"},{bytes:4661,md5:"06d9d3898c91e686b69e3b8f2d2d6eeb",name:"chapter_1/sfx/frog_kiss.ogg"},{bytes:16341,md5:"90a0e81605d120a38df3b4f277cc7e31",name:"chapter_1/sfx/guitar.mp3"},
{bytes:18001,md5:"aeba203671096d8a8183dd1f92892bb6",name:"chapter_1/sfx/guitar.ogg"},{bytes:8434,md5:"22fa94d64a7e34525a039cd85eb7c9cd",name:"chapter_1/sfx/heart_pop.mp3"},{bytes:9620,md5:"1f41bd6b60884a5a9c958afd672656d2",name:"chapter_1/sfx/heart_pop.ogg"},{bytes:6070,md5:"0fc6c3efc4a00e3ed44f9ca8f1977a2c",name:"chapter_1/sfx/sad_monkey.mp3"},{bytes:8577,md5:"622c67de629343e76c4a3d2901f6f7dc",name:"chapter_1/sfx/sad_monkey.ogg"},{bytes:13218,md5:"bfb39e810604256a55c81ae7874b7b29",name:"chapter_1/sfx/sunrise.mp3"},
{bytes:15674,md5:"58098d5b71fa1ff8a9718b760841ae67",name:"chapter_1/sfx/sunrise.ogg"},{bytes:8544,md5:"405d8a01406cc3426430b6c8209e0669",name:"chapter_1/tutorial/atlas0.png"},{bytes:7200,md5:"f85133f61427c1106a1a36005ec9e273",name:"chapter_1/tutorial/library.json"},{bytes:50156,md5:"393cfcc1603ad3c88dac029450c7736d",name:"chapter_2/animations/atlas0.png"},{bytes:314618,md5:"129920b81d1bc9ce80b8b7b5973f4de9",name:"chapter_2/animations/library.json"},{bytes:3530,md5:"99c3d3428d313ea431fc44df3703e27b",
name:"chapter_2/objects/bridge_idle.png"},{bytes:5357,md5:"b808e08443f1b1571097cd137f680fc4",name:"chapter_2/objects/clock_static.png"},{bytes:811,md5:"c0168e9653467fd7f88e3f1af4ee3fde",name:"chapter_2/objects/heartballoon_fly.png"},{bytes:11699,md5:"adb1f4cda9b500ddc4898a72ae675fd4",name:"chapter_2/objects/sun/rays.png"},{bytes:26458,md5:"a4586c0772a358ce31883121725bf5c5",name:"chapter_2/objects/sun/sun.png"},{bytes:3101,md5:"3abb8240d08b6cb7bf57784fcde1a98d",name:"chapter_2/objects/thought_bubble_static.png"},
{bytes:5544,md5:"0ceb4ba9a5d2c2bed17380c4583cb0b6",name:"chapter_2/sfx/balloon_move.mp3"},{bytes:7744,md5:"1e2be59c408aaea15df865cbdec7350a",name:"chapter_2/sfx/balloon_move.ogg"},{bytes:10675,md5:"271c7d12f3e9a3b8611a078a6ec16e82",name:"chapter_2/sfx/boy_girl_sigh.mp3"},{bytes:7656,md5:"7c1e969a6ee05c1951500cf561461139",name:"chapter_2/sfx/boy_girl_sigh.ogg"},{bytes:7267,md5:"ed0fd2e52fd2bcb71bab429baea8bd87",name:"chapter_2/sfx/cash_spawn.mp3"},{bytes:9957,md5:"d7793fbc21188e7f726f94fdf3f4433d",
name:"chapter_2/sfx/cash_spawn.ogg"},{bytes:2013,md5:"2417543e3ada64ece73ff3898dcf6beb",name:"chapter_2/sfx/clock_rewind.mp3"},{bytes:5696,md5:"4220d371ba1417899f9d1b100d9b36b3",name:"chapter_2/sfx/clock_rewind.ogg"},{bytes:10019,md5:"39b75ca56d4d3a18117fa080f0a387d3",name:"chapter_2/sfx/happy_monkey.mp3"},{bytes:12041,md5:"e978e33b7b8d238500cb18185640e0b9",name:"chapter_2/sfx/happy_monkey.ogg"},{bytes:8569,md5:"f244b13492f0880910bbbb6fe639b9bd",name:"chapter_2/sfx/heart_beat.mp3"},{bytes:4784,md5:"dd8a41ca28843a17ac71c25634bad00a",
name:"chapter_2/sfx/heart_beat.ogg"},{bytes:3130,md5:"6a8d01e8551da94ae67fd332869deffa",name:"chapter_2/sfx/monkey_cymbal.mp3"},{bytes:6075,md5:"f0e3131c54b5d48a72a2417359393974",name:"chapter_2/sfx/monkey_cymbal.ogg"},{bytes:6070,md5:"0fc6c3efc4a00e3ed44f9ca8f1977a2c",name:"chapter_2/sfx/sad_monkey.mp3"},{bytes:8577,md5:"0a26418581db65afa19597ef3e748be7",name:"chapter_2/sfx/sad_monkey.ogg"},{bytes:13218,md5:"bfb39e810604256a55c81ae7874b7b29",name:"chapter_2/sfx/sunrise.mp3"},{bytes:15674,md5:"557724f990e1980a69930f0143e44019",
name:"chapter_2/sfx/sunrise.ogg"},{bytes:118280,md5:"dc05cc933c7ca93ae2c36018ac0eacb4",name:"chapter_3/animations/atlas0.png"},{bytes:121153,md5:"2dbcdb436e307171883f526b33f33a09",name:"chapter_3/animations/library.json"},{bytes:2581,md5:"13016ec6f00d04e83393e76481fe8f19",name:"chapter_3/sfx/chloe_arrowrelease.mp3"},{bytes:5624,md5:"7b410cf33b61147516e7445b8573c3e6",name:"chapter_3/sfx/chloe_arrowrelease.ogg"},{bytes:3338,md5:"ad6a4fcde2ddc6240596f321aa9dab04",name:"chapter_3/sfx/chloe_bowpull.mp3"},
{bytes:6110,md5:"a59d2a3df7f2dfa12cb6ff7daa3c8ea1",name:"chapter_3/sfx/chloe_bowpull.ogg"},{bytes:24899,md5:"5fe04e5e32403eecd93311a7e2ab0cee",name:"chapter_3/sfx/girl_sleeping.mp3"},{bytes:7713,md5:"2e359e6fd83074f30f0c4f6a1c3263c8",name:"chapter_3/sfx/girl_sleeping.ogg"},{bytes:8569,md5:"f244b13492f0880910bbbb6fe639b9bd",name:"chapter_3/sfx/heart_beat.mp3"},{bytes:4784,md5:"d542b1635bd4ff7ac5b5e3c7c76e533d",name:"chapter_3/sfx/heart_beat.ogg"},{bytes:11324,md5:"c0291a8f25fefc00e2f9ad3b4af86a75",
name:"chapter_3/sfx/nightmare_horse.mp3"},{bytes:8609,md5:"d9b0f5c437dfd927839aa5674dd66615",name:"chapter_3/sfx/nightmare_horse.ogg"},{bytes:12729,md5:"0b0edf7413e913f9bffced59f6b7f656",name:"chapter_3/sfx/owl_scared.mp3"},{bytes:5859,md5:"6175878e1356e24dfddab4ba3eff1196",name:"chapter_3/sfx/owl_scared.ogg"},{bytes:5078,md5:"acefeec2076fac086787be87c3489540",name:"chapter_3/sfx/owl_spawn.mp3"},{bytes:5781,md5:"181d23de4bfe85686957f843c707520c",name:"chapter_3/sfx/owl_spawn.ogg"},{bytes:15667,md5:"b4a0ac5f49210e9caaa362b76b20dab6",
name:"chapter_3/sfx/sandman.mp3"},{bytes:13246,md5:"16744edbf217d5768d81d05ed07bc397",name:"chapter_3/sfx/sandman.ogg"},{bytes:184285,md5:"e669e3077294eff1ad94707d33f9d1a7",name:"chapter_4/animations/atlas0.png"},{bytes:650280,md5:"2b2ee078dce6024117b7f647d2787c7f",name:"chapter_4/animations/library.json"},{bytes:8281,md5:"f60444abc9b7342a8eb0816e4e7f7516",name:"chapter_4/sfx/cartoon_laugh.mp3"},{bytes:11517,md5:"dc182117e5cc261b30d7976af531850f",name:"chapter_4/sfx/cartoon_laugh.ogg"},{bytes:33902,
md5:"5da606559d3de0bb6827d97cb72e7888",name:"chapter_4/sfx/duck_spawn_loop.mp3"},{bytes:31950,md5:"792a418c12901b0411467473df0980d1",name:"chapter_4/sfx/duck_spawn_loop.ogg"},{bytes:37157,md5:"bcb4ec65b1e7949849c4a1d326dd3c97",name:"chapter_4/sfx/fox_spawn_loop.mp3"},{bytes:29626,md5:"1a198a626cf0943f685fe516ec54d6db",name:"chapter_4/sfx/fox_spawn_loop.ogg"},{bytes:20036,md5:"381ae9b0772b06390f975c5a5b678a77",name:"chapter_4/sfx/lightning_strike.mp3"},{bytes:16639,md5:"8840f898e1c0fe0008bd48bfadf078ad",
name:"chapter_4/sfx/lightning_strike.ogg"},{bytes:33641,md5:"79f43c34a36833d1b91c18566c7afee7",name:"chapter_4/sfx/moose_spawn_loop.mp3"},{bytes:32217,md5:"af3e6f9fb07f513311b26823a7670e8b",name:"chapter_4/sfx/moose_spawn_loop.ogg"},{bytes:19706,md5:"8692e9666a0029b400b5aa69ac719eee",name:"chapter_4/sfx/rabbit_spawn_loop.mp3"},{bytes:11557,md5:"ec912cb31d3580b6d23dc0ae94812185",name:"chapter_4/sfx/rabbit_spawn_loop.ogg"},{bytes:7947,md5:"224f425e10ef7e4fd799a6f0337a69a7",name:"chapter_4/sfx/raccoon_jump.mp3"},
{bytes:4880,md5:"e010c097b6c7ce4e9665c753bc21af97",name:"chapter_4/sfx/raccoon_jump.ogg"},{bytes:17306,md5:"e3b3d4396a50e9c0dfde888fdce09cba",name:"chapter_4/sfx/rain.mp3"},{bytes:15363,md5:"22be7c63e44755dfface6d99c0a9c952",name:"chapter_4/sfx/rain.ogg"},{bytes:3257,md5:"cc3b29fe5b848e3891681972c4e1fec3",name:"chapter_4/sfx/starting_pistol.mp3"},{bytes:6539,md5:"0776629317dd7e4303e5e33413035221",name:"chapter_4/sfx/starting_pistol.ogg"},{bytes:4427,md5:"668bf23148db2d76b5c8f595ab7e2197",name:"chapter_4/sfx/starting_pistol_02.mp3"},
{bytes:7059,md5:"69e801685faeae040d99b5e94adc08db",name:"chapter_4/sfx/starting_pistol_02.ogg"},{bytes:24339,md5:"a25b2953fe004b9b3e56f3bb38fe12aa",name:"chapter_4/sfx/trip_bgm.mp3"},{bytes:20951,md5:"1497d0b314dd9551c0170f6ad0f32a07",name:"chapter_4/sfx/trip_bgm.ogg"},{bytes:34369,md5:"f4d4858cefdf561edff6c2584ae95d7d",name:"chapter_4/sfx/turtle_spawn_loop.mp3"},{bytes:29191,md5:"9fe9fbc784f1c76cbf28cd64b181da8a",name:"chapter_4/sfx/turtle_spawn_loop.ogg"},{bytes:7105,md5:"bd5fcef025699f5d98870740c8928e47",
name:"chapter_4/sfx/turtle_speed_up.mp3"},{bytes:10926,md5:"8ece5ae39a7060969cf69257ea3d3780",name:"chapter_4/sfx/turtle_speed_up.ogg"},{bytes:150923,md5:"c2d1e32a43c2cc2e9e58fd2dfd5a6c33",name:"chapter_5/animations/atlas0.png"},{bytes:371089,md5:"0e281f9986a4d832a450b5b42866091a",name:"chapter_5/animations/library.json"},{bytes:10391,md5:"9fa63bbb9989713d6747dd189dda509a",name:"chapter_5/sfx/beaver_spawn.mp3"},{bytes:6389,md5:"8b63f6470ec1b5226b83cfa7d9ba3d9a",name:"chapter_5/sfx/beaver_spawn.ogg"},
{bytes:7267,md5:"ed0fd2e52fd2bcb71bab429baea8bd87",name:"chapter_5/sfx/cash_spawn.mp3"},{bytes:9957,md5:"d5fb21d49ef4333f975cf1e40b630a70",name:"chapter_5/sfx/cash_spawn.ogg"},{bytes:11121,md5:"8a6f24873ebc689b798ddc607920024d",name:"chapter_5/sfx/duck_spawn.mp3"},{bytes:6068,md5:"064489046406d91e576ce308d69d2679",name:"chapter_5/sfx/duck_spawn.ogg"},{bytes:12680,md5:"6cb71bc38864183f5bb13c5ac41d0a90",name:"chapter_5/sfx/foop_scared.mp3"},{bytes:8782,md5:"4363599e03e52aeb0a2fcf6eda504ba8",name:"chapter_5/sfx/foop_scared.ogg"},
{bytes:11848,md5:"657d34ead7ab91891730251b142d622c",name:"chapter_5/sfx/high-five.mp3"},{bytes:7747,md5:"dcdcf69d536a8ffab8944f53acc37966",name:"chapter_5/sfx/high-five.ogg"},{bytes:11317,md5:"93edf5d44382d996cf1bfd469605d5f0",name:"chapter_5/sfx/mouse_happy.mp3"},{bytes:5689,md5:"e161078c8d4e440cfad026a8ee1c9795",name:"chapter_5/sfx/mouse_happy.ogg"},{bytes:10651,md5:"0d4aa6645358861966143dd9de3f94b5",name:"chapter_5/sfx/mouse_spawn.mp3"},{bytes:5707,md5:"0d0c54df3e5f11673770db652e48b842",name:"chapter_5/sfx/mouse_spawn.ogg"}],
preloader_sd:[{bytes:14974,md5:"8ef5dc4b9283d298074c8126516c1a6d",name:"animation/atlas0.png"},{bytes:9856,md5:"43d11f273ce88e19ee2c3cfd6f1a82f7",name:"animation/atlas1.png"},{bytes:4498,md5:"8164c2caa02c89c9a6f4d294af88d346",name:"animation/library.json"},{bytes:1431,md5:"6c53811ff40c9ad0dbb19eca5a88f608",name:"bar_back.png"},{bytes:113,md5:"db8ca7e422bd2ff027d4af8ee0ba6255",name:"bar_bar.png"},{bytes:2153,md5:"be5a730f828209dfda5b0790e82e0381",name:"bar_container.png"},{bytes:110145,md5:"3dbbb8cc3610719952b0d35cb3018dba",
name:"bg.png"},{bytes:14976,md5:"de08b59dca9b71d7ce0eaf0d4f4c3e86",name:"loader-image.png"},{bytes:6360,md5:"ff4e5a00e6b6487cfd0586b3271b3513",name:"sparkle/atlas0.png"},{bytes:10464,md5:"e7667cca378a723e6d0517b8bf2d3299",name:"sparkle/library.json"}],preloader_hd:[{bytes:24600,md5:"6a000379b8e58861c1138280b4d254d3",name:"animation/atlas0.png"},{bytes:3937,md5:"53d0cbe16f6afaaab53336bde1d1e90e",name:"animation/library.json"},{bytes:627,md5:"8942dd04b4989bcc672ef33bcec13fef",name:"bar_back.png"},{bytes:113,
md5:"f2e88c33387f660d5083d1d337184854",name:"bar_bar.png"},{bytes:1419,md5:"d24120af261a0132f887191f3ba069de",name:"bar_container.png"},{bytes:318266,md5:"84e53f38c14c04aed62c480b07e9ec90",name:"bg.png"},{bytes:6628,md5:"16a609a3529febc44a5c7357c2520427",name:"loader-image.png"},{bytes:6360,md5:"ff4e5a00e6b6487cfd0586b3271b3513",name:"sparkle/atlas0.png"},{bytes:9681,md5:"ce118497a4bdde74cc505a98f9e96cfb",name:"sparkle/library.json"}],fonts_sc:[{bytes:54576,md5:"f96201887a64b8605d36b3fb37efdd3e",
name:"arialblack.fnt"},{bytes:32336,md5:"0eb040910a78233eb555986110e6c524",name:"arialblack_0.png"},{bytes:1001,md5:"22717a17413ce33754e36be767154ccb",name:"arialblack_1.png"},{bytes:54545,md5:"ca790da68f33f1057691b8d6e142a2af",name:"arialoutline.fnt"},{bytes:34939,md5:"0e9b946e14406cac479dd6010379a5ec",name:"arialoutline_0.png"},{bytes:54576,md5:"c5f605986c7292855f00e34b5da23770",name:"arialwhite.fnt"},{bytes:32336,md5:"fbe335eebad586e15d30b949c603585a",name:"arialwhite_0.png"},{bytes:1001,md5:"8862e5270bebcd97a0d9444840e1dcca",
name:"arialwhite_1.png"}],fonts_ru:[{bytes:54576,md5:"f96201887a64b8605d36b3fb37efdd3e",name:"arialblack.fnt"},{bytes:32336,md5:"0eb040910a78233eb555986110e6c524",name:"arialblack_0.png"},{bytes:1001,md5:"22717a17413ce33754e36be767154ccb",name:"arialblack_1.png"},{bytes:54545,md5:"ca790da68f33f1057691b8d6e142a2af",name:"arialoutline.fnt"},{bytes:34939,md5:"0e9b946e14406cac479dd6010379a5ec",name:"arialoutline_0.png"},{bytes:54576,md5:"c5f605986c7292855f00e34b5da23770",name:"arialwhite.fnt"},{bytes:32336,
md5:"fbe335eebad586e15d30b949c603585a",name:"arialwhite_0.png"},{bytes:1001,md5:"8862e5270bebcd97a0d9444840e1dcca",name:"arialwhite_1.png"}],fonts_la:[{bytes:59843,md5:"9dec2f776c4f268aa433d53d33952b3c",name:"arialblack.fnt"},{bytes:46566,md5:"aaa4981cc0307edd135a7f5b39cc979c",name:"arialblack_0.png"},{bytes:59916,md5:"2aa7ac7839e4c977b9e141d29233652a",name:"arialoutline.fnt"},{bytes:18798,md5:"9d940b8c03030777b6107159f28835b6",name:"arialoutline_0.png"},{bytes:23634,md5:"fe78e8ed53d8eb20bda36ec140ea1361",
name:"arialoutline_1.png"},{bytes:7674,md5:"2b6881301e413cfb9d0864ffcb0074a8",name:"arialoutline_2.png"},{bytes:59843,md5:"69c8aed290a475d33bf8a24d879dc5aa",name:"arialwhite.fnt"},{bytes:46566,md5:"c2adb85624272e38945d69dc3ca42419",name:"arialwhite_0.png"},{bytes:1001,md5:"8862e5270bebcd97a0d9444840e1dcca",name:"arialwhite_1.png"}],fonts_en:[{bytes:9122,md5:"d5ac162c5c98cf10650301cea264d4bd",name:"fop_all_caps_big_black.fnt"},{bytes:5686,md5:"6d26be6ee943fc0a4b3fd4b6ec1773c9",name:"fop_all_caps_big_black_0.png"},
{bytes:9122,md5:"c53d55cfcc17d3b6ef09b3a8daac4420",name:"fop_all_caps_big_white.fnt"},{bytes:6628,md5:"4907dfc63ac4809c5fac8df39efd73d0",name:"fop_all_caps_big_white_0.png"},{bytes:9118,md5:"8793fc9b18cab984805e0edd65c92ef3",name:"fop_all_caps_black.fnt"},{bytes:3526,md5:"b4be0141dcb0b0591087bd4c32c653ee",name:"fop_all_caps_black_0.png"},{bytes:9118,md5:"010a9deaf2749079e6a4e5c9bfe30302",name:"fop_all_caps_white.fnt"},{bytes:3526,md5:"c4a8d7814e365c183a5529eed9c10f01",name:"fop_all_caps_white_0.png"}],
fonts_cn:[{bytes:54576,md5:"f96201887a64b8605d36b3fb37efdd3e",name:"arialblack.fnt"},{bytes:32336,md5:"0eb040910a78233eb555986110e6c524",name:"arialblack_0.png"},{bytes:1001,md5:"22717a17413ce33754e36be767154ccb",name:"arialblack_1.png"},{bytes:54545,md5:"ca790da68f33f1057691b8d6e142a2af",name:"arialoutline.fnt"},{bytes:34939,md5:"0e9b946e14406cac479dd6010379a5ec",name:"arialoutline_0.png"},{bytes:54576,md5:"c5f605986c7292855f00e34b5da23770",name:"arialwhite.fnt"},{bytes:32336,md5:"fbe335eebad586e15d30b949c603585a",
name:"arialwhite_0.png"},{bytes:1001,md5:"8862e5270bebcd97a0d9444840e1dcca",name:"arialwhite_1.png"}],temp:[],config:[{bytes:919,md5:"2e89b27205b0bf7e1a971dfa9bb34adf",name:"config.xml"},{bytes:1540,md5:"140c6ff21ff187e0b9a297d49f43e022",name:"story/cn/story1.xml"},{bytes:1536,md5:"d8ddb7bd7f449a97cc418ea8b180a8cc",name:"story/cn/story10.xml"},{bytes:1661,md5:"8cf6db6cabee5a43305b6057242879f0",name:"story/cn/story11.xml"},{bytes:2193,md5:"a8bdeb7224c7d64c4055d66247930e48",name:"story/cn/story12.xml"},
{bytes:2064,md5:"ee839a5a36953921a0ba78e69acb16e9",name:"story/cn/story13.xml"},{bytes:1886,md5:"c2763e903440b472c6af2d1ccaf6fd50",name:"story/cn/story14.xml"},{bytes:1673,md5:"33e0a4fc7cde9310cb340933b64c29e5",name:"story/cn/story15.xml"},{bytes:1847,md5:"1affa022e67bd37a7ecae656206bc168",name:"story/cn/story2.xml"},{bytes:1639,md5:"4f0203cda7037c5d76fd146dcf50fbdd",name:"story/cn/story3.xml"},{bytes:1425,md5:"900f82d622239aa2fd43228a92726d4e",name:"story/cn/story4.xml"},{bytes:1521,md5:"2b98fa6bba89374590a5929adfae69a0",
name:"story/cn/story5.xml"},{bytes:1811,md5:"4ab071ab61d8fd800198bcb1a07c1f01",name:"story/cn/story6.xml"},{bytes:1937,md5:"4aa325e92d3a542c6a27ac7b283dd8e7",name:"story/cn/story7.xml"},{bytes:2056,md5:"cc025a968cf9e85a34a2b36b565b07a9",name:"story/cn/story8.xml"},{bytes:1730,md5:"7e44ea32c2fc873fd7332bfdae20a8fd",name:"story/cn/story9.xml"},{bytes:1685,md5:"1f9f0bb1e5f0e77015018821f57505db",name:"story/en/story1.xml"},{bytes:1676,md5:"d1e1ad8df0c3f0ad1583e00c1df1ecc9",name:"story/en/story10.xml"},
{bytes:1812,md5:"09de0e0e6ad94e3bf80359abc98d6c36",name:"story/en/story11.xml"},{bytes:2399,md5:"0fca675613214086eee6847e3b70dff3",name:"story/en/story12.xml"},{bytes:2259,md5:"c21be954478aa455411ef24e47d8c694",name:"story/en/story13.xml"},{bytes:2059,md5:"f04f76ddfa400039c6f48dd6af2f57ca",name:"story/en/story14.xml"},{bytes:1824,md5:"d65ebe842840165844034d3dc5970d68",name:"story/en/story15.xml"},{bytes:1985,md5:"d8d4ab0fbfee779ff802f923a8f2737f",name:"story/en/story2.xml"},{bytes:1788,md5:"527e43912dd46e3be72058fe203bdc89",
name:"story/en/story3.xml"},{bytes:1554,md5:"0ca786185f58da548b63a01831807e08",name:"story/en/story4.xml"},{bytes:1661,md5:"673b808d231d23c131acda36903d99d7",name:"story/en/story5.xml"},{bytes:1984,md5:"449917975eaa8e2925cc523c24da9604",name:"story/en/story6.xml"},{bytes:2121,md5:"40d68a0eebed086a8db4c7e9f6e1c5a1",name:"story/en/story7.xml"},{bytes:2250,md5:"365067ed98391cc8ce4caea9018b94ca",name:"story/en/story8.xml"},{bytes:1892,md5:"92ab702820dd92dda465610874f691a4",name:"story/en/story9.xml"},
{bytes:1540,md5:"140c6ff21ff187e0b9a297d49f43e022",name:"story/la/story1.xml"},{bytes:1536,md5:"d8ddb7bd7f449a97cc418ea8b180a8cc",name:"story/la/story10.xml"},{bytes:1661,md5:"8cf6db6cabee5a43305b6057242879f0",name:"story/la/story11.xml"},{bytes:2193,md5:"a8bdeb7224c7d64c4055d66247930e48",name:"story/la/story12.xml"},{bytes:2064,md5:"ee839a5a36953921a0ba78e69acb16e9",name:"story/la/story13.xml"},{bytes:1886,md5:"c2763e903440b472c6af2d1ccaf6fd50",name:"story/la/story14.xml"},{bytes:1673,md5:"33e0a4fc7cde9310cb340933b64c29e5",
name:"story/la/story15.xml"},{bytes:1847,md5:"1affa022e67bd37a7ecae656206bc168",name:"story/la/story2.xml"},{bytes:1639,md5:"4f0203cda7037c5d76fd146dcf50fbdd",name:"story/la/story3.xml"},{bytes:1425,md5:"900f82d622239aa2fd43228a92726d4e",name:"story/la/story4.xml"},{bytes:1521,md5:"2b98fa6bba89374590a5929adfae69a0",name:"story/la/story5.xml"},{bytes:1811,md5:"4ab071ab61d8fd800198bcb1a07c1f01",name:"story/la/story6.xml"},{bytes:1937,md5:"4aa325e92d3a542c6a27ac7b283dd8e7",name:"story/la/story7.xml"},
{bytes:2056,md5:"cc025a968cf9e85a34a2b36b565b07a9",name:"story/la/story8.xml"},{bytes:1730,md5:"7e44ea32c2fc873fd7332bfdae20a8fd",name:"story/la/story9.xml"},{bytes:1522,md5:"01ba18e2f15b0da828256c18d57ec047",name:"story/ru/story1.xml"},{bytes:1536,md5:"d8ddb7bd7f449a97cc418ea8b180a8cc",name:"story/ru/story10.xml"},{bytes:1661,md5:"8cf6db6cabee5a43305b6057242879f0",name:"story/ru/story11.xml"},{bytes:2193,md5:"a8bdeb7224c7d64c4055d66247930e48",name:"story/ru/story12.xml"},{bytes:2064,md5:"ee839a5a36953921a0ba78e69acb16e9",
name:"story/ru/story13.xml"},{bytes:1886,md5:"c2763e903440b472c6af2d1ccaf6fd50",name:"story/ru/story14.xml"},{bytes:1673,md5:"33e0a4fc7cde9310cb340933b64c29e5",name:"story/ru/story15.xml"},{bytes:1847,md5:"1affa022e67bd37a7ecae656206bc168",name:"story/ru/story2.xml"},{bytes:1639,md5:"4f0203cda7037c5d76fd146dcf50fbdd",name:"story/ru/story3.xml"},{bytes:1425,md5:"900f82d622239aa2fd43228a92726d4e",name:"story/ru/story4.xml"},{bytes:1521,md5:"2b98fa6bba89374590a5929adfae69a0",name:"story/ru/story5.xml"},
{bytes:1811,md5:"4ab071ab61d8fd800198bcb1a07c1f01",name:"story/ru/story6.xml"},{bytes:1937,md5:"4aa325e92d3a542c6a27ac7b283dd8e7",name:"story/ru/story7.xml"},{bytes:2056,md5:"cc025a968cf9e85a34a2b36b565b07a9",name:"story/ru/story8.xml"},{bytes:1730,md5:"7e44ea32c2fc873fd7332bfdae20a8fd",name:"story/ru/story9.xml"},{bytes:1540,md5:"140c6ff21ff187e0b9a297d49f43e022",name:"story/sc/story1.xml"},{bytes:1536,md5:"d8ddb7bd7f449a97cc418ea8b180a8cc",name:"story/sc/story10.xml"},{bytes:1661,md5:"8cf6db6cabee5a43305b6057242879f0",
name:"story/sc/story11.xml"},{bytes:2193,md5:"a8bdeb7224c7d64c4055d66247930e48",name:"story/sc/story12.xml"},{bytes:2064,md5:"ee839a5a36953921a0ba78e69acb16e9",name:"story/sc/story13.xml"},{bytes:1886,md5:"c2763e903440b472c6af2d1ccaf6fd50",name:"story/sc/story14.xml"},{bytes:1673,md5:"33e0a4fc7cde9310cb340933b64c29e5",name:"story/sc/story15.xml"},{bytes:1847,md5:"1affa022e67bd37a7ecae656206bc168",name:"story/sc/story2.xml"},{bytes:1639,md5:"4f0203cda7037c5d76fd146dcf50fbdd",name:"story/sc/story3.xml"},
{bytes:1425,md5:"900f82d622239aa2fd43228a92726d4e",name:"story/sc/story4.xml"},{bytes:1521,md5:"2b98fa6bba89374590a5929adfae69a0",name:"story/sc/story5.xml"},{bytes:1811,md5:"4ab071ab61d8fd800198bcb1a07c1f01",name:"story/sc/story6.xml"},{bytes:1937,md5:"4aa325e92d3a542c6a27ac7b283dd8e7",name:"story/sc/story7.xml"},{bytes:2056,md5:"cc025a968cf9e85a34a2b36b565b07a9",name:"story/sc/story8.xml"},{bytes:1730,md5:"7e44ea32c2fc873fd7332bfdae20a8fd",name:"story/sc/story9.xml"},{bytes:6860,md5:"1bfb91a4db0e29b18371435a423e030f",
name:"translation_cn.xml"},{bytes:7253,md5:"38c0e4f452a0004a08a7766606b5b708",name:"translation_en.xml"},{bytes:6860,md5:"1bfb91a4db0e29b18371435a423e030f",name:"translation_la.xml"},{bytes:6860,md5:"1bfb91a4db0e29b18371435a423e030f",name:"translation_ru.xml"},{bytes:6860,md5:"1bfb91a4db0e29b18371435a423e030f",name:"translation_sc.xml"}]}]}};$a._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();
q._scratchPoint=new Cb;Sb.NEWLINE=new gd(10);ib._sharedEvent=new gg;Ra._sharedEvent=new hg;za._sharedEvent=new ig;dc.CANVAS_TEXTURES=(new tb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);P._mediaRefCount=0;P._detectBlobSupport=!0;I.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];I.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new tb("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);Q._detectSupport=!0;eb._scratchMatrix=new ab;lc.SCALE=1;Ma.BASE_URL="";Sa.isPaused=!1;Sa.baseUrl=
"";v.currentLevelNumber=0;v.highestLevelNumber=15;v.lastUnlockedNumber=0;v.accessedFromChapterSelect=!1;v.browsingToLeft=!1;v.firstTime=!0;Fa.IDLE="bear_idle";Fa.INTERACT="bear_interact";Fa.ROAR="bear_roar";Fa.WALK="bear_walk";zb.RIGHT_LIMIT=0.8;ga.BUNNY="rabbit_spawn_loop";ga.FOX="fox_spawn_loop";ga.TURTLE="turtle_spawn_loop";ga.DUCK="duck_spawn_loop";ga.DEER="moose_spawn_loop";ga.RAIN="rain";ga.STORM="lightning_strike";Va.TRIP="trip_bgm";Va.SPEEDUP="turtle_speed_up";Va.STARTING_PISTOL="starting_pistol_02";
Va.LAUGH="cartoon_laugh";Yb.SCROLL_SPEED=0.05;oc.SURPRISED="raccoon_jump";ya.WAITING="racoon_waiting_for_gift";ya.REJECT="racoon_rejects";ya.JUMP="racoon_jump2";ya.EXCITED="racoon_excited";ya.RECIEVE="racoon_recieve_gift";ya.RUN="racoon_run_with_gift";Wa.DUCK="duck_spawn";Wa.BEAVER="beaver_spawn";Wa.HIGH_FIVE="high-five";qc.SCARED="foop_scared";Ka.ASSET_PATH="chapter_2/animations";Ka.END="clock_intro_end";Ka.INTRO="clock_intro";Ka.LOOP="clock_dialog_static";Mb.CANDY_FOR_MONKEY="sadmonkey_banana";
Mb.CANDY_FOR_CHLOE="candy_banana";Pa.SAD_IDLE="sadmonkey_idle";Pa.SAD_JUMPS_AWAY="sadmonkey_jumps_away";Pa.SAD_TAKES_BANANA="sadmonkey_takes_banana";Pa.SAD_TAKES_TOY="sadmonkey_takes_toy";Pa.SMILE="sadmonkey_smiles";gb.ARROW_RELEASE="chloe_arrowrelease";gb.BOW_PULL="chloe_bowpull";gb.OWL_SCARED="owl_scared";gb.OWL_SPAWN="owl_spawn";wb.USE_CACHE=!1;wb.USE_ENUM_INDEX=!1;wb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Ha.DEFAULT_RESOLVER=aa;Ha.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";
uc.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";uc.BYTES=nb.ofString(uc.CHARS);ac.count=0;Ab.escapes=function(){var a=new S;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);W.REDIRECT_URL="";W.DOMAIN_LIST=[];W.REDIRECT_DELAY=3E4;W.GET_DOMAINS_DELAY=3E3;Da.output_event_array=[];Qg.main()})();
